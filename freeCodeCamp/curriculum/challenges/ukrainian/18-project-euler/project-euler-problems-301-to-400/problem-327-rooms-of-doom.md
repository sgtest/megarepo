---
id: 5900f4b31000cf542c50ffc6
title: 'Завдання 327: кімнати страху'
challengeType: 1
forumTopicId: 301984
dashedName: problem-327-rooms-of-doom
---

# --description--

Три кімнати з’єднані між собою автоматичними дверима.

<img class="img-responsive center-block" alt="три кімнати, з’єднані між собою автоматичними дверима" src="https://cdn.freecodecamp.org/curriculum/project-euler/rooms-of-doom.gif" style="background-color: white; padding: 10px;" />

Кожні двері керуються карткою доступу. Щойно ви заходите в кімнату, двері автоматично зачиняються, і картка доступу не може бути використана знову. На старті автомат видає необмежену кількість карток, але в кожній кімнаті (включно зі стартовою кімнатою) є сканери. Якщо вони виявляють, що ви маєте більше ніж три картки, або якщо сканери помітять картку доступу на підлозі, всі двері зачиняться назавжди. Проте в кожній кімнаті містяться ящики, в яких можна безпечно зберігати будь-яку кількість карток, які можуть бути використані пізніше.

Якби ви спробували пройти всі кімнати по черзі, то в кімнаті №3 ви б використали усі три картки та залишись в пастці назавжди!

Однак, якщо ви використаєте ящики для зберігання, то втеча буде можливою. Наприклад, ви можете увійти в кімнату №1, використовуючи першу картку, розмістити одну картку в ящику для зберігання та використати третю картку для того, щоб повернутись на старт. Потім, взявши в автоматі ще три картки, ви можете використати одну картку, щоб увійти в кімнату №1 та забрати картку з ящика. Тепер у вас знову є три картки і ви зможете пройти крізь три двері, що залишилися. Цей спосіб дозволяє вам пройти всі три кімнати, використавши шість карток доступу.

Можна пройти шість кімнат, використавши загалом 123 картки доступу, при тому, що при собі можна мати максимум 3.

Нехай $C$ буде максимальною кількістю карток, які можна мати з собою в будь-який час.

Нехай $R$ буде кількістю кімнат, через які потрібно пройти.

Нехай $M(C, R)$ буде мінімальною кількістю карток, які необхідно взяти в автоматі, щоб пройти $R$ кімнат, маючи з собою $C$ карток.

Наприклад, $M(3, 6) = 123$ та $M(4, 6) = 23$.

Та $\sum M(C, 6) = 146$ за умови $3 ≤ C ≤ 4$.

Дано, що $\sum M(C, 10) = 10382$ за умови $3 ≤ C ≤ 10$.

Знайдіть $\sum M(C, 30)$ за умови $3 ≤ C ≤ 40$.

# --hints--

`roomsOfDoom()` має повернути `34315549139516`.

```js
assert.strictEqual(roomsOfDoom(), 34315549139516);
```

# --seed--

## --seed-contents--

```js
function roomsOfDoom() {

  return true;
}

roomsOfDoom();
```

# --solutions--

```js
// solution required
```
