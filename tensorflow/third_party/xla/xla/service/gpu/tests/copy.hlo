// RUN: hlo_to_llvm_ir %s | FileCheck %{IR_SUBST} %s

// NOTE: Assertions have been autogenerated by utils/generate-test-checks.py

// The script is designed to make adding checks to
// a test case fast, it is *not* designed to be authoritative
// about what constitutes a good test! The CHECK should be
// minimized and named to reflect the test intent.


// CHECK:         call void [[BARRIER]]

HloModule Test, is_scheduled=true


fused_computation {
  param_0 = f32[100,200]{1,0} parameter(0)
  ROOT b.1 = f32[100,200]{0,1} copy(f32[100,200]{1,0} param_0)
}

ENTRY main {
  a = f32[100, 200]{1,0} parameter(0)
  ROOT wrapped_b = f32[100,200]{0,1} fusion(f32[100,200]{1,0} a), kind=kInput, calls=fused_computation
}
