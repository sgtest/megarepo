{"TrackingIssues":[{"ID":"MDU6SXNzdWU2OTY5MDUwMTc=","Title":"RFC 215: Improving User Feedback Channels Tracking Issue","Body":"Tracking issue for [RFC 215: Improving User Feedback Channels](https://docs.google.com/document/d/1mn3AxOMLM_ivu-mfWa3VAXyJnmX4WFInREdB2kI_g6o/edit#heading=h.trqab8y0kufp).\r\n\r\n### Tracked issues\r\n\r\n\u003c!-- BEGIN WORK --\u003e\u003c!-- END WORK --\u003e\r\n\r\n#### Legend\r\n\r\n- 👩 Customer issue\r\n- 🐛 Bug\r\n- 🧶 Technical debt\r\n- 🎩 Quality of life\r\n- 🛠️ [Roadmap](https://docs.google.com/document/d/1cBsE9801DcBF9chZyMnxRdolqM_1c2pPyGQz15QAvYI/edit#heading=h.5nwl5fv52ess)\r\n- 🕵️ [Spike](https://en.wikipedia.org/wiki/Spike_(software_development))\r\n- 🔒 Security issue\r\n- :shipit: Pull Request","Number":13723,"URL":"https://github.com/sourcegraph/sourcegraph/issues/13723","State":"OPEN","Repository":"sourcegraph/sourcegraph","Private":false,"Labels":["RFC-215","tracking"],"Assignees":null,"Milestone":"","Author":"quinnkeast","CreatedAt":"2020-09-09T15:17:32Z","UpdatedAt":"0001-01-01T00:00:00Z","ClosedAt":"0001-01-01T00:00:00Z"},{"ID":"MDU6SXNzdWU2NjE3MzE3OTc=","Title":"Campaigns 3.19 Tracking issue","Body":"### Goal\r\n\r\n**Release the [new spec-based campaigns workflow](https://docs.sourcegraph.com/@campaigns-new-flow/user/campaigns/hello_world_campaign) behind a feature flag for site-admins and non-site-admins.**\r\n\r\nAfter Quinn designed the new campaigns workflow in the past two iterations in [#10921](https://github.com/sourcegraph/sourcegraph/pull/10921) we finished the API design and conceptual work in the last iteration and are now ready to implement the complete workflow. Since @eseliger and @mrnugget already started the implementation in 3.18, our goal for this iteration is to finish the implementation and release the new campaigns workflow to customers.\r\n\r\nWe are going to work on this single goal together as a team. @eseliger will be working on the frontend. After finishing GitLab support by implementing webhook support, @LawnGnome will first focus on the `src-cli` side and then join @mrnugget in implementing the missing pieces in the backend. We anticipate that the first half of the iteration will be spent working on well-defined tasks and the second half on polishing and bugfixing.\r\n\r\nWe also want to combine the release of the new workflow with the loosening of the campaigns feature-flag: instead of campaigns only being fully available to site-admins and in a read-only mode to users, we want to make keep the feature flag but, when enabled, make campaigns available to all users of a Sourcegraph instance.\r\n\r\nCampaigns will still be marked as \"beta\", since we don't feel confident to go out of beta with the first release of the new workflow (that included major changes to large parts of our codebase). But the aim is that 3.19 will be the last release with campaigns as a beta feature and should be considered more of a \"release candidate\" than a beta. \r\n\r\n### Availability\r\n\r\nPeriod is from July 20th to August 19th (23 working days). Please write the days you won't be working and the number of working days for the period.\r\n\r\n**NOTE**: This iteration will also include Q3 planning and a new 360 review cycle.\r\n\r\n- @mrnugget: 19d (on vacation: 12.-17. August)\r\n- @eseliger: 23d\r\n- @LawnGnome: 22d (BC Day 3rd August)\r\n\r\n### Tracked issues\r\n\r\n\u003c!-- BEGIN WORK --\u003e\n\u003c!-- BEGIN ASSIGNEE: LawnGnome --\u003e\n@LawnGnome: __7.00d__\n\n- [ ] ~campaigns: GitLab integration tests~ ([#12219](https://github.com/sourcegraph/sourcegraph/issues/12219)) __2d__ 🧶\n\nCompleted: __7.00d__\n- [x] (🏁 63 days ago) Add GitLab to the list of supported hosts ([#249](https://github.com/sourcegraph/src-cli/pull/249)) :shipit:\n- [x] (🏁 57 days ago) schema: allow personal repos on Bitbucket Server ([#12504](https://github.com/sourcegraph/sourcegraph/pull/12504)) :shipit:🐛\n- [x] (🏁 55 days ago) doc: make webhook configuration consistent ([#12529](https://github.com/sourcegraph/sourcegraph/pull/12529)) :shipit:\n- [x] (🏁 50 days ago) campaigns: GitLab webhook support ([~#12171~](https://github.com/sourcegraph/sourcegraph/issues/12171)) __2d__ \n- [x] (🏁 40 days ago) Write a migration that deletes all existing campaigns/changesets when upgrading to 3.19 ([~#12641~](https://github.com/sourcegraph/sourcegraph/issues/12641)) \n- [x] (🏁 40 days ago) Allow customers to export their campaigns before upgrading to 3.19 ([~#12640~](https://github.com/sourcegraph/sourcegraph/issues/12640)) \n- [x] (🏁 40 days ago) campaigns: migrate to allow changeset spec user IDs to be NULL ([#13020](https://github.com/sourcegraph/sourcegraph/pull/13020)) :shipit:🐛\n- [x] (🏁 36 days ago) campaigns: patch changeset IDs when migrating ([#13111](https://github.com/sourcegraph/sourcegraph/pull/13111)) :shipit:\n- [x] (🏁 35 days ago) src-cli: Implement new campaigns workflow ([~#12333~](https://github.com/sourcegraph/sourcegraph/issues/12333); PRs: ~[#258](https://github.com/sourcegraph/src-cli/pull/258)~) __5d__ \n- [x] (🏁 35 days ago) Add CLI option to update a campaign ([~#11350~](https://github.com/sourcegraph/sourcegraph/issues/11350)) \n\u003c!-- END ASSIGNEE --\u003e\n\n\u003c!-- BEGIN ASSIGNEE: Unassigned --\u003e\n@Unassigned: __2.50d__\n\n\nCompleted: __2.50d__\n- [x] (🏁 55 days ago) Implement API to return all involved unsers in a campaign ([~#12566~](https://github.com/sourcegraph/sourcegraph/issues/12566)) __1d__ \n- [x] (🏁 55 days ago) Implement campaignForSpec query resolver ([~#12567~](https://github.com/sourcegraph/sourcegraph/issues/12567)) __1d__ \n- [x] (🏁 48 days ago) Implement GraphQL API that allows to fetch campaigns by namespace ([~#12563~](https://github.com/sourcegraph/sourcegraph/issues/12563)) __0.5d__ \n- [x] (🏁 48 days ago) Migrate existing campaigns' names to the new slug-like format ([~#12649~](https://github.com/sourcegraph/sourcegraph/issues/12649)) \n\u003c!-- END ASSIGNEE --\u003e\n\n\u003c!-- BEGIN ASSIGNEE: chrispine --\u003e\n@chrispine\n\n\nCompleted\n- [x] (🏁 44 days ago) Remove Campaign.Branch field ([~#12735~](https://github.com/sourcegraph/sourcegraph/issues/12735)) \n\u003c!-- END ASSIGNEE --\u003e\n\n\u003c!-- BEGIN ASSIGNEE: eseliger --\u003e\n@eseliger: __8.50d__\n\n- [ ] ~Design a GraphQL API that allows us to filter changesets via the textbox~ ([#12471](https://github.com/sourcegraph/sourcegraph/issues/12471)) \n\nCompleted: __8.50d__\n- [x] (🏁 56 days ago) Decompose and/or add more tests for CampaignDetails ([~#10896~](https://github.com/sourcegraph/sourcegraph/issues/10896)) 🧶\n- [x] (🏁 55 days ago) Design a GraphQL API that allows us to make use of the cached diff stats on ChangesetSpecs and Changesets ([~#12464~](https://github.com/sourcegraph/sourcegraph/issues/12464)) \n- [x] (🏁 55 days ago) Design a GraphQL API that allows us to list campaigns on user and organization pages ([~#12470~](https://github.com/sourcegraph/sourcegraph/issues/12470)) \n- [x] (🏁 55 days ago) Design the GraphQL API needed to show all users involved in a campaign ([~#12465~](https://github.com/sourcegraph/sourcegraph/issues/12465)) \n- [x] (🏁 51 days ago) Persist \u0026 accept changeset filter params in the URL ([~#12472~](https://github.com/sourcegraph/sourcegraph/issues/12472)) \n- [x] (🏁 49 days ago) ChangesetConnectionResolver.PageInfo needs to respect repository permissions ([~#12764~](https://github.com/sourcegraph/sourcegraph/issues/12764)) __0.5d__ \n- [x] (🏁 48 days ago) Design a GraphQL API that would allow us to show either the \"Update campaign\" or \"Create campaign\" button on the apply page ([~#12468~](https://github.com/sourcegraph/sourcegraph/issues/12468)) \n- [x] (🏁 38 days ago) Frontend: New campaigns flow ([~#10986~](https://github.com/sourcegraph/sourcegraph/issues/10986)) __8d__ \n- [x] (🏁 31 days ago) ~Replace \"automation\" feature flag with \"campaigns\" toggle and remove configuration flags~ ([~#10713~](https://github.com/sourcegraph/sourcegraph/issues/10713); PRs: ~[#11621](https://github.com/sourcegraph/sourcegraph/pull/11621)~, ~[#11621](https://github.com/sourcegraph/sourcegraph/pull/11621)~) __1d__ 🛠️\n- [x] (🏁 today) ~campaigns: cancelled GitLab pipelines don't take check state out of pending~ ([~#12667~](https://github.com/sourcegraph/sourcegraph/issues/12667)) __1d__ 🐛\n\u003c!-- END ASSIGNEE --\u003e\n\n\u003c!-- BEGIN ASSIGNEE: mrnugget --\u003e\n@mrnugget: __13.00d__\n\n\nCompleted: __13.00d__\n- [x] (🏁 66 days ago) Another set of small follow-ups after introducing ExternalChangesetState ([#12330](https://github.com/sourcegraph/sourcegraph/pull/12330)) :shipit:\n- [x] (🏁 65 days ago) Check namespace perms in CreateCampaignSpec/MoveCampaign ([#12362](https://github.com/sourcegraph/sourcegraph/pull/12362)) :shipit:\n- [x] (🏁 64 days ago) Drop old campaigns tables and add missing columns ([#12388](https://github.com/sourcegraph/sourcegraph/pull/12388)) :shipit:\n- [x] (🏁 51 days ago) Implement ApplyCampaign and changeset reconciler ([#12435](https://github.com/sourcegraph/sourcegraph/pull/12435)) :shipit:\n- [x] (🏁 51 days ago) Backend: New campaign flow ([~#10985~](https://github.com/sourcegraph/sourcegraph/issues/10985); PRs: ~[#11675](https://github.com/sourcegraph/sourcegraph/pull/11675)~) __12d__ \n- [x] (🏁 51 days ago) Change testChangesetResponse in permissions_test.go to include publication status, error and reconciler state ([~#12647~](https://github.com/sourcegraph/sourcegraph/issues/12647)) \n- [x] (🏁 50 days ago) Creating larger campaigns using src-cli fails with 413 ([~#9202~](https://github.com/sourcegraph/sourcegraph/issues/9202)) __0.5d__ 🐛\n- [x] (🏁 49 days ago) Implement the changesetsConnectionStatsResolver ([~#12642~](https://github.com/sourcegraph/sourcegraph/issues/12642); PRs: ~[#12753](https://github.com/sourcegraph/sourcegraph/pull/12753)~) \n- [x] (🏁 49 days ago) Implement missing methods in changesetResolver ([~#12646~](https://github.com/sourcegraph/sourcegraph/issues/12646); PRs: ~[#12753](https://github.com/sourcegraph/sourcegraph/pull/12753)~) \n- [x] (🏁 49 days ago) Replace commented-out portion of TestCampaigns in resolvers/resolver_test.go with more extensive test that tests ApplyCampaign ([~#12648~](https://github.com/sourcegraph/sourcegraph/issues/12648); PRs: ~[#12753](https://github.com/sourcegraph/sourcegraph/pull/12753)~) \n- [x] (🏁 49 days ago) Do not expire the PreviousChangesetSpec of a changeset ([~#12763~](https://github.com/sourcegraph/sourcegraph/issues/12763)) \n- [x] (🏁 48 days ago) Implement the \"processing?\" checks in CloseCampaign/DeleteCampaign ([~#12643~](https://github.com/sourcegraph/sourcegraph/issues/12643)) \n- [x] (🏁 45 days ago) Implement combined diff stat on changesetspec resolver ([~#12564~](https://github.com/sourcegraph/sourcegraph/issues/12564)) __0.5d__ \n- [x] (🏁 45 days ago) Change campaign/campaignSpec URLs to include namespace and fit new schema ([~#12473~](https://github.com/sourcegraph/sourcegraph/issues/12473)) \n- [x] (🏁 45 days ago) Implement the createCampaign mutation and necessary API fields ([~#12469~](https://github.com/sourcegraph/sourcegraph/issues/12469)) \n- [x] (🏁 44 days ago) Record enough information on a campaign to return all involved users in a campaign ([~#12467~](https://github.com/sourcegraph/sourcegraph/issues/12467)) \n- [x] (🏁 31 days ago) ~Replace \"automation\" feature flag with \"campaigns\" toggle and remove configuration flags~ ([~#10713~](https://github.com/sourcegraph/sourcegraph/issues/10713); PRs: ~[#11621](https://github.com/sourcegraph/sourcegraph/pull/11621)~, ~[#11621](https://github.com/sourcegraph/sourcegraph/pull/11621)~) __1d__ 🛠️\n- [x] (🏁 22 days ago) ~Allow retrying of errored changesets~ ([~#12700~](https://github.com/sourcegraph/sourcegraph/issues/12700)) __4d__ \n\u003c!-- END ASSIGNEE --\u003e\n\u003c!-- END WORK --\u003e\r\n\r\n#### Legend\r\n\r\n- 👩 Customer issue\r\n- 🐛 Bug\r\n- 🧶 Technical debt\r\n- 🛠️ [Roadmap](https://docs.google.com/document/d/1cBsE9801DcBF9chZyMnxRdolqM_1c2pPyGQz15QAvYI/edit#heading=h.5nwl5fv52ess)\r\n- 🕵️ [Spike](https://en.wikipedia.org/wiki/Spike_(software_development))\r\n- 🔒 Security issue\r\n- :shipit: Pull Request\r\n","Number":12328,"URL":"https://github.com/sourcegraph/sourcegraph/issues/12328","State":"CLOSED","Repository":"sourcegraph/sourcegraph","Private":false,"Labels":["team/campaigns","tracking"],"Assignees":["mrnugget"],"Milestone":"3.19","Author":"mrnugget","CreatedAt":"2020-07-20T11:53:00Z","UpdatedAt":"0001-01-01T00:00:00Z","ClosedAt":"2020-09-24T17:52:45Z"},{"ID":"MDU6SXNzdWU2MjA2OTA1NjI=","Title":"Search: 3.17 Tracking issue","Body":"### Status\r\n\r\nCompleted.\r\n\r\n### Availability\r\n\r\nPeriod is from **May 21st** to **June 19**. Please write the days you won't be working and the number of working days for the period.\r\n\r\n- Farhan: 21d (out May 25)\r\n- Rijnard: working all days (how many work days are there in this period?)\r\n- Teammate ...\r\n\r\n### Workload\r\n\r\n\u003c!-- BEGIN WORK --\u003e\r\n\u003c!-- BEGIN ASSIGNEE: asdine --\u003e\r\n@asdine\r\n\r\n- [ ] More efficient and-operator evaluation [#11281](https://github.com/sourcegraph/sourcegraph/issues/11281) \r\n- [x] Lift 14-character limit on version context names [#11591](https://github.com/sourcegraph/sourcegraph/issues/11591) \r\n\u003c!-- END ASSIGNEE --\u003e\r\n\r\n\u003c!-- BEGIN ASSIGNEE: attfarhan --\u003e\r\n@attfarhan: __2.50d__\r\n\r\n- [x] version contexts feedback: include warning when URL changes context [#10769](https://github.com/sourcegraph/sourcegraph/issues/10769) __1d__ \r\n- [x] Question mark button doesn't do anything on version context popup [#10781](https://github.com/sourcegraph/sourcegraph/issues/10781) __0.5d__ 🐛\r\n- [x] Hide 'Select context' placeholder label after first use [#10877](https://github.com/sourcegraph/sourcegraph/issues/10877) __1d__ \r\n\u003c!-- END ASSIGNEE --\u003e\r\n\r\n\u003c!-- BEGIN ASSIGNEE: keegancsmith --\u003e\r\n@keegancsmith\r\n\r\n- [ ] ~Index multiple (non-master) branches~ [#6728](https://github.com/sourcegraph/sourcegraph/issues/6728) __10d__ [👩](https://app.hubspot.com/contacts/2762526/company/554338610)\r\n- [x] errors seen in indexed-search on bigdata cluster with 250k repos [#11200](https://github.com/sourcegraph/sourcegraph/issues/11200) \r\n\u003c!-- END ASSIGNEE --\u003e\r\n\r\n\u003c!-- BEGIN ASSIGNEE: rvantonder --\u003e\r\n@rvantonder: __9.50d__\r\n\r\n- [x] Improve documentation for and/or queries [#9969](https://github.com/sourcegraph/sourcegraph/issues/9969) __1.5d__ 🛠️\r\n- [x] Propose and implement and/or queries in literal search [#9968](https://github.com/sourcegraph/sourcegraph/issues/9968) __2d__ 🛠️\r\n- [x] Add integration tests for and/or queries [#9937](https://github.com/sourcegraph/sourcegraph/issues/9937) __2d__ 🧶\r\n- [x] Refine and/or query validation for different searches [#9971](https://github.com/sourcegraph/sourcegraph/issues/9971) __2d__ \r\n- [x] search: unquote field values for validation [#9818](https://github.com/sourcegraph/sourcegraph/issues/9818) __2d__ 🧶\r\n\u003c!-- END ASSIGNEE --\u003e\r\n\u003c!-- END WORK --\u003e\r\n\r\n#### Legend\r\n\r\n- 👩 Customer issue\r\n- 🐛 Bug\r\n- 🧶 Technical debt\r\n- 🛠️ [Roadmap](https://docs.google.com/document/d/1cBsE9801DcBF9chZyMnxRdolqM_1c2pPyGQz15QAvYI/edit#heading=h.5nwl5fv52ess)\r\n- 🕵️ [Spike](https://en.wikipedia.org/wiki/Spike_(software_development))\r\n- 🔒 Security issue\r\n- :shipit: Pull Request\r\n","Number":10805,"URL":"https://github.com/sourcegraph/sourcegraph/issues/10805","State":"CLOSED","Repository":"sourcegraph/sourcegraph","Private":false,"Labels":["team/search","tracking"],"Assignees":null,"Milestone":"3.17","Author":"attfarhan","CreatedAt":"2020-05-19T05:31:52Z","UpdatedAt":"0001-01-01T00:00:00Z","ClosedAt":"2020-06-22T06:07:40Z"},{"ID":"MDU6SXNzdWU2Mzk2OTMyOTY=","Title":"RFC 159: Stage 1 - repository group pages tracking issue","Body":"Tracks work on [RFC 159](https://docs.google.com/document/d/16ANfXRaJmsiYCPZSPlyAc8Zu-sY6plO6_eRDZ09C_SY/edit#heading=h.trqab8y0kufp)\r\n\r\n\u003c!-- BEGIN WORK --\u003e\n\u003c!-- BEGIN ASSIGNEE: attfarhan --\u003e\n@attfarhan: __10.50d__\n\n\nCompleted: __10.50d__\n- [x] (🏁 106 days ago) RFC 159 Visual UI Design  ([~#11529~](https://github.com/sourcegraph/sourcegraph/issues/11529)) \n- [x] (🏁 105 days ago) Wireframes final review ([~#11513~](https://github.com/sourcegraph/sourcegraph/issues/11513)) \n- [x] (🏁 93 days ago) Build MVP home page improvements ([~#11555~](https://github.com/sourcegraph/sourcegraph/issues/11555)) \n- [x] (🏁 93 days ago) Create MVP repository group template page ([~#11537~](https://github.com/sourcegraph/sourcegraph/issues/11537)) \n- [x] (🏁 82 days ago) Add Google Analytics event tracking to cloud deployments ([~#11700~](https://github.com/sourcegraph/sourcegraph/issues/11700)) \n- [x] (🏁 75 days ago) Add CTAs and what cloud searches message ([~#11799~](https://github.com/sourcegraph/sourcegraph/issues/11799)) \n- [x] (🏁 72 days ago) Log 3 click events for new features on Search Homepage and Repo Page ([~#12356~](https://github.com/sourcegraph/sourcegraph/issues/12356)) __0.5d__ \n- [x] (🏁 45 days ago) Tour implementation ([~#12137~](https://github.com/sourcegraph/sourcegraph/issues/12137)) __10d__ \n\u003c!-- END ASSIGNEE --\u003e\n\n\u003c!-- BEGIN ASSIGNEE: christinaforney --\u003e\n@christinaforney\n\n- [ ] RFC 159: Stage 1 - repository group pages tracking issue ([#11526](https://github.com/sourcegraph/sourcegraph/issues/11526)) \n- [ ] Default search scope ([#10621](https://github.com/sourcegraph/sourcegraph/issues/10621)) \n- [ ] Add 'what is searched' message to cloud homepage ([#11698](https://github.com/sourcegraph/sourcegraph/issues/11698)) \n- [ ] Adding more custom search pages ([#11920](https://github.com/sourcegraph/sourcegraph/pull/11920)) :shipit:\n\nCompleted\n- [x] (🏁 106 days ago) RFC 159 Visual UI Design  ([~#11529~](https://github.com/sourcegraph/sourcegraph/issues/11529)) \n- [x] (🏁 105 days ago) Wireframes final review ([~#11513~](https://github.com/sourcegraph/sourcegraph/issues/11513)) \n- [x] (🏁 86 days ago) Edits to search examples pages ([~#12057~](https://github.com/sourcegraph/sourcegraph/issues/12057); PRs: ~[#12084](https://github.com/sourcegraph/sourcegraph/pull/12084)~) \n- [x] (🏁 82 days ago) Design enterpirse download CTAs for cloud  ([~#11725~](https://github.com/sourcegraph/sourcegraph/issues/11725)) \n- [x] (🏁 82 days ago) Build initial set of MVP repository group pages ([~#11538~](https://github.com/sourcegraph/sourcegraph/issues/11538)) \n- [x] (🏁 52 days ago) MVP repository group content curation ([~#11539~](https://github.com/sourcegraph/sourcegraph/issues/11539)) \n\u003c!-- END ASSIGNEE --\u003e\n\n\u003c!-- BEGIN ASSIGNEE: keegancsmith --\u003e\n@keegancsmith\n\n\nCompleted\n- [x] (🏁 82 days ago) search: register repogroup routes in frontend (~[#11961](https://github.com/sourcegraph/sourcegraph/pull/11961)~) :shipit:\n\u003c!-- END ASSIGNEE --\u003e\n\n\u003c!-- BEGIN ASSIGNEE: lguychard --\u003e\n@lguychard\n\n\nCompleted\n- [x] (🏁 105 days ago) Wireframes final review ([~#11513~](https://github.com/sourcegraph/sourcegraph/issues/11513)) \n\u003c!-- END ASSIGNEE --\u003e\n\n\u003c!-- BEGIN ASSIGNEE: poojaj-tech --\u003e\n@poojaj-tech\n\n- [ ] Default search scope ([#10621](https://github.com/sourcegraph/sourcegraph/issues/10621)) \n\nCompleted\n- [x] (🏁 105 days ago) Wireframes final review ([~#11513~](https://github.com/sourcegraph/sourcegraph/issues/11513)) \n- [x] (🏁 82 days ago) Build initial set of MVP repository group pages ([~#11538~](https://github.com/sourcegraph/sourcegraph/issues/11538)) \n- [x] (🏁 52 days ago) MVP repository group content curation ([~#11539~](https://github.com/sourcegraph/sourcegraph/issues/11539)) \n\u003c!-- END ASSIGNEE --\u003e\n\n\u003c!-- BEGIN ASSIGNEE: rrhyne --\u003e\n@rrhyne\n\n- [ ] Add 'what is searched' message to cloud homepage ([#11698](https://github.com/sourcegraph/sourcegraph/issues/11698)) \n\nCompleted\n- [x] (🏁 106 days ago) RFC 159 Visual UI Design  ([~#11529~](https://github.com/sourcegraph/sourcegraph/issues/11529)) \n- [x] (🏁 82 days ago) Design enterpirse download CTAs for cloud  ([~#11725~](https://github.com/sourcegraph/sourcegraph/issues/11725)) \n\u003c!-- END ASSIGNEE --\u003e\n\n\u003c!-- BEGIN ASSIGNEE: rvantonder --\u003e\n@rvantonder\n\n\nCompleted\n- [x] (🏁 89 days ago) search pages: improve various queries (~[#11939](https://github.com/sourcegraph/sourcegraph/pull/11939)~) :shipit:\n\u003c!-- END ASSIGNEE --\u003e\n\n\u003c!-- BEGIN ASSIGNEE: sqs --\u003e\n@sqs\n\n\nCompleted\n- [x] (🏁 105 days ago) Wireframes final review ([~#11513~](https://github.com/sourcegraph/sourcegraph/issues/11513)) \n\u003c!-- END ASSIGNEE --\u003e\n\u003c!-- END WORK --\u003e\r\n\r\n## Project status and roll out tasks\r\n\r\n- [ ] Notifiy marketing when feature flag is enabled\r\n","Number":11526,"URL":"https://github.com/sourcegraph/sourcegraph/issues/11526","State":"OPEN","Repository":"sourcegraph/sourcegraph","Private":false,"Labels":["RFC-159.1","tracking"],"Assignees":["christinaforney"],"Milestone":"","Author":"christinaforney","CreatedAt":"2020-06-16T14:00:54Z","UpdatedAt":"0001-01-01T00:00:00Z","ClosedAt":"0001-01-01T00:00:00Z"},{"ID":"MDU6SXNzdWU2MzY0MDU1NTM=","Title":"Code intelligence: 3.18 tracking issue","Body":"### Plan\r\n\r\nOur Q2 OKR is to increase the number of WAU of LSIF code intelligence actions.\r\n\r\nHere are the problems that we want to solve this iteration:\r\n\r\n1. Users aren't configuring repositories to upload LSIF data.\r\n\r\n    1. LSIF is a non-trivial amount of technical work to setup, which is a barrier to adoption.\r\n\r\n        **SOLUTION: Expand the number of languages and cases where we can automatically index repositories with LSIF. Use data from sourcegraph.com to determine which repositories are the source of the most search based code intel queries.**\r\n\r\n    1. Even though the technical work to setup LSIF is straightforward, we have observed that engineers who are motivated to do this work get blocked due to how their organization functions (e.g., adding stuff to CI is hard and/or requires approvals).\r\n\r\n        **SOLUTION: Make it possible to configure LSIF auto-indexing within Sourcegraph without needing to make a change to your company's CI system for common cases.**\r\n\r\n1. We have multiple customers who want precise C++ code intel and current DXP approach is not sufficient.\r\n\r\n    **SOLUTION: Ship MVP of new clangd indexer to [C1](https://app.hubspot.com/contacts/2762526/company/2931649618/), [C2](https://app.hubspot.com/contacts/2762526/company/947819054/)**\r\n\r\n1. Users don't understand that there are two kinds of code intelligence. When they encounter issues with imprecise code intel, they don't know how to enable precise code intel. When precise code intel is configured, but is unavailable for multiple possible reasons, it is not clear to the user why they are seeing imprecise code intel.\r\n\r\n    **SOLUTION: Improve hover tooltips to include more information on the state/source of code intel.**\r\n\r\n1. [C1](https://app.hubspot.com/contacts/2762526/company/464956351/) and [C2](https://app.hubspot.com/contacts/2762526/company/554275594/) are blocked from adopting LSIF because they have large repositories with high commit rates.\r\n\r\n    **SOLUTION: Design incremental indexing (start validating assumptions next month). Design scalable find-nearest queries (stretch begin implementing this month)**\r\n\r\n### Availability\r\n\r\nPeriod is from **2020-06-20** to **2020-07-20**. Please write the days you won't be working and the number of working days for the period.\r\n\r\n- Eric: 21d\r\n- Garo: 12d\r\n\r\n### Workload\r\n\r\n\u003c!-- LABEL: planning --\u003e\r\n\u003c!-- LABEL: in progress --\u003e\r\n\u003c!-- LABEL: blocked --\u003e\r\n\u003c!-- LABEL: review --\u003e\r\n\u003c!-- LABEL: not started --\u003e\r\n\u003c!-- LABEL: docs --\u003e\r\n\u003c!-- LABEL: specced --\u003e\r\n\u003c!-- LABEL: design --\u003e\r\n\u003c!-- LABEL: tracking --\u003e\r\n\u003c!-- BEGIN WORK --\u003e\n\u003c!-- BEGIN ASSIGNEE: aidaeology --\u003e\n@aidaeology\n\n- [ ] Collect regular data about code intel activity  [#11746](https://github.com/sourcegraph/sourcegraph/issues/11746) \n\u003c!-- END ASSIGNEE --\u003e\n\n\u003c!-- BEGIN ASSIGNEE: efritz --\u003e\n@efritz\n\n- [x] LSIF tree data query for repository root returns null [#11490](https://github.com/sourcegraph/sourcegraph/issues/11490) \n- [x] Deleting repos stops code intel UI from rendering [#11637](https://github.com/sourcegraph/sourcegraph/issues/11637) \n- [x] Code intelligence integration tests [#10832](https://github.com/sourcegraph/sourcegraph/issues/10832) \n- [x] Minor: Retry lsif index upload when clone is in progress [#9700](https://github.com/sourcegraph/sourcegraph/issues/9700) \n- [x] Improve Postgres backcompat check [#11797](https://github.com/sourcegraph/sourcegraph/issues/11797) \n- [x] LSIF uploads can get stuck in \"uploading\" [#11622](https://github.com/sourcegraph/sourcegraph/issues/11622) \n- [x] Enable search by repo name in code intel UI [#11638](https://github.com/sourcegraph/sourcegraph/issues/11638) \n- [x] Write RFC to support better nearest-commit queries [#11627](https://github.com/sourcegraph/sourcegraph/issues/11627) \n- [x] Clean up lsif data for deleted repos [#11696](https://github.com/sourcegraph/sourcegraph/issues/11696) \n- [x] Tune auto-index schedule heuristic [#11624](https://github.com/sourcegraph/sourcegraph/issues/11624) \n- [x] Preload precise code intel data on the client [#10869](https://github.com/sourcegraph/sourcegraph/issues/10869) `specced` \n- [x] HTTP 522 on large LSIF uploads [#11876](https://github.com/sourcegraph/sourcegraph/issues/11876) \n- [x] Hovering a symbol should highlight visible references to that symbol [#10868](https://github.com/sourcegraph/sourcegraph/issues/10868) `specced` \n- [x] Allow user to supply http headers for requests src-cli sends [#238](https://github.com/sourcegraph/src-cli/issues/238) \n- [x] Add ability to schedule repos for indexing outside of event log heuristics [#11625](https://github.com/sourcegraph/sourcegraph/issues/11625) \n- [x] Run worker jobs concurrently [#11643](https://github.com/sourcegraph/sourcegraph/issues/11643) \n- [x] Create docs page for codeintel showcase repos [#9609](https://github.com/sourcegraph/sourcegraph/issues/9609) `docs` \n- [x] Extract codeintel's background job processing into an internal library [#11786](https://github.com/sourcegraph/sourcegraph/issues/11786) \n- [x] Write RFC to horizontally scale auto-indexer [#11635](https://github.com/sourcegraph/sourcegraph/issues/11635) \n- [x] Write RFC to scale the bundle manager [#11634](https://github.com/sourcegraph/sourcegraph/issues/11634) \n- [x] Write RFC to enable additional build steps in auto-indexer [#11626](https://github.com/sourcegraph/sourcegraph/issues/11626) \n- [x] Write developer expectations for rolling deployments [#1126](https://github.com/sourcegraph/about/issues/1126) \n\u003c!-- END ASSIGNEE --\u003e\n\n\u003c!-- BEGIN ASSIGNEE: gbrik --\u003e\n@gbrik\n\n- [x] Fix incremental indexing RFC 170 [#11639](https://github.com/sourcegraph/sourcegraph/issues/11639) `planning` \n- [x] Prototype a new LSIF indexer for C++ based on clangd-indexer [#10175](https://github.com/sourcegraph/sourcegraph/issues/10175) `in progress` \n- [x] Provide convenient distribution formats for lsif-clang [#11641](https://github.com/sourcegraph/sourcegraph/issues/11641) `not started` \n- [x] Create a \"code intelligence source\" tooltip [#10925](https://github.com/sourcegraph/sourcegraph/issues/10925) `in progress` \n  - [x] Add extension API for hover alerts [#12123](https://github.com/sourcegraph/sourcegraph/pull/12123) :shipit:\n- [ ] Create a code intel user survey [#11747](https://github.com/sourcegraph/sourcegraph/issues/11747) \n- [x] hover source code intel tooltips [#423](https://github.com/sourcegraph/code-intel-extensions/pull/423) :shipit:\n\u003c!-- END ASSIGNEE --\u003e\n\u003c!-- END WORK --\u003e\r\n\r\n#### Legend\r\n\r\n- 👩 Customer issue\r\n- 🐛 Bug\r\n- 🧶 Technical debt\r\n- 🛠️ [Roadmap](https://docs.google.com/document/d/1cBsE9801DcBF9chZyMnxRdolqM_1c2pPyGQz15QAvYI/edit#heading=h.5nwl5fv52ess)\r\n- 🕵️ [Spike](https://en.wikipedia.org/wiki/Spike_(software_development))\r\n- 🔒 Security issue\r\n- :shipit: Pull Request","Number":11412,"URL":"https://github.com/sourcegraph/sourcegraph/issues/11412","State":"CLOSED","Repository":"sourcegraph/sourcegraph","Private":false,"Labels":["team/code-intelligence","tracking"],"Assignees":["efritz","gbrik"],"Milestone":"3.18","Author":"efritz","CreatedAt":"2020-06-10T16:56:28Z","UpdatedAt":"0001-01-01T00:00:00Z","ClosedAt":"2020-07-20T19:48:46Z"},{"ID":"MDU6SXNzdWU2MTcyOTI0MjI=","Title":"Campaigns: 3.17 Tracking issue","Body":"### Status\r\n\r\nThis tracking issue is being prepared.\r\n\r\n### Availability\r\n\r\nPeriod is from **May 21st** to **June 18th**. Please write the days you won't be working and the number of working days for the period.\r\n\r\n- @mrnugget: ~19 days (1st June \u0026 11th June are public holidays, plus some half-days of childcare duties)\r\n- @ryanslade: 20 days (16th June is a ZA holiday)\r\n- @eseliger: ~20 days\r\n\r\n### Workload\r\n\r\n\u003c!-- BEGIN WORK --\u003e\n\u003c!-- BEGIN ASSIGNEE: LawnGnome --\u003e\n@LawnGnome: __2.00d__\n\n- [x] Trying to publish a failed changeset again is noop [#10795](https://github.com/sourcegraph/sourcegraph/issues/10795) __0.5d__ 🐛\n- [x] Publishing a campaign with failed jobs fails [#10797](https://github.com/sourcegraph/sourcegraph/issues/10797) __0.5d__ 🐛\n- [x] Hard reload required after enabling campaigns feature flag with no indication [#10715](https://github.com/sourcegraph/sourcegraph/issues/10715) __1d__ 🧶\n- [ ] ~Cache diffstat for external changesets~ [#11075](https://github.com/sourcegraph/sourcegraph/issues/11075) __1.5d__ \n- [ ] ~Clearer error message for improper JSON escape sequence in `src actions scope-query`~ [#10541](https://github.com/sourcegraph/sourcegraph/issues/10541) __0.5d__ 🐛\n\u003c!-- END ASSIGNEE --\u003e\n\n\u003c!-- BEGIN ASSIGNEE: eseliger --\u003e\n@eseliger: __10.00d__\n\n- [ ] ~WIP: Frontend: New campaigns flow~ [#10986](https://github.com/sourcegraph/sourcegraph/issues/10986) __3d__ \n- [x] Frontend: Remove the concept of a top-level \"draft campaign\" [#10983](https://github.com/sourcegraph/sourcegraph/issues/10983) __2d__ \n- [x] Frontend: Repository permissions for campaigns [#10982](https://github.com/sourcegraph/sourcegraph/issues/10982) __1.5d__ \n- [ ] ~Show diff on merged changesets~ [#10959](https://github.com/sourcegraph/sourcegraph/issues/10959) __2d__ \n- [x] Frontend: permission levels for campaigns [#10817](https://github.com/sourcegraph/sourcegraph/issues/10817) __1.5d__ 🛠️\n- [x] Campaign patches with binaries don't apply [#10815](https://github.com/sourcegraph/sourcegraph/issues/10815) __0.5d__ 🐛\n- [x] Burndown chart is off [#10802](https://github.com/sourcegraph/sourcegraph/issues/10802) __0.5d__ 🐛\n- [x] worries about diff highlighting [#10616](https://github.com/sourcegraph/sourcegraph/issues/10616) __2d__ 🧶\n- [x] Branch field is cleared in edit mode for campaigns [#10266](https://github.com/sourcegraph/sourcegraph/issues/10266) __0.5d__ 🐛\n- [x] A repository being removed from Sourcegraph breaks campaigns [#9641](https://github.com/sourcegraph/sourcegraph/issues/9641) 🐛\n- [x] \"Close\" and \"Delete\" popups show \"open changesets\" even though they are merged [#9393](https://github.com/sourcegraph/sourcegraph/issues/9393) __0.5d__ 🐛\n- [x] Campaigns: Add backlink to Sourcegraph in PR description [#9061](https://github.com/sourcegraph/sourcegraph/issues/9061) __0.5d__ \n- [x] Changeset.nextSyncAt not populated when changeset is queried by ID [#11227](https://github.com/sourcegraph/sourcegraph/issues/11227) __0.5d__ 🐛\n\u003c!-- END ASSIGNEE --\u003e\n\n\u003c!-- BEGIN ASSIGNEE: mrnugget --\u003e\n@mrnugget: __9.00d__\n\n- [ ] ~WIP: Backend: New campaign flow~ [#10985](https://github.com/sourcegraph/sourcegraph/issues/10985) __10d__ \n- [ ] ~WIP: Remove hard distinction between manual and patchset campaigns~ [#10984](https://github.com/sourcegraph/sourcegraph/issues/10984) __2d__ \n- [x] Backend: Remove the concept of a top-level \"draft campaign\". [#10953](https://github.com/sourcegraph/sourcegraph/issues/10953) __2d__ 🛠️\n- [ ] ~WIP: Perform code host interactions with user accounts~ [#10813](https://github.com/sourcegraph/sourcegraph/issues/10813) 🛠️\n- [x] Backend: Repository permissions for campaigns [#10809](https://github.com/sourcegraph/sourcegraph/issues/10809) __5d__ 🛠️\n- [x] Backend: permission levels for campaigns [#10808](https://github.com/sourcegraph/sourcegraph/issues/10808) __2d__ 🛠️\n- [ ] ~Replace \"automation\" feature flag with \"campaigns\" toggle and remove configuration flags~ [#10713](https://github.com/sourcegraph/sourcegraph/issues/10713) __1d__ 🛠️\n\u003c!-- END ASSIGNEE --\u003e\n\n\u003c!-- BEGIN ASSIGNEE: ryanslade --\u003e\n@ryanslade: __15.00d__\n\n- [x] Repo-updater can fall into infinite retry loop [#10798](https://github.com/sourcegraph/sourcegraph/issues/10798) __0.5d__ 🐛\n- [x] Branch names are not validated [#10718](https://github.com/sourcegraph/sourcegraph/issues/10718) __0.5d__ 🐛\n- [x] When changeset creation fails spinner does not disappear [#10717](https://github.com/sourcegraph/sourcegraph/issues/10717) __1d__ 🐛\n- [x] Synchronously try upserting webhooks for BBS [#10635](https://github.com/sourcegraph/sourcegraph/issues/10635) __1d__ 🧶\n- [x] Campaigns show \"Revision not found\" error when merged changeset's branch is deleted upstream [#10542](https://github.com/sourcegraph/sourcegraph/issues/10542) __2d__ 🐛\n- [x] Reduce usage of raw string for external service kind [#10296](https://github.com/sourcegraph/sourcegraph/issues/10296) __1d__ 🧶\n- [x] src-cli 3.16 meta [#10283](https://github.com/sourcegraph/sourcegraph/issues/10283) __2.5d__ \n- [x] Add configuration option to disable automatic creation of Bitbucket Server webhooks [#10217](https://github.com/sourcegraph/sourcegraph/issues/10217) __1d__ \n- [x] Validate unique rate limit configuration [#10026](https://github.com/sourcegraph/sourcegraph/issues/10026) __0.5d__ \n- [x] Reduce coupling in campaign store tests [#10022](https://github.com/sourcegraph/sourcegraph/issues/10022) __1d__ 🧶\n- [x] Use internal rate limiters for all source requests [#9953](https://github.com/sourcegraph/sourcegraph/issues/9953) __2d__ \n- [ ] `src actions exec` can cause frontend to be OOMKilled [#10540](https://github.com/sourcegraph/sourcegraph/issues/10540) __2d__ 🐛\n\u003c!-- END ASSIGNEE --\u003e\n\u003c!-- END WORK --\u003e\r\n\r\n#### Legend\r\n\r\n- 👩 Customer issue\r\n- 🐛 Bug\r\n- 🧶 Technical debt\r\n- 🛠️ [Roadmap](https://docs.google.com/document/d/1cBsE9801DcBF9chZyMnxRdolqM_1c2pPyGQz15QAvYI/edit#heading=h.5nwl5fv52ess)\r\n- 🕵️ [Spike](https://en.wikipedia.org/wiki/Spike_(software_development))\r\n- 🔒 Security issue\r\n- :shipit: Pull Request\r\n","Number":10630,"URL":"https://github.com/sourcegraph/sourcegraph/issues/10630","State":"CLOSED","Repository":"sourcegraph/sourcegraph","Private":false,"Labels":["team/campaigns","tracking"],"Assignees":["mrnugget"],"Milestone":"3.17","Author":"mrnugget","CreatedAt":"2020-05-13T09:26:34Z","UpdatedAt":"0001-01-01T00:00:00Z","ClosedAt":"2020-06-18T16:08:03Z"},{"ID":"MDU6SXNzdWU1ODI1NjcxNDE=","Title":"Code intelligence: 3.15 tracking issue","Body":"TODO(@creachadair): Convert these into issues.\r\n- [ ] Implement metrics necessary to track OKRs\r\n\r\n\u003c!-- BEGIN WORK --\u003e\r\n@creachadair\r\n\r\n- [ ] RFC 139: Remove language servers [#9742](https://github.com/sourcegraph/sourcegraph/issues/9742) \r\n- [x] Cross-references from LSIF may not work on golang/go [#9595](https://github.com/sourcegraph/sourcegraph/issues/9595) \r\n- [ ] Improve performance of LSIF upload processing [#9593](https://github.com/sourcegraph/sourcegraph/issues/9593) \r\n- [x] Adjust line offsets when the current line was not changed since the last LSIF index [#9345](https://github.com/sourcegraph/sourcegraph/issues/9345) \r\n- [ ] RFC 122: Integrate LSIF indexing into supportive Go and TypeScript repositories [#9288](https://github.com/sourcegraph/sourcegraph/issues/9288) \r\n- [x] RFC 122: Implement manual indexing for public Go and TypeScript repositories [#9285](https://github.com/sourcegraph/sourcegraph/issues/9285) \r\n- [ ] Code intelligence: 3.15 tracking issue [#9051](https://github.com/sourcegraph/sourcegraph/issues/9051) \r\n\r\n@efritz\r\n\r\n- [ ] LSIF upload: 413 Request Entity Too Large [#9739](https://github.com/sourcegraph/sourcegraph/issues/9739) \r\n- [x] Button up automatic LSIF indexing [#9738](https://github.com/sourcegraph/sourcegraph/issues/9738) \r\n- [x] Button up code intel showcase upstreamer list [#9737](https://github.com/sourcegraph/sourcegraph/issues/9737) \r\n- [ ] Document LSIF data expectations [#9719](https://github.com/sourcegraph/sourcegraph/issues/9719) \r\n- [x] Search in same repo fork in basic code intel [#9634](https://github.com/sourcegraph/sourcegraph/issues/9634) \r\n- [ ] Create docs page for codeintel showcase repos [#9609](https://github.com/sourcegraph/sourcegraph/issues/9609) \r\n- [x] Create buildkite job to keep all sourcegraph-codeintel-showcase mirrors up to date [#9608](https://github.com/sourcegraph/sourcegraph/issues/9608) \r\n- [x] RFC 127: Implement a sharded database storage service [#9290](https://github.com/sourcegraph/sourcegraph/issues/9290) \r\n- [x] RFC 122: Automate indexing for public Go and TypeScript repositories [#9286](https://github.com/sourcegraph/sourcegraph/issues/9286) \r\n\r\n@gbrik\r\n\r\n- [ ] Minor: Retry lsif index upload when clone is in progress [#9700](https://github.com/sourcegraph/sourcegraph/issues/9700) \r\n- [ ] RFC 122: Write detailed LSIF integration instructions for Go and TypeScript [#9289](https://github.com/sourcegraph/sourcegraph/issues/9289) \r\n\u003c!-- END WORK --\u003e","Number":9051,"URL":"https://github.com/sourcegraph/sourcegraph/issues/9051","State":"CLOSED","Repository":"sourcegraph/sourcegraph","Private":false,"Labels":["team/code-intelligence","tracking"],"Assignees":["creachadair","efritz","gbrik"],"Milestone":"3.15","Author":"creachadair","CreatedAt":"2020-03-16T20:02:23Z","UpdatedAt":"0001-01-01T00:00:00Z","ClosedAt":"2020-04-20T17:40:18Z"},{"ID":"MDU6SXNzdWU3MDU3MTg4MTE=","Title":"Cloud 2020-09-23 Tracking issue","Body":"### Plan\r\n\r\n#### Cloud\r\n\r\nWe plan to complete all functional changes necessary to have individual Sourcegraphers (teammates) be able to add public code on sourcegraph.com. This is part of our first Cloud milestone as documented in [our team page](https://about.sourcegraph.com/handbook/engineering/cloud). All work items on this goal are labeled with `RFC-211` and `team/cloud/milestone-1`.\r\n\r\n#### Security\r\n\r\nFor Cloud Milestone 1, in addition to the functional changes above, we need to complete the necessary work to store relevant secrets securely (i.e. encrypted). Even for public code, it's important that we store teammates access tokens in an encrypted fashion. All work items on this goal are labeled with `RFC-214` and `team/cloud/milestone-1`.\r\n\r\nAdditionally, we have some miscellaneous security bugs to address, marked appropriately with 🔒 in the Work section below.\r\n\r\n#### Backend infrastructure\r\n\r\n**RFC 167: Generate new licenses with versioned tags** is small enough and we can get the benefit of new licenses already being versioned, minimising the migration effort needed by the sales team later. The remainder of the work in RFC-167 accounts for roughly 2 weeks and we tentatively plan to take it on in the next cycle.\r\n\r\nWe'll also work on a number of customer issues and tech-debt, marked appropriately with 👩  and 🧶 in the Work section below.\r\n\r\n### Availability\r\n\r\n**Period**: 23rd of September until the 6th of October (10 working days)\r\n\r\nIf you have planned unavailability this iteration (e.g., vacation), you can note that here.\r\n\r\n- @ryanslade: 24th of September (1d) \r\n- @daxmc99: 28th of September (1d)\r\n- @unknwon: 1st until 8th of October (4d)\r\n\r\n### Work\r\n\r\n\u003c!-- BEGIN WORK --\u003e\n\u003c!-- BEGIN ASSIGNEE: asdine --\u003e\n@asdine: __9.00d__\n\n- [ ] Detect and delete public repository added-on-visit when it become private ([#13978](https://github.com/sourcegraph/sourcegraph/issues/13978)) __1d__ 🔒\n- [ ] sourcegraph/customer ([#48](https://github.com/sourcegraph/customer/issues/48)) __1d__ 🐛👩\n- [ ] RFC 211 Tracking issue ([#14163](https://github.com/sourcegraph/sourcegraph/issues/14163)) __9.00d__ \n  - [x] (🏁 4 days ago) RFC 211: Repo updater should sync external services separately ([~#14041~](https://github.com/sourcegraph/sourcegraph/issues/14041)) __2d__ \n  - [ ] RFC 211: Repos added by user owned external services should be indexed ([#14042](https://github.com/sourcegraph/sourcegraph/issues/14042)) __1d__ \n  - [ ] RFC 211: Add alert if repo sync jobs are not consumed ([#14045](https://github.com/sourcegraph/sourcegraph/issues/14045)) __1d__ \n  - [x] (🏁 4 days ago) RFC 211: Remove completed jobs from external_service_sync_jobs table ([~#14048~](https://github.com/sourcegraph/sourcegraph/issues/14048); PRs: ~[#14098](https://github.com/sourcegraph/sourcegraph/pull/14098)~) __0.5d__ \n  - [ ] RFC 211: User added external services on Cloud should clone newly added repos on first sync ([#14315](https://github.com/sourcegraph/sourcegraph/issues/14315)) __2d__ \n\nCompleted: __3.00d__\n- [x] (🏁 11 days ago) Drop the sources column from the repo table ([~#13401~](https://github.com/sourcegraph/sourcegraph/issues/13401); PRs: ~[#14094](https://github.com/sourcegraph/sourcegraph/pull/14094)~) __0.5d__ 🧶\n- [x] (🏁 4 days ago) RFC 211: Repo updater should sync external services separately ([~#14041~](https://github.com/sourcegraph/sourcegraph/issues/14041)) __2d__ \n- [x] (🏁 4 days ago) RFC 211: Remove completed jobs from external_service_sync_jobs table ([~#14048~](https://github.com/sourcegraph/sourcegraph/issues/14048); PRs: ~[#14098](https://github.com/sourcegraph/sourcegraph/pull/14098)~) __0.5d__ \n\u003c!-- END ASSIGNEE --\u003e\n\n\u003c!-- BEGIN ASSIGNEE: daxmc99 --\u003e\n@daxmc99: __6.00d__\n\n- [ ] RFC-214: Encrypt secrets in user_external_accounts, external_services, saved_searches and external_service_repos ([#13853](https://github.com/sourcegraph/sourcegraph/issues/13853)) __5d__ \n\nCompleted: __1.00d__\n- [x] (🏁 4 days ago) RFC-214: Transparent encryption and decryption for all tables that contain secrets or tokens ([~#13851~](https://github.com/sourcegraph/sourcegraph/issues/13851)) __1d__ \n\u003c!-- END ASSIGNEE --\u003e\n\n\u003c!-- BEGIN ASSIGNEE: flying-robot --\u003e\n@flying-robot: __5.00d__\n\n- [ ] Support efficient repository listing pagination in the GraphQL API ([#13715](https://github.com/sourcegraph/sourcegraph/issues/13715)) __2d__ 👩🧶\n- [ ] Show last ping data to admins on the Site-admin \u003e Pings page ([#13956](https://github.com/sourcegraph/sourcegraph/issues/13956); PRs: [#14370](https://github.com/sourcegraph/sourcegraph/pull/14370)) __2d__ \n\nCompleted: __1.00d__\n- [x] (🏁 9 days ago) RFC-214: Repository Settings \u003e Mirroring should not display token in the UI ([~#13852~](https://github.com/sourcegraph/sourcegraph/issues/13852); PRs: ~[#14153](https://github.com/sourcegraph/sourcegraph/pull/14153)~) __1d__ \n\u003c!-- END ASSIGNEE --\u003e\n\n\u003c!-- BEGIN ASSIGNEE: ryanslade --\u003e\n@ryanslade: __8.50d__\n\n- [ ] RFC 211 Tracking issue ([#14163](https://github.com/sourcegraph/sourcegraph/issues/14163)) __9.00d__ \n  - [x] (🏁 11 days ago) RFC 211: repo-updater new syncer doesn't use s.Logger ([~#13718~](https://github.com/sourcegraph/sourcegraph/issues/13718); PRs: ~[#14095](https://github.com/sourcegraph/sourcegraph/pull/14095)~) __0.5d__ \n  - [x] (🏁 4 days ago) RFC 211: Repo updater should sync external services separately ([~#14041~](https://github.com/sourcegraph/sourcegraph/issues/14041)) __2d__ \n  - [ ] RFC 211: We should apply a per user and total limit to user added repos ([#14043](https://github.com/sourcegraph/sourcegraph/issues/14043)) __1.5d__ \n  - [x] (🏁 3 days ago) RFC 211: Number of concurrent syncers should be configurable ([~#14268~](https://github.com/sourcegraph/sourcegraph/issues/14268); PRs: ~[#14334](https://github.com/sourcegraph/sourcegraph/pull/14334)~) __0.5d__ \n  - [ ] RFC 211: User added external services on Cloud should clone newly added repos on first sync ([#14315](https://github.com/sourcegraph/sourcegraph/issues/14315)) __2d__ \n- [ ] monitoring: add more panels to Grafana repo-updater dashboard ([#14237](https://github.com/sourcegraph/sourcegraph/issues/14237)) __1d__ 👩\n\nCompleted: __4.00d__\n- [x] (🏁 11 days ago) RFC 211: repo-updater new syncer doesn't use s.Logger ([~#13718~](https://github.com/sourcegraph/sourcegraph/issues/13718); PRs: ~[#14095](https://github.com/sourcegraph/sourcegraph/pull/14095)~) __0.5d__ \n- [x] (🏁 9 days ago) RFC-214: Repository Settings \u003e Mirroring should not display token in the UI ([~#13852~](https://github.com/sourcegraph/sourcegraph/issues/13852); PRs: ~[#14153](https://github.com/sourcegraph/sourcegraph/pull/14153)~) __1d__ \n- [x] (🏁 4 days ago) repo-updater: Sync single external service at a time using workerutil (~[#14305](https://github.com/sourcegraph/sourcegraph/pull/14305)~) :shipit:\n- [x] (🏁 4 days ago) RFC 211: Repo updater should sync external services separately ([~#14041~](https://github.com/sourcegraph/sourcegraph/issues/14041)) __2d__ \n- [x] (🏁 3 days ago) RFC 211: Number of concurrent syncers should be configurable ([~#14268~](https://github.com/sourcegraph/sourcegraph/issues/14268); PRs: ~[#14334](https://github.com/sourcegraph/sourcegraph/pull/14334)~) __0.5d__ \n- [x] (🏁 2 days ago) repo-updater: Fix metrics (~[#14372](https://github.com/sourcegraph/sourcegraph/pull/14372)~) :shipit:\n- [x] (🏁 2 days ago) repo-updater: Fix deleted_at check (~[#14375](https://github.com/sourcegraph/sourcegraph/pull/14375)~) :shipit:\n\u003c!-- END ASSIGNEE --\u003e\n\n\u003c!-- BEGIN ASSIGNEE: tsenart --\u003e\n@tsenart\n\n\nCompleted\n- [x] (🏁 1 day ago) vcs/git: Handle tags without CreatorDate in git.ListTags (~[#14373](https://github.com/sourcegraph/sourcegraph/pull/14373)~) :shipit:🐛\n\u003c!-- END ASSIGNEE --\u003e\n\n\u003c!-- BEGIN ASSIGNEE: unknwon --\u003e\n@unknwon: __8.00d__\n\n- [ ] RFC 167: Generate new licenses with versioned tags ([#14021](https://github.com/sourcegraph/sourcegraph/issues/14021); PRs: [#14236](https://github.com/sourcegraph/sourcegraph/pull/14236)) __1d__ \n- [ ] RFC-214: Encrypt secrets in user_external_accounts, external_services, saved_searches and external_service_repos ([#13853](https://github.com/sourcegraph/sourcegraph/issues/13853)) __5d__ \n\nCompleted: __2.00d__\n- [x] (🏁 10 days ago) gqltest: code commit and bitbucket tests disabled ([~#14046~](https://github.com/sourcegraph/sourcegraph/issues/14046)) __0.5d__ \n- [x] (🏁 9 days ago) RFC-214: Eyeball validate data being encrypted in the database ([~#13854~](https://github.com/sourcegraph/sourcegraph/issues/13854)) __0.5d__ \n- [x] (🏁 4 days ago) RFC-214: Transparent encryption and decryption for all tables that contain secrets or tokens ([~#13851~](https://github.com/sourcegraph/sourcegraph/issues/13851)) __1d__ \n\u003c!-- END ASSIGNEE --\u003e\n\u003c!-- END WORK --\u003e\r\n\r\n#### Legend\r\n\r\n- 👩 Customer issue\r\n- 🐛 Bug\r\n- 🧶 Technical debt\r\n- 🎩 Quality of life\r\n- 🛠️ [Roadmap](https://docs.google.com/document/d/1cBsE9801DcBF9chZyMnxRdolqM_1c2pPyGQz15QAvYI/edit#heading=h.5nwl5fv52ess)\r\n- 🕵️ [Spike](https://en.wikipedia.org/wiki/Spike_(software_development))\r\n- 🔒 Security issue\r\n- :shipit: Pull Request\r\n","Number":13988,"URL":"https://github.com/sourcegraph/sourcegraph/issues/13988","State":"OPEN","Repository":"sourcegraph/sourcegraph","Private":false,"Labels":["team/cloud","tracking"],"Assignees":null,"Milestone":"Cloud 2020-09-23","Author":"tsenart","CreatedAt":"2020-09-21T15:48:35Z","UpdatedAt":"0001-01-01T00:00:00Z","ClosedAt":"0001-01-01T00:00:00Z"},{"ID":"MDU6SXNzdWU2ODE3MDU0NTA=","Title":"Security: 3.20 Tracking issue","Body":"### Plan\r\n\r\nTBD\r\n\r\n### Availability\r\n\r\nPeriod is from August 24th to September 21st. Please write the days you won't be working and the number of working days for the period.\r\n\r\n* @chayim: Off for 3 non-consecutive days\r\n\r\n### Tracked issues\r\n\r\n\u003c!-- BEGIN WORK --\u003e\n\u003c!-- BEGIN ASSIGNEE: ElizabethStirling --\u003e\n@ElizabethStirling\n\n\nCompleted\n- [x] (🏁 16 days ago) Auth: explicit session invalidation ([~#1126~](https://github.com/sourcegraph/sourcegraph/issues/1126)) 🔒\n\u003c!-- END ASSIGNEE --\u003e\n\n\u003c!-- BEGIN ASSIGNEE: chayim --\u003e\n@chayim\n\n\nCompleted\n- [x] (🏁 26 days ago) Security planning and communication changes (~[#1449](https://github.com/sourcegraph/about/pull/1449)~) :shipit:\n- [x] (🏁 4 days ago) ~sourcegraph/security-issues~ ([~#83~](https://github.com/sourcegraph/security-issues/issues/83)) \n\u003c!-- END ASSIGNEE --\u003e\n\n\u003c!-- BEGIN ASSIGNEE: daxmc99 --\u003e\n@daxmc99\n\n- [ ] Update product documentation ([#12266](https://github.com/sourcegraph/sourcegraph/issues/12266)) \n\u003c!-- END ASSIGNEE --\u003e\n\u003c!-- END WORK --\u003e\r\n\r\n#### Legend\r\n\r\n- 👩 Customer issue\r\n- 🐛 Bug\r\n- 🧶 Technical debt\r\n- 🛠️ [Roadmap](https://docs.google.com/document/d/1cBsE9801DcBF9chZyMnxRdolqM_1c2pPyGQz15QAvYI/edit#heading=h.5nwl5fv52ess)\r\n- 🕵️ [Spike](https://en.wikipedia.org/wiki/Spike_(software_development))\r\n- 🔒 Security issue\r\n- :shipit: Pull Request\r\n","Number":13130,"URL":"https://github.com/sourcegraph/sourcegraph/issues/13130","State":"CLOSED","Repository":"sourcegraph/sourcegraph","Private":false,"Labels":["team/security","tracking"],"Assignees":null,"Milestone":"3.20","Author":"chayim","CreatedAt":"2020-08-19T09:51:50Z","UpdatedAt":"0001-01-01T00:00:00Z","ClosedAt":"2020-09-27T09:33:39Z"},{"ID":"MDU6SXNzdWU2ODAzNjk3MDg=","Title":"Campaigns 3.20 Tracking issue","Body":"### Goal\r\n\r\n**Remove the feature flag, so campaigns will be available by default.** This means getting campaigns to a state where we are comfortable doing so.\r\n\r\nIn order to feel good about the removal of the feature flag, this release will entail a good deal of cleaning up, polish, and minor bug fixes. We will also be focusing on documentation, user testing, more design work, and a marketing video and blog post.\r\n\r\nAs in the previous release cycle, we will work as a team to meet this single goal, dividing up the work roughly as follows: @eseliger will focus on front-end features and collaboration with design, @mrnugget will work on the back-end, and @LawnGnome will continue with `src-cli` work. (While this is the same division of labor as last cycle, we state an explicit intention to rotate in the future, so no one becomes a knowledge silo or “the engineer who always does X”.) This is also @chrispine’s first full release cycle, so he has some tasks aimed at ramping him up.\r\n\r\nCampaigns will remain in beta for 3.20.\r\n\r\n### Availability\r\n\r\nPeriod is from August 20th to September 18th (22 working days, ~17 working days before branch cut). Please write the days you won’t be working and the number of working days for the period.\r\n\r\nIf you have planned unavailability this iteration (e.g., vacation), you can note that here.\r\n\r\n- @mrnugget 5d vacation (September 7 to September 11)\r\n- @LawnGnome: 5d vacation (August 31 to September 4) + 1d public holiday (Labour Day, September 7)\r\n- @eseliger: Likely 5d vacation as well\r\n\r\n### Tracked issues\r\n\r\n\u003c!-- BEGIN WORK --\u003e\n\u003c!-- BEGIN ASSIGNEE: LawnGnome --\u003e\n@LawnGnome: __3.00d__\n\n\nCompleted: __3.00d__\n- [x] (🏁 44 days ago) doc: update src-cli campaign examples (~[#13190](https://github.com/sourcegraph/sourcegraph/pull/13190)~) :shipit:\n- [x] (🏁 41 days ago) campaigns: split preview/apply commands ([~#275~](https://github.com/sourcegraph/src-cli/issues/275)) __0.5d__ \n- [x] (🏁 41 days ago) Actions Exec requires global git user/email config ([~#256~](https://github.com/sourcegraph/src-cli/issues/256)) __0.5d__ 🐛\n- [x] (🏁 38 days ago) campaigns: improve error output (~[#283](https://github.com/sourcegraph/src-cli/pull/283)~) :shipit:\n- [x] (🏁 38 days ago) campaigns: show the repos that are unsupported (~[#284](https://github.com/sourcegraph/src-cli/pull/284)~) :shipit:\n- [x] (🏁 38 days ago) campaigns: move campaign spec schema to ./schema (~[#286](https://github.com/sourcegraph/src-cli/pull/286)~) :shipit:\n- [x] (🏁 34 days ago) schema: fix incorrectly nested prop in settings (~[#13472](https://github.com/sourcegraph/sourcegraph/pull/13472)~) :shipit:\n- [x] (🏁 18 days ago) campaigns: increment minimum src-cli version before 3.20 cut ([~#13724~](https://github.com/sourcegraph/sourcegraph/issues/13724)) \n- [x] (🏁 18 days ago) Write an RFC on how to perform campaigns code host interactions with user accounts ([~#10813~](https://github.com/sourcegraph/sourcegraph/issues/10813)) __2d__ 🛠️\n- [x] (🏁 18 days ago) campaigns: review docs for completeness and accuracy ([~#13153~](https://github.com/sourcegraph/sourcegraph/issues/13153)) \n- [x] (🏁 3 days ago) campaigns: allow partial publishing of changesets (~[#13476](https://github.com/sourcegraph/sourcegraph/pull/13476)~) :shipit:\n\u003c!-- END ASSIGNEE --\u003e\n\n\u003c!-- BEGIN ASSIGNEE: chrispine --\u003e\n@chrispine: __3.00d__\n\n\nCompleted: __3.00d__\n- [x] (🏁 37 days ago) Do not re-execute campaign spec steps when the diff is still valid ([~#13172~](https://github.com/sourcegraph/sourcegraph/issues/13172)) \n- [x] (🏁 25 days ago) campaigns: allow users to specify the author details used when creating commits ([~#12769~](https://github.com/sourcegraph/sourcegraph/issues/12769)) __2d__ \n- [x] (🏁 12 days ago) user testing for campaigns ([~#13151~](https://github.com/sourcegraph/sourcegraph/issues/13151)) __1d__ \n\u003c!-- END ASSIGNEE --\u003e\n\n\u003c!-- BEGIN ASSIGNEE: eseliger --\u003e\n@eseliger: __15.50d__\n\n\nCompleted: __15.50d__\n- [x] (🏁 47 days ago) Add API to fetch changesets that are going to be closed by closeCampaign ([~#13083~](https://github.com/sourcegraph/sourcegraph/issues/13083)) __0.5d__ \n- [x] (🏁 46 days ago) Campaigns close page ([~#13056~](https://github.com/sourcegraph/sourcegraph/issues/13056)) __1.5d__ \n- [x] (🏁 46 days ago) Adopt new status column for filtering ([~#13057~](https://github.com/sourcegraph/sourcegraph/issues/13057)) __0.5d__ \n- [x] (🏁 41 days ago) Replace \"automation\" feature flag with \"campaigns\" toggle and remove configuration flags ([~#10713~](https://github.com/sourcegraph/sourcegraph/issues/10713)) __1d__ 🛠️\n- [x] (🏁 41 days ago) Add +/- icons to the diff to improve accessibilty ([~#12934~](https://github.com/sourcegraph/sourcegraph/issues/12934)) __0.5d__ \n- [x] (🏁 39 days ago) Default to show only open campaigns in list ([~#13265~](https://github.com/sourcegraph/sourcegraph/issues/13265)) __0.5d__ \n- [x] (🏁 39 days ago) Campaigns status bar should update when applying campaigns ([~#13183~](https://github.com/sourcegraph/sourcegraph/issues/13183)) __0.5d__ \n- [x] (🏁 39 days ago) Order campaigns in descending order of creation ([~#13266~](https://github.com/sourcegraph/sourcegraph/issues/13266)) __0.5d__ \n- [x] (🏁 39 days ago) Add breadcrumbs to campaigns components ([~#13292~](https://github.com/sourcegraph/sourcegraph/issues/13292); PRs: ~[#13293](https://github.com/sourcegraph/sourcegraph/pull/13293)~) __0.5d__ \n- [x] (🏁 38 days ago) Use campaign name in URL instead of ID for better readability ([~#13086~](https://github.com/sourcegraph/sourcegraph/issues/13086)) __1d__ \n- [x] (🏁 34 days ago) Improve handling of pagination parameters on campaigns connections ([~#13369~](https://github.com/sourcegraph/sourcegraph/issues/13369)) __1d__ 🧶\n- [x] (🏁 33 days ago) campaigns: GraphQL crash when resolving diff ([~#13498~](https://github.com/sourcegraph/sourcegraph/issues/13498)) __0.5d__ 🐛\n- [x] (🏁 32 days ago) src-cli fails to run campaign with a branch name used in a previous campaign ([~#13582~](https://github.com/sourcegraph/sourcegraph/issues/13582)) \n- [x] (🏁 25 days ago) Create a demo campaign on dogfood ([~#13696~](https://github.com/sourcegraph/sourcegraph/issues/13696)) __0.5d__ \n- [x] (🏁 25 days ago) Campaigns file link in diff view should expand diff ([~#11385~](https://github.com/sourcegraph/sourcegraph/issues/11385)) \n- [x] (🏁 25 days ago) Reconcile designs and front end development ([~#13116~](https://github.com/sourcegraph/sourcegraph/issues/13116)) __1.5d__ \n- [x] (🏁 24 days ago) Properly show processing changesets ([~#13136~](https://github.com/sourcegraph/sourcegraph/issues/13136)) __1d__ \n- [x] (🏁 23 days ago) Allow exporting of campaign spec YAML ([~#13210~](https://github.com/sourcegraph/sourcegraph/issues/13210)) __1d__ \n- [x] (🏁 23 days ago) Tighten up language/concept usage in campaigns UI ([~#13629~](https://github.com/sourcegraph/sourcegraph/issues/13629)) __0.5d__ \n- [x] (🏁 20 days ago) Implement empty state designs for campaigns ([~#13731~](https://github.com/sourcegraph/sourcegraph/issues/13731); PRs: ~[#13768](https://github.com/sourcegraph/sourcegraph/pull/13768)~) __1d__ \n- [x] (🏁 19 days ago) Add create/edit page for campaigns ([~#13058~](https://github.com/sourcegraph/sourcegraph/issues/13058); PRs: ~[#13725](https://github.com/sourcegraph/sourcegraph/pull/13725)~) __1.5d__ \n\u003c!-- END ASSIGNEE --\u003e\n\n\u003c!-- BEGIN ASSIGNEE: mrnugget --\u003e\n@mrnugget: __12.00d__\n\n\nCompleted: __12.00d__\n- [x] (🏁 41 days ago) Replace \"automation\" feature flag with \"campaigns\" toggle and remove configuration flags ([~#10713~](https://github.com/sourcegraph/sourcegraph/issues/10713)) __1d__ 🛠️\n- [x] (🏁 38 days ago) Move SyncChangesets to the background ([~#12645~](https://github.com/sourcegraph/sourcegraph/issues/12645)) __2d__ \n- [x] (🏁 37 days ago) Move CloseOpenChangesets to the reconciler ([~#12644~](https://github.com/sourcegraph/sourcegraph/issues/12644)) __2d__ \n- [x] (🏁 32 days ago) Allow retrying of errored changesets ([~#12700~](https://github.com/sourcegraph/sourcegraph/issues/12700); PRs: ~[#13457](https://github.com/sourcegraph/sourcegraph/pull/13457)~, ~[#13478](https://github.com/sourcegraph/sourcegraph/pull/13478)~) __4d__ \n- [x] (🏁 31 days ago) Unable to enqueue changeset to be reconciled while it's being reconciled ([~#12827~](https://github.com/sourcegraph/sourcegraph/issues/12827)) __3d__ \n- [x] (🏁 31 days ago) Unable to run comby in campaign spec steps because probing for shell failed ([~#13620~](https://github.com/sourcegraph/sourcegraph/issues/13620)) \n- [x] (🏁 20 days ago) Fix nil panic in reconciler by setting repo when closing changesets (~[#13795](https://github.com/sourcegraph/sourcegraph/pull/13795)~) :shipit:\n- [x] (🏁 19 days ago) GitLab source panics when closing changesets ([~#13790~](https://github.com/sourcegraph/sourcegraph/issues/13790)) \n- [x] (🏁 19 days ago) Update commit when author email/name changed (~[#13819](https://github.com/sourcegraph/sourcegraph/pull/13819)~) :shipit:\n- [x] (🏁 18 days ago) campaigns: review docs for completeness and accuracy ([~#13153~](https://github.com/sourcegraph/sourcegraph/issues/13153)) \n\u003c!-- END ASSIGNEE --\u003e\n\n\u003c!-- BEGIN ASSIGNEE: rrhyne --\u003e\n@rrhyne: __5.50d__\n\n\nCompleted: __5.50d__\n- [x] (🏁 26 days ago) Campaigns new flow design ([~#12885~](https://github.com/sourcegraph/sourcegraph/issues/12885)) __3d__ \n- [x] (🏁 25 days ago) Reconcile designs and front end development ([~#13116~](https://github.com/sourcegraph/sourcegraph/issues/13116)) __1.5d__ \n- [x] (🏁 18 days ago) Design create/edit page for campaigns ([~#13115~](https://github.com/sourcegraph/sourcegraph/issues/13115)) __1d__ \n- [x] (🏁 18 days ago) Design campaign empty states ([~#13187~](https://github.com/sourcegraph/sourcegraph/issues/13187)) \n\u003c!-- END ASSIGNEE --\u003e\n\u003c!-- END WORK --\u003e\r\n\r\n#### Legend\r\n\r\n- 👩 Customer issue\r\n- 🐛 Bug\r\n- 🧶 Technical debt\r\n- 🛠️ [Roadmap](https://docs.google.com/document/d/1cBsE9801DcBF9chZyMnxRdolqM_1c2pPyGQz15QAvYI/edit#heading=h.5nwl5fv52ess)\r\n- 🕵️ [Spike](https://en.wikipedia.org/wiki/Spike_(software_development))\r\n- 🔒 Security issue\r\n- :shipit: Pull Request\r\n","Number":13068,"URL":"https://github.com/sourcegraph/sourcegraph/issues/13068","State":"OPEN","Repository":"sourcegraph/sourcegraph","Private":false,"Labels":["team/campaigns","tracking"],"Assignees":null,"Milestone":"3.20","Author":"chrispine","CreatedAt":"2020-08-17T16:41:13Z","UpdatedAt":"0001-01-01T00:00:00Z","ClosedAt":"0001-01-01T00:00:00Z"},{"ID":"MDU6SXNzdWU2NTg2MjMwMDc=","Title":"Search 3.19 Tracking issue","Body":"### Plan\r\n\r\n**Goal: Deliver search functionality that is on par with [existing alternatives](https://lucene.apache.org/core/2_9_4/queryparsersyntax.html), and pave the way for more powerful and exclusive search functionality.** Enable hierarchical search, optimize AND content queries, support NOT syntax for content searches. @rvantonder @stefanhengl \r\n\r\n**Goal: Help new users successfully onboard to and discover features of Sourcegraph Cloud.** Implement search tour. @attfarhan \r\n\r\n### Availability\r\n\r\nIf you have planned unavailability this iteration (e.g., vacation), you can note that here.\r\n\r\n### Tracked issues\r\n\r\n\u003c!-- BEGIN WORK --\u003e\n\u003c!-- BEGIN ASSIGNEE: attfarhan --\u003e\n@attfarhan: __2.50d__\n\n- [x] Create web content stylesheet [#12303](https://github.com/sourcegraph/sourcegraph/issues/12303) __2d__ 🧶\n- [x] Log 3 click events for new features on Search Homepage and Repo Page [#12356](https://github.com/sourcegraph/sourcegraph/issues/12356) __0.5d__ \n\u003c!-- END ASSIGNEE --\u003e\n\n\u003c!-- BEGIN ASSIGNEE: rvantonder --\u003e\n@rvantonder: __18.50d__\n\n- [ ] Search feature request: Query syntax to search at a date (instead of revision) [#10820](https://github.com/sourcegraph/sourcegraph/issues/10820) \n- [x] Support unix-style globbing patterns for search field values [#10094](https://github.com/sourcegraph/sourcegraph/issues/10094) [👩](https://app.hubspot.com/contacts/2762526/company/464956351)\n- [x] Query parser migration [#12477](https://github.com/sourcegraph/sourcegraph/issues/12477) __8d__ \n- [x] Duplicate results in or-operator merge operation [#12481](https://github.com/sourcegraph/sourcegraph/issues/12481) __1.5d__ 🐛\n- [x] Treat trailing parentheses in new parser similar to old parser [#12733](https://github.com/sourcegraph/sourcegraph/issues/12733) __0.5d__ 🐛\n- [x] Support or-expressions for repo: and file: parameters [#11009](https://github.com/sourcegraph/sourcegraph/issues/11009) __8d__ \n- [ ] Search recommendations to add quotes is misleading. [#12802](https://github.com/sourcegraph/sourcegraph/issues/12802) __0.5d__ 🐛\n- [x] Unable to perform a literal search with a query that contains a `:` [#10171](https://github.com/sourcegraph/sourcegraph/issues/10171) \n\u003c!-- END ASSIGNEE --\u003e\n\n\u003c!-- BEGIN ASSIGNEE: stefanhengl --\u003e\n@stefanhengl\n\n- [x] add negation/NOT for file contents [#12232](https://github.com/sourcegraph/sourcegraph/issues/12232) \n- [x] Add NOT as syntactic sugar for negatable fields [#9976](https://github.com/sourcegraph/sourcegraph/issues/9976) \n- [x] panic in glob conversion function [#12456](https://github.com/sourcegraph/sourcegraph/issues/12456) 🐛\n- [x] add syntax highlighting for NOT [#12639](https://github.com/sourcegraph/sourcegraph/issues/12639) \n- [x] search: reactivate dead code path in alertForOverRepoLimit [#12556](https://github.com/sourcegraph/sourcegraph/pull/12556) :shipit:\n\u003c!-- END ASSIGNEE --\u003e\n\u003c!-- END WORK --\u003e\r\n\r\n#### Legend\r\n\r\n- 👩 Customer issue\r\n- 🐛 Bug\r\n- 🧶 Technical debt\r\n- 🛠️ [Roadmap](https://docs.google.com/document/d/1cBsE9801DcBF9chZyMnxRdolqM_1c2pPyGQz15QAvYI/edit#heading=h.5nwl5fv52ess)\r\n- 🕵️ [Spike](https://en.wikipedia.org/wiki/Spike_(software_development))\r\n- 🔒 Security issue\r\n- :shipit: Pull Request\r\n","Number":12276,"URL":"https://github.com/sourcegraph/sourcegraph/issues/12276","State":"CLOSED","Repository":"sourcegraph/sourcegraph","Private":false,"Labels":["team/search","tracking"],"Assignees":null,"Milestone":"3.19","Author":"nicksnyder","CreatedAt":"2020-07-16T22:24:23Z","UpdatedAt":"0001-01-01T00:00:00Z","ClosedAt":"2020-08-24T15:23:05Z"},{"ID":"MDU6SXNzdWU2NDI5NzI1MDA=","Title":"Web 3.18 Tracking issue","Body":"### Goals\r\n\r\n#### OKRs\r\n\r\n1. **Product: Surface value metrics and [code insights](https://drive.google.com/a/sourcegraph.com/open?id=1EHzor6I1GhVVIpl70mH-c10b1tNEl_p1xRMJ9qHQfoc) for engineering leaders.** \\\r\n   KR: Sales uses prototypes or design mocks in 10+ demo calls. \\\r\n   KR: Compile list of top 10 questions engineering leaders have about their organization’s code. \\\r\n   KR: Code insights feature is validated and included with deals in Q3 pipeline with [*$N\u003csub\u003e3\u003c/sub\u003e*][N3] weighted IARR.\r\n1. **Product: Deliver on projects to grow awareness and usage.** \\\r\n   KR: [Sourcegraph.com WAU](https://sourcegraph.looker.com/looks/521) grows by 5x to [*N\u003csub\u003e6\u003c/sub\u003e*][N6] WAU. \\\r\n   KR: MQLs from Sourcegraph.com contribute [*$N\u003csub\u003e7\u003c/sub\u003e*][N7] weighted pipeline (closing in Q3 and earlier). \\\r\n   KR: ≥[*N\u003csub\u003e9\u003c/sub\u003e*][N9] WAU total for [code host integrations](https://sourcegraph.looker.com/explore/sourcegraph_events/server_weekly_usage?qid=168XAjjRvou3zkSc2gvpeK\u0026origin_space=129\u0026toggle=vis) at customers, and ≥[*N\u003csub\u003e10\u003c/sub\u003e*][N10] WAU each for public code hosts (GitLab.com, GitHub.com)\r\n1. **Web: Pay down tech/design debt.** \\\r\n   KR: Each web team member devotes 2d per milestone to work on tech debt issues. \\\r\n   KR: The web team devotes 3d per milestone to work on design debt issues.\r\n1. **Web: Increase test coverage and reliability.** \\\r\n   KR: Increase TypeScript test coverage from 34% to 55%. ![TypeScript coverage](https://codecov.io/gh/sourcegraph/sourcegraph/branch/master/graph/badge.svg?flag=typescript) \\\r\n   KR: Grow number of Percy snapshots from 8 to 40. [![Storybook screenshots](https://sourcegraph.com/search/badge?q=repo:%5Egithub%5C.com/sourcegraph/sourcegraph%24+f:%5C.story%5C.+add%28\u0026patternType=literal\u0026label=storybook+screenshots)](https://sourcegraph.com/search?q=repo:%5Egithub%5C.com/sourcegraph/sourcegraph%24+f:%5C.story%5C.+add%28\u0026patternType=literal)\r\n\r\n#### Plan\r\n\r\nThis iteration, we want to **improve our confidence in shipping releases without relying on e2e/e2e regression tests**. In order to do this, we will:\r\n- Build out an [integration tests infrastructure](https://github.com/sourcegraph/sourcegraph/issues/10037) that meets the following criteria:\r\n    - Easy to add\r\n    - Easy to update\r\n    - Reliable\r\n    - Fast\r\n- Port relevant e2e regression tests to this infrastructure.\r\n\r\nWe are taking notes on our day-to-day work in this [living document](https://docs.google.com/document/d/10T_S8cGyBrudMlXSOeSsfh8aioHbIcw0uRAYTNRB9yk/edit#heading=h.fbz0159iowk2).\r\n\r\n### Availability\r\n\r\nPeriod is from **June 22d** to **July 17th**. Please write the days you won't be working and the number of working days for the period.\r\n\r\n- @lguychard: 13d (off July 4th through 14th)\r\n- @twop: 19d (July 3rd)\r\n- @attfarhan: 15d (out July 6th through 10th)\r\n- @felixfbecker: 19d\r\n- @marekweb:\r\n\r\n### Planned Work\r\n\r\n\u003c!-- BEGIN WORK --\u003e\n\u003c!-- BEGIN ASSIGNEE: felixfbecker --\u003e\n@felixfbecker\n\n- [x] Update to the new Sourcegraph logo [#12008](https://github.com/sourcegraph/sourcegraph/issues/12008) \n- [x] Use mocha directly for integration tests and move to shared/ [#12130](https://github.com/sourcegraph/sourcegraph/pull/12130) :shipit:\n\u003c!-- END ASSIGNEE --\u003e\n\n\u003c!-- BEGIN ASSIGNEE: lguychard --\u003e\n@lguychard: __0.50d__\n\n- [x] sourcegraph/security-issues [#72](https://github.com/sourcegraph/security-issues/issues/72) \n- [x] Improve privacy messaging before requesting addition of repository [#11044](https://github.com/sourcegraph/sourcegraph/issues/11044) __0.5d__ \n- [ ] ~Improve clarity of the extensions registry~ [#11743](https://github.com/sourcegraph/sourcegraph/issues/11743) \n- [x] Add UI integration tests backed by Polly [#11898](https://github.com/sourcegraph/sourcegraph/pull/11898) :shipit:\n\u003c!-- END ASSIGNEE --\u003e\n\n\u003c!-- BEGIN ASSIGNEE: marekweb --\u003e\n@marekweb: __4.00d__\n\n- [ ] ~Bitbucket Server native integration prevents file header text from wrapping~ [#11110](https://github.com/sourcegraph/sourcegraph/issues/11110) 🐛\n- [ ] ~Phabricator: hover tooltips showing on wrong line in diff views~ [#11378](https://github.com/sourcegraph/sourcegraph/issues/11378) [👩](https://app.hubspot.com/contacts/2762526/company/554275594)🐛\n- [x] Add puppeteer integration tests [#10037](https://github.com/sourcegraph/sourcegraph/issues/10037) __4d__ \n\u003c!-- END ASSIGNEE --\u003e\n\n\u003c!-- BEGIN ASSIGNEE: rrhyne --\u003e\n@rrhyne: __0.50d__\n\n- [x] External services banner message is unclear [#11640](https://github.com/sourcegraph/sourcegraph/issues/11640) __0.5d__ \n\u003c!-- END ASSIGNEE --\u003e\n\n\u003c!-- BEGIN ASSIGNEE: tsenart --\u003e\n@tsenart\n\n- [ ] ~Add 'activity histogram' to admin usage stats + rearrange~ [#11063](https://github.com/sourcegraph/sourcegraph/issues/11063) __2d__ \n\u003c!-- END ASSIGNEE --\u003e\n\n\u003c!-- BEGIN ASSIGNEE: twop --\u003e\n@twop\n\n- [x] Audit current e2e / regression tests, and identify which should be ported to integration tests [#11869](https://github.com/sourcegraph/sourcegraph/issues/11869) \n\u003c!-- END ASSIGNEE --\u003e\n\u003c!-- END WORK --\u003e","Number":11619,"URL":"https://github.com/sourcegraph/sourcegraph/issues/11619","State":"CLOSED","Repository":"sourcegraph/sourcegraph","Private":false,"Labels":["team/web","tracking"],"Assignees":null,"Milestone":"3.18","Author":"lguychard","CreatedAt":"2020-06-22T11:01:48Z","UpdatedAt":"0001-01-01T00:00:00Z","ClosedAt":"2020-07-15T06:07:10Z"},{"ID":"MDU6SXNzdWU0OTczODE0MDM=","Title":"Core Services: 3.9 tracking issue","Body":"**Theme**: What will break with 80k repositories across multiple code hosts?\r\n\r\n#### Required\r\n\r\nWe expect this section to grow after setting up 80k repos task is complete.\r\n\r\n- [x] Setup 80k repos on k8s.sgdev.org #5726\r\n- [x] Finish src-expose #5469\r\n- [ ] Horizontally scaling indexed-search #5725\r\n\r\n#### Polish\r\n\r\nThese are extra tasks mostly unrelated to the theme, so can slip on this milestone. However, they are generally smaller so are useful to do inbetween larger tasks.\r\n\r\n- [x] zoekt-indexserver: wait for frontend to start #3371\r\n- [x] zoekt: Cleanup failed shards #5300\r\n- [x] Handle bad repositories with ref HEAD #5291\r\n- [x] k8s.sgdev.org: symbols pod evicted #5305\r\n- [x] Search query `repohascommitafter:\"january 1 2018\"` fails if you have an empty repository #5149\r\n\r\n#### Investigate\r\n\r\nThese tasks are similiar to the polish tasks (can slip), but require some investigation.\r\n\r\n- [x] Gitserver GC logic potentially not working #5522\r\n- [x] Re-index all repos after `search.largeFiles` changes #4889\r\n- [ ] GraphQL request for repository returning null #5286\r\n\r\nThis tracking issue does not include work being done for automation, which is tracked separately in #5678.\r\n\r\n3.8 tracking issue is #5147","Number":5710,"URL":"https://github.com/sourcegraph/sourcegraph/issues/5710","State":"CLOSED","Repository":"sourcegraph/sourcegraph","Private":false,"Labels":["team/cloud","tracking"],"Assignees":["keegancsmith","kzh"],"Milestone":"3.9","Author":"nicksnyder","CreatedAt":"2019-09-23T23:48:24Z","UpdatedAt":"0001-01-01T00:00:00Z","ClosedAt":"2019-10-15T08:59:02Z"},{"ID":"MDU6SXNzdWU2NDU2NDA5MzY=","Title":"Bigdata customer Tracking issue","Body":"### Status\r\n\r\nThis tracking issue is being prepared.\r\n\r\n### Workload\r\n\r\n\u003c!-- BEGIN WORK --\u003e\n\u003c!-- BEGIN ASSIGNEE: Unassigned --\u003e\n@Unassigned\n\n- [x] repo-updater organization synching takes forever [#11684](https://github.com/sourcegraph/sourcegraph/issues/11684) 👩\n- [ ] cloning never \"finishes\" [#11397](https://github.com/sourcegraph/sourcegraph/issues/11397) \n- [ ] indexing never \"finishes\" [#11396](https://github.com/sourcegraph/sourcegraph/issues/11396) \n- [ ] searching for rare strings with count:x qualifier in large installation (xxx k repos) times out [#11395](https://github.com/sourcegraph/sourcegraph/issues/11395) \n- [ ] Support repo refresh via github webhook [#11391](https://github.com/sourcegraph/sourcegraph/issues/11391) \n- [ ] progress indicator of state of indexing [#11202](https://github.com/sourcegraph/sourcegraph/issues/11202) \n- [ ] code host status panel text should be selectable [#11201](https://github.com/sourcegraph/sourcegraph/issues/11201) \n- [x] cloning does not restart after gitservers are replaced [#11091](https://github.com/sourcegraph/sourcegraph/issues/11091) \n\u003c!-- END ASSIGNEE --\u003e\n\n\u003c!-- BEGIN ASSIGNEE: asdine --\u003e\n@asdine: __4.00d__\n\n- [ ] repository status page with \"cloning\" filter is extremely slow [#11029](https://github.com/sourcegraph/sourcegraph/issues/11029) __4d__ \n\u003c!-- END ASSIGNEE --\u003e\n\n\u003c!-- BEGIN ASSIGNEE: keegancsmith --\u003e\n@keegancsmith\n\n- [x] errors seen in indexed-search on bigdata cluster with 250k repos [#11200](https://github.com/sourcegraph/sourcegraph/issues/11200) \n- [ ] Failing index continues to retry without indication of problems on UI [#11045](https://github.com/sourcegraph/sourcegraph/issues/11045) \n\u003c!-- END ASSIGNEE --\u003e\n\n\u003c!-- BEGIN ASSIGNEE: uwedeportivo --\u003e\n@uwedeportivo\n\n- [x] repo-updater: make handleStatusMessages log entry shorter and more useful [#11203](https://github.com/sourcegraph/sourcegraph/issues/11203) \n- [ ] default log level should not be \"debug\" [#11119](https://github.com/sourcegraph/sourcegraph/issues/11119) \n- [ ] sourcegraph/customer [#57](https://github.com/sourcegraph/customer/issues/57) 👩\n- [x] repoupdater: do not log big data structures [#11092](https://github.com/sourcegraph/sourcegraph/pull/11092) :shipit:\n\u003c!-- END ASSIGNEE --\u003e\n\u003c!-- END WORK --\u003e\r\n\r\n#### Legend\r\n\r\n- 👩 Customer issue\r\n- 🐛 Bug\r\n- 🧶 Technical debt\r\n- 🛠️ [Roadmap](https://docs.google.com/document/d/1cBsE9801DcBF9chZyMnxRdolqM_1c2pPyGQz15QAvYI/edit#heading=h.5nwl5fv52ess)\r\n- 🕵️ [Spike](https://en.wikipedia.org/wiki/Spike_(software_development))\r\n- 🔒 Security issue\r\n- :shipit: Pull Request\r\n","Number":11717,"URL":"https://github.com/sourcegraph/sourcegraph/issues/11717","State":"CLOSED","Repository":"sourcegraph/sourcegraph","Private":false,"Labels":["bigdata","tracking"],"Assignees":null,"Milestone":"","Author":"davejrt","CreatedAt":"2020-06-25T15:08:29Z","UpdatedAt":"0001-01-01T00:00:00Z","ClosedAt":"2020-06-25T19:39:04Z"},{"ID":"MDU6SXNzdWU1OTU0MDYxNDc=","Title":"distribution: 3.15 tracking issue","Body":"## Work\r\n\r\n\u003c!-- BEGIN WORK --\u003e\r\n@Unassigned\r\n\r\n- [ ] distribution: 3.15 tracking issue [#9605](https://github.com/sourcegraph/sourcegraph/issues/9605) \r\n\r\n@beyang: __3.00d__\r\n\r\n- [x] Install Jaeger by default in all Sourcegraph deployment options [#9300](https://github.com/sourcegraph/sourcegraph/issues/9300) __3d__ \r\n\r\n@efritz\r\n\r\n- [x] Federate precise-code-intel-worker metrics in pure docker environments [#9552](https://github.com/sourcegraph/sourcegraph/pull/9552) :shipit:\r\n\r\n@ggilmore\r\n\r\n- [x] Merge deploy-sourcegraph latest into k8s.sgdev.org [#9759](https://github.com/sourcegraph/sourcegraph/issues/9759) \r\n- [ ] Set ephemeral storage resource requests and limits in deploy-sourcegraph [#9604](https://github.com/sourcegraph/sourcegraph/issues/9604) \r\n- [ ] Write sourcegraph/server -\u003e docker compose migration guide [#9602](https://github.com/sourcegraph/sourcegraph/issues/9602) \r\n- [x] k8s: upgrade deprecated apis [#9148](https://github.com/sourcegraph/sourcegraph/issues/9148) \r\n- [x] ci: add enable-profiling/ branch prefix [#9186](https://github.com/sourcegraph/sourcegraph/pull/9186) :shipit:\r\n\r\n@slimsag\r\n\r\n- [x] reduce src_graphql_field_seconds cardinality [#9895](https://github.com/sourcegraph/sourcegraph/issues/9895) 🐛\r\n  - [x] monitoring: reduce src_graphql_field_seconds cardinality substantially [#9898](https://github.com/sourcegraph/sourcegraph/pull/9898) :shipit:\r\n- [x] search alerting threshold should be lowered [#9894](https://github.com/sourcegraph/sourcegraph/issues/9894) \r\n  - [x] observability: relax search latency alerts to match real world [#9901](https://github.com/sourcegraph/sourcegraph/pull/9901) :shipit:\r\n- [x] multiple gitserver alerts need DataMayNotExist=true [#9856](https://github.com/sourcegraph/sourcegraph/issues/9856) 🐛\r\n  - [x] observability: minor improvements + upgrade git (fixes CI) [#9871](https://github.com/sourcegraph/sourcegraph/pull/9871) :shipit:\r\n- [ ] merge and test deploy-sourcegraph-docker#93 [#9839](https://github.com/sourcegraph/sourcegraph/issues/9839) \r\n- [x] observability: NaN values can leak into alert_count metric [#9832](https://github.com/sourcegraph/sourcegraph/issues/9832) 🐛\r\n  - [x] observability: improved NaN handling [#9835](https://github.com/sourcegraph/sourcegraph/pull/9835) :shipit:\r\n- [x] Remove line color dividing warning/critical threshold [#9830](https://github.com/sourcegraph/sourcegraph/issues/9830) \r\n  - [x] observability: remove line color dividing warning/critical thresholds [#9831](https://github.com/sourcegraph/sourcegraph/pull/9831) :shipit:\r\n- [x] observability: frontend dashboard: P90/P99 search latency should clarify it covers successful searches only [#9819](https://github.com/sourcegraph/sourcegraph/issues/9819) 🐛\r\n  - [x] observability: minor improvements + upgrade git (fixes CI) [#9871](https://github.com/sourcegraph/sourcegraph/pull/9871) :shipit:\r\n- [x] \"resolve_revision_duration_slow\" flaky; threshold too aggressive [#9751](https://github.com/sourcegraph/sourcegraph/issues/9751) 🐛\r\n  - [x] observability: convert Zoekt Index Server dashboard into generated form [#9758](https://github.com/sourcegraph/sourcegraph/pull/9758) :shipit:\r\n- [x] Symbols -\u003e frontend-internal connection should be monitored [#9732](https://github.com/sourcegraph/sourcegraph/issues/9732) 🐛\r\n  - [x] observability: convert Symbols dashboard into generated form [#9733](https://github.com/sourcegraph/sourcegraph/pull/9733) :shipit:\r\n- [x] Symbols dashboard \"Store fetch queue size\" appears to be able to go negative [#9731](https://github.com/sourcegraph/sourcegraph/issues/9731) 🐛\r\n  - [x] observability: convert Symbols dashboard into generated form [#9733](https://github.com/sourcegraph/sourcegraph/pull/9733) :shipit:\r\n- [x] Symbols dashboard cardinality too high to be useful [#9730](https://github.com/sourcegraph/sourcegraph/issues/9730) 🐛\r\n  - [x] observability: convert Symbols dashboard into generated form [#9733](https://github.com/sourcegraph/sourcegraph/pull/9733) :shipit:\r\n- [x] \"Search errors on unindexed repositories\" cardinality is too high to be useful [#9670](https://github.com/sourcegraph/sourcegraph/issues/9670) 🐛\r\n  - [x] observability: convert Searcher dashboard to generated [#9672](https://github.com/sourcegraph/sourcegraph/pull/9672) :shipit:\r\n- [x] \"Non-200 frontend responses over 5m\" should have less cardinality [#9668](https://github.com/sourcegraph/sourcegraph/issues/9668) 🐛\r\n  - [x] observability: convert Query Runner dashboard to generated [#9669](https://github.com/sourcegraph/sourcegraph/pull/9669) :shipit:\r\n- [x] Frontend dashboard \"Hard search errors\" should be uncompacted [#9660](https://github.com/sourcegraph/sourcegraph/issues/9660) 🐛\r\n  - [x] observability: convert frontend dashboard to generated [#9661](https://github.com/sourcegraph/sourcegraph/pull/9661) :shipit:\r\n- [x] Syntect server dashboard should be uncompacted [#9525](https://github.com/sourcegraph/sourcegraph/issues/9525) 🐛\r\n  - [x] generate Grafana dashboards and Prometheus alert rules from single source of truth [#9529](https://github.com/sourcegraph/sourcegraph/pull/9529) :shipit:\r\n- [x] syntect-server dashboard \"Worker timeouts\" should not show one value per frontend instance [#9524](https://github.com/sourcegraph/sourcegraph/issues/9524) 🐛\r\n  - [x] generate Grafana dashboards and Prometheus alert rules from single source of truth [#9529](https://github.com/sourcegraph/sourcegraph/pull/9529) :shipit:\r\n- [x] syntect-server dashboard \"Worker timeouts\" can appear to go negative [#9523](https://github.com/sourcegraph/sourcegraph/issues/9523) 🐛\r\n  - [x] generate Grafana dashboards and Prometheus alert rules from single source of truth [#9529](https://github.com/sourcegraph/sourcegraph/pull/9529) :shipit:\r\n- [x] sourcegraph.com searcher errors regularly high, does it include context timeouts? [#9360](https://github.com/sourcegraph/sourcegraph/issues/9360) 🐛\r\n  - [x] observability: convert Searcher dashboard to generated [#9672](https://github.com/sourcegraph/sourcegraph/pull/9672) :shipit:\r\n- [x] saved searches should be excluded from search panels/alerts where possible [#9358](https://github.com/sourcegraph/sourcegraph/issues/9358) 🐛\r\n  - [x] monitoring: distinguish between browser and API requests [#9892](https://github.com/sourcegraph/sourcegraph/pull/9892) :shipit:\r\n- [x] frontend dashboard: \"hard errors\" can show as two entries due to multiple frontend instances [#9356](https://github.com/sourcegraph/sourcegraph/issues/9356) 🐛\r\n  - [x] observability: convert frontend dashboard to generated [#9661](https://github.com/sourcegraph/sourcegraph/pull/9661) :shipit:\r\n- [x] gitserver dashboard missing panel to show # concurrent execs [#9354](https://github.com/sourcegraph/sourcegraph/issues/9354) 🐛\r\n  - [x] observability: convert Git Server dashboard into generated form [#9781](https://github.com/sourcegraph/sourcegraph/pull/9781) :shipit:\r\n- [x] when alerts are firing, they are over-counted due to # of instances [#9353](https://github.com/sourcegraph/sourcegraph/issues/9353) 🐛\r\n  - [x] observability: do not over-count firing alerts due to number of service replicas [#9826](https://github.com/sourcegraph/sourcegraph/pull/9826) :shipit:\r\n- [x] gitserver dashboard should show total available disk space and percentages [#9352](https://github.com/sourcegraph/sourcegraph/issues/9352) 🐛\r\n  - [x] observability: convert Git Server dashboard into generated form [#9781](https://github.com/sourcegraph/sourcegraph/pull/9781) :shipit:\r\n- [x] gitserver critical disk space alert should be 15% [#9351](https://github.com/sourcegraph/sourcegraph/issues/9351) 🐛\r\n  - [x] observability: convert Git Server dashboard into generated form [#9781](https://github.com/sourcegraph/sourcegraph/pull/9781) :shipit:\r\n- [x] RFC 128: Implement consistent Docker image versioning [#9251](https://github.com/sourcegraph/sourcegraph/issues/9251) \r\n  - [x] docker-images: republish docker images using Sourcegraph versioning and canonical names [#9847](https://github.com/sourcegraph/sourcegraph/pull/9847) :shipit:\r\n- [x] Improved search monitoring and alerting [#8580](https://github.com/sourcegraph/sourcegraph/issues/8580) \r\n- [x] Missing prometheus metrics [#6428](https://github.com/sourcegraph/sourcegraph/issues/6428) \r\n- [ ] ~observability: frontend dashboard: generic GraphQL monitoring~ [#9797](https://github.com/sourcegraph/sourcegraph/issues/9797) \r\n- [ ] ~observability: searcher: add alerting for archive cache~ [#9796](https://github.com/sourcegraph/sourcegraph/issues/9796) \r\n- [ ] ~monitoring for container restarts~ [#9793](https://github.com/sourcegraph/sourcegraph/issues/9793) \r\n- [ ] ~monitoring for containers being down~ [#9792](https://github.com/sourcegraph/sourcegraph/issues/9792) \r\n- [ ] ~monitoring for CPU and memory usage~ [#9791](https://github.com/sourcegraph/sourcegraph/issues/9791) \r\n- [ ] ~Alert when search indexing is failing~ [#9783](https://github.com/sourcegraph/sourcegraph/issues/9783) \r\n- [ ] ~Alert when repository updates are failing~ [#9782](https://github.com/sourcegraph/sourcegraph/issues/9782) \r\n- [ ] ~observability: canonical wording breakdown~ [#9773](https://github.com/sourcegraph/sourcegraph/issues/9773) \r\n- [ ] ~Frontend dashboard: \"non-200 indexed search responses every 5m\" should be by (category,code)~ [#9744](https://github.com/sourcegraph/sourcegraph/issues/9744) 🐛\r\n- [ ] ~syntax highlighting sometimes doesn't work, refreshing causes it to~ [#9557](https://github.com/sourcegraph/sourcegraph/issues/9557) 🐛\r\n- [ ] ~RFC 128: Investigate and propose a solution for how the Slack /release command could be implemented behind the scenes~ [#9252](https://github.com/sourcegraph/sourcegraph/issues/9252) \r\n- [ ] ~Determine missing alerts between alertmanager and grafana~ [#7528](https://github.com/sourcegraph/sourcegraph/issues/7528) \r\n- [ ] ~Setup new Grafana alerting on k8s.sgdev.org and sourcegraph.com to go to Slack~ [#7527](https://github.com/sourcegraph/sourcegraph/issues/7527) \r\n- [ ] ~Identify further inter-service communication metrics missing from new Grafana dashboards + alerts~ [#7525](https://github.com/sourcegraph/sourcegraph/issues/7525) \r\n- [ ] ~Identify further service-specific metrics missing from new Grafana dashboards + alerts~ [#7524](https://github.com/sourcegraph/sourcegraph/issues/7524) \r\n- [ ] ~metrics/alerts for gitserver slow execs and fetches/clones~ [#6675](https://github.com/sourcegraph/sourcegraph/issues/6675) \r\n- [x] observability: add container monitoring in docker-compose / pure docker deployments [#9869](https://github.com/sourcegraph/sourcegraph/pull/9869) :shipit:\r\n- [x] docker-images: fix build script permissions [#9850](https://github.com/sourcegraph/sourcegraph/pull/9850) :shipit:\r\n- [x] enterprise/dev/ci: build republished images [#9848](https://github.com/sourcegraph/sourcegraph/pull/9848) :shipit:\r\n- [x] docker-images: cleanup folder structure, use build scripts when appropriate [#9845](https://github.com/sourcegraph/sourcegraph/pull/9845) :shipit:\r\n- [x] build Grafana and Prometheus images on CI [#9843](https://github.com/sourcegraph/sourcegraph/pull/9843) :shipit:\r\n- [x] observability: do not average histogram quantiles [#9840](https://github.com/sourcegraph/sourcegraph/pull/9840) :shipit:\r\n- [x] observability: use more color-blind friendly threshold colors [#9821](https://github.com/sourcegraph/sourcegraph/pull/9821) :shipit:\r\n- [x] docker-images: fix building and publish new versions of grafana,prometheus [#9801](https://github.com/sourcegraph/sourcegraph/pull/9801) :shipit:\r\n- [x] observability: add support for alerting on values that are LessOrEqual [#9780](https://github.com/sourcegraph/sourcegraph/pull/9780) :shipit:\r\n- [x] observability: searcher: correct query for \"unindexed search request errors\" [#9772](https://github.com/sourcegraph/sourcegraph/pull/9772) :shipit:\r\n- [x] observability: add better validation of wording [#9771](https://github.com/sourcegraph/sourcegraph/pull/9771) :shipit:\r\n- [x] observability: convert Zoekt Web Server dashboard into generated form [#9770](https://github.com/sourcegraph/sourcegraph/pull/9770) :shipit:\r\n- [x] observability: do not cut off panels at the bottom of home dashboard [#9769](https://github.com/sourcegraph/sourcegraph/pull/9769) :shipit:\r\n- [x] observability: correctly sort firing alerts to the tops of dashboards [#9767](https://github.com/sourcegraph/sourcegraph/pull/9767) :shipit:\r\n- [x] observability: do not mark dashboards as non-editable [#9765](https://github.com/sourcegraph/sourcegraph/pull/9765) :shipit:\r\n- [x] observability: convert Replacer dashboard into generated form [#9749](https://github.com/sourcegraph/sourcegraph/pull/9749) :shipit:\r\n- [x] Distribution tracking issue syncer: include PRs [#9710](https://github.com/sourcegraph/sourcegraph/pull/9710) :shipit:\r\n- [x] observability: convert LSIF Server dashboard into generated form [#9682](https://github.com/sourcegraph/sourcegraph/pull/9682) :shipit:\r\n- [x] observability: convert Repo Updater dashboard to generated [#9667](https://github.com/sourcegraph/sourcegraph/pull/9667) :shipit:\r\n- [ ] ~observability: convert GitHub Proxy dashboard to generated~ [#9666](https://github.com/sourcegraph/sourcegraph/pull/9666) :shipit:\r\n- [x] observability: more clear grouping support [#9642](https://github.com/sourcegraph/sourcegraph/pull/9642) :shipit:\r\n- [x] fix regression in GraphQL field monitoring [#9619](https://github.com/sourcegraph/sourcegraph/pull/9619) :shipit:\r\n- [x] metrics FAQ cleanups [#9618](https://github.com/sourcegraph/sourcegraph/pull/9618) :shipit:\r\n- [x] doc/admin/observability/metrics: add FAQ entries [#9617](https://github.com/sourcegraph/sourcegraph/pull/9617) :shipit:\r\n- [x] observability: add support for specifying unit type of graphs [#9539](https://github.com/sourcegraph/sourcegraph/pull/9539) :shipit:\r\n- [x] observability: remove default values [#9537](https://github.com/sourcegraph/sourcegraph/pull/9537) :shipit:\r\n\r\n@uwedeportivo\r\n\r\n- [x] jaeger images must be versioned alongside sourcegraph [#9893](https://github.com/sourcegraph/sourcegraph/issues/9893) \r\n- [ ] Move e2e tests into regression test suite [#9814](https://github.com/sourcegraph/sourcegraph/issues/9814) \r\n- [ ] Update docs for how to upgrade sourcegraph.com [#9607](https://github.com/sourcegraph/sourcegraph/issues/9607) \r\n- [x] Enforce pod security policies [#9603](https://github.com/sourcegraph/sourcegraph/issues/9603) \r\n- [x] regression e2e search tests: Problems connecting to searcher [#9323](https://github.com/sourcegraph/sourcegraph/issues/9323) 🐛\r\n- [ ] 3.15 release tracking issue [#9214](https://github.com/sourcegraph/sourcegraph/issues/9214) \r\n- [x] grafana admin: editing data source field did not have any effect [#8531](https://github.com/sourcegraph/sourcegraph/issues/8531) 🐛\r\n- [ ] Placeholder: Continuous release process [#7950](https://github.com/sourcegraph/sourcegraph/issues/7950) \r\n\u003c!-- END WORK --\u003e\r\n\r\n#### Legend\r\n\r\n- 👩 Customer issue\r\n- 🐛 Bug\r\n- 🧶 Technical debt\r\n- 🛠️ [Roadmap](https://docs.google.com/document/d/1cBsE9801DcBF9chZyMnxRdolqM_1c2pPyGQz15QAvYI/edit#heading=h.5nwl5fv52ess)\r\n- 🕵️ [Spike](https://en.wikipedia.org/wiki/Spike_(software_development))\r\n- 🔒 Security issue\r\n- :shipit: Pull Request\r\n","Number":9605,"URL":"https://github.com/sourcegraph/sourcegraph/issues/9605","State":"CLOSED","Repository":"sourcegraph/sourcegraph","Private":false,"Labels":["team/distribution","tracking"],"Assignees":null,"Milestone":"3.15","Author":"beyang","CreatedAt":"2020-04-06T20:28:43Z","UpdatedAt":"0001-01-01T00:00:00Z","ClosedAt":"2020-04-21T03:35:37Z"},{"ID":"MDU6SXNzdWU1ODY1OTI2NzQ=","Title":"Tracking issue: RFC 128: Frictionless release \u0026 upgrade process","Body":"This is a tracking issue for the implementation of [RFC 128: Frictionless release \u0026 upgrade process](https://docs.google.com/document/d/1YHYxx63jxEyLb3Hs7VnzZcASQXn3dWb6IUyQXvP2i30/edit#heading=h.rg0uspwsxz5a). The work needed to implement this RFC is tracked below and may span multiple iterations.\r\n\r\n### 3.15\r\n\r\n- [ ] @slimsag Investigate and propose a solution for how the Slack /release command could be implemented behind the scenes #9252\r\n- [ ] @slimsag Implement consistent versioning for all Sourcegraph Docker images, according to the proposal in the RFC. https://github.com/sourcegraph/sourcegraph/issues/9251\r\n\r\n### Unplanned\r\n\r\nBullet points below not yet planned or fully spec'd out, and may not land in 3.15. Depends on discussion with @uwedeportivo about his ideas for automating the execution of e2e/regression tests, and on the investigation above #9252\r\n\r\n- (owner TBD) Implement the Slack `/release` command for major version releases.\r\n- (owner TBD) Implement the Slack `/release` command for minor patch version releases.\r\n\r\n","Number":9250,"URL":"https://github.com/sourcegraph/sourcegraph/issues/9250","State":"CLOSED","Repository":"sourcegraph/sourcegraph","Private":false,"Labels":["team/distribution","tracking"],"Assignees":["slimsag"],"Milestone":"","Author":"slimsag","CreatedAt":"2020-03-23T23:53:11Z","UpdatedAt":"0001-01-01T00:00:00Z","ClosedAt":"2020-04-06T17:30:55Z"},{"ID":"MDU6SXNzdWU3MDgyMjU0MTA=","Title":"RFC-214: Tracking issue","Body":"## Context\r\n\r\nRFC-214: https://docs.google.com/document/d/1ajVQ11Vyi0Wz67DN15W3girJ5kyB5Zb7vk0LK6r7gbQ/edit\r\n\r\n## Work\r\n\r\n\u003c!-- BEGIN WORK --\u003e\n\u003c!-- BEGIN ASSIGNEE: daxmc99 --\u003e\n@daxmc99: __9.00d__\n\n- [ ] RFC-214: Enable encryption on dogfood \u0026 cloud ([#14192](https://github.com/sourcegraph/sourcegraph/issues/14192)) __3d__ \n- [ ] RFC-214: Encrypt secrets in user_external_accounts, external_services, saved_searches and external_service_repos ([#13853](https://github.com/sourcegraph/sourcegraph/issues/13853)) __5d__ \n\nCompleted: __1.00d__\n- [x] (🏁 4 days ago) RFC-214: Transparent encryption and decryption for all tables that contain secrets or tokens ([~#13851~](https://github.com/sourcegraph/sourcegraph/issues/13851)) __1d__ \n\u003c!-- END ASSIGNEE --\u003e\n\n\u003c!-- BEGIN ASSIGNEE: flying-robot --\u003e\n@flying-robot: __1.00d__\n\n\nCompleted: __1.00d__\n- [x] (🏁 9 days ago) RFC-214: Repository Settings \u003e Mirroring should not display token in the UI ([~#13852~](https://github.com/sourcegraph/sourcegraph/issues/13852); PRs: ~[#14153](https://github.com/sourcegraph/sourcegraph/pull/14153)~) __1d__ \n\u003c!-- END ASSIGNEE --\u003e\n\n\u003c!-- BEGIN ASSIGNEE: ryanslade --\u003e\n@ryanslade: __1.00d__\n\n\nCompleted: __1.00d__\n- [x] (🏁 9 days ago) RFC-214: Repository Settings \u003e Mirroring should not display token in the UI ([~#13852~](https://github.com/sourcegraph/sourcegraph/issues/13852); PRs: ~[#14153](https://github.com/sourcegraph/sourcegraph/pull/14153)~) __1d__ \n\u003c!-- END ASSIGNEE --\u003e\n\n\u003c!-- BEGIN ASSIGNEE: unknwon --\u003e\n@unknwon: __6.50d__\n\n- [ ] RFC-214: Encrypt secrets in user_external_accounts, external_services, saved_searches and external_service_repos ([#13853](https://github.com/sourcegraph/sourcegraph/issues/13853)) __5d__ \n\nCompleted: __1.50d__\n- [x] (🏁 9 days ago) RFC-214: Eyeball validate data being encrypted in the database ([~#13854~](https://github.com/sourcegraph/sourcegraph/issues/13854)) __0.5d__ \n- [x] (🏁 4 days ago) RFC-214: Transparent encryption and decryption for all tables that contain secrets or tokens ([~#13851~](https://github.com/sourcegraph/sourcegraph/issues/13851)) __1d__ \n\u003c!-- END ASSIGNEE --\u003e\n\u003c!-- END WORK --\u003e\r\n","Number":14166,"URL":"https://github.com/sourcegraph/sourcegraph/issues/14166","State":"OPEN","Repository":"sourcegraph/sourcegraph","Private":false,"Labels":["RFC-214","tracking"],"Assignees":null,"Milestone":"","Author":"tsenart","CreatedAt":"2020-09-24T14:33:18Z","UpdatedAt":"0001-01-01T00:00:00Z","ClosedAt":"0001-01-01T00:00:00Z"},{"ID":"MDU6SXNzdWU3MDMwMjY5MDc=","Title":"RFC 235 Tracking issue: Move LSIF data to Postgres","Body":"Tracking issue for [RFC 235: Move LSIF data to Postgres](https://docs.google.com/document/d/1Y9p29hK8xrPUTvBdWqP9uAHDg3JLV-HCaxsbCo9-YHQ).\r\n\r\n### Tracked issues\r\n\r\n\u003c!-- BEGIN WORK --\u003e\n\u003c!-- BEGIN ASSIGNEE: efritz --\u003e\n@efritz: __5.50d__\n\n- [ ] RFC 235 Tracking issue: Move LSIF data to Postgres ([#13882](https://github.com/sourcegraph/sourcegraph/issues/13882)) \n- [ ] RFC 235: Update bundle manager to read from Postgres ([#13886](https://github.com/sourcegraph/sourcegraph/issues/13886); PRs: [#13923](https://github.com/sourcegraph/sourcegraph/pull/13923), [#13924](https://github.com/sourcegraph/sourcegraph/pull/13924)) __0.5d__ \n- [ ] RFC 235: Migrate SQLite data to Postgres ([#13888](https://github.com/sourcegraph/sourcegraph/issues/13888); PRs: [#13923](https://github.com/sourcegraph/sourcegraph/pull/13923), [#13932](https://github.com/sourcegraph/sourcegraph/pull/13932)) __0.5d__ \n- [ ] RFC 235: Update worker to write to Postgres ([#13889](https://github.com/sourcegraph/sourcegraph/issues/13889); PRs: [#13923](https://github.com/sourcegraph/sourcegraph/pull/13923), [#13946](https://github.com/sourcegraph/sourcegraph/pull/13946)) __0.5d__ \n- [ ] RFC 235: Cleanup ([#13890](https://github.com/sourcegraph/sourcegraph/issues/13890)) __1d__ \n\nCompleted: __3.00d__\n- [x] (🏁 16 days ago) chore: Co-locate dev scripts to interact with postgres (~[#13942](https://github.com/sourcegraph/sourcegraph/pull/13942)~) :shipit:\n- [x] (🏁 16 days ago) RFC 235: Add code intel postgres image ([~#13912~](https://github.com/sourcegraph/sourcegraph/issues/13912); PRs: ~[#13913](https://github.com/sourcegraph/sourcegraph/pull/13913)~) __0.5d__ \n- [x] (🏁 16 days ago) chore: Set exec bit on docker-images/codeintel-db/build.sh (~[#13955](https://github.com/sourcegraph/sourcegraph/pull/13955)~) :shipit:\n- [x] (🏁 9 days ago) codeintel: RFC 235: Soft delete upload records (~[#13822](https://github.com/sourcegraph/sourcegraph/pull/13822)~) :shipit:\n- [x] (🏁 2 days ago) RFC 235: Add migration infrastructure to codeintel database ([~#13885~](https://github.com/sourcegraph/sourcegraph/issues/13885); PRs: ~[#13903](https://github.com/sourcegraph/sourcegraph/pull/13903)~, ~[#13943](https://github.com/sourcegraph/sourcegraph/pull/13943)~) __1d__ \n- [x] (🏁 2 days ago) fix: Ensure frontend connects to frontend database (~[#14379](https://github.com/sourcegraph/sourcegraph/pull/14379)~) :shipit:\n- [x] (🏁 1 day ago) RFC 235: Add code intel postgres container ([~#13883~](https://github.com/sourcegraph/sourcegraph/issues/13883); PRs: ~[#13864](https://github.com/sourcegraph/sourcegraph/pull/13864)~, ~[#13904](https://github.com/sourcegraph/sourcegraph/pull/13904)~, [#13924](https://github.com/sourcegraph/sourcegraph/pull/13924)) __1d__ \n- [x] (🏁 1 day ago) RFC 235: Configure connection to codeintel database ([~#13884~](https://github.com/sourcegraph/sourcegraph/issues/13884); PRs: ~[#13864](https://github.com/sourcegraph/sourcegraph/pull/13864)~, ~[#13952](https://github.com/sourcegraph/sourcegraph/pull/13952)~) __0.5d__ \n\u003c!-- END ASSIGNEE --\u003e\n\u003c!-- END WORK --\u003e\r\n\r\n#### Legend\r\n\r\n- 👩 Customer issue\r\n- 🐛 Bug\r\n- 🧶 Technical debt\r\n- 🎩 Quality of life\r\n- 🛠️ [Roadmap](https://docs.google.com/document/d/1cBsE9801DcBF9chZyMnxRdolqM_1c2pPyGQz15QAvYI/edit#heading=h.5nwl5fv52ess)\r\n- 🕵️ [Spike](https://en.wikipedia.org/wiki/Spike_(software_development))\r\n- 🔒 Security issue\r\n- :shipit: Pull Request\r\n","Number":13882,"URL":"https://github.com/sourcegraph/sourcegraph/issues/13882","State":"OPEN","Repository":"sourcegraph/sourcegraph","Private":false,"Labels":["RFC-235","team/code-intelligence","tracking"],"Assignees":["efritz"],"Milestone":"3.21","Author":"efritz","CreatedAt":"2020-09-16T19:44:16Z","UpdatedAt":"0001-01-01T00:00:00Z","ClosedAt":"0001-01-01T00:00:00Z"},{"ID":"MDU6SXNzdWU2MjA0MDI2Mzc=","Title":"Distribution: 3.17 Tracking issue","Body":"### Status\r\n\r\nThis tracking issue is being prepared.\r\n\r\n### Workload\r\n\r\n\u003c!-- BEGIN WORK --\u003e\n\u003c!-- BEGIN ASSIGNEE: Unassigned --\u003e\n@Unassigned\n\n- [ ] ~Add an option to force plaintext (no syntax highlighting) for debugging~ [#8433](https://github.com/sourcegraph/sourcegraph/issues/8433) __3d__ \n\u003c!-- END ASSIGNEE --\u003e\n\n\u003c!-- BEGIN ASSIGNEE: bobheadxi --\u003e\n@bobheadxi: __19.00d__\n\n- [x] Script to flag GCP and AWS resources that are unexpected / wasteful [#10116](https://github.com/sourcegraph/sourcegraph/issues/10116) __4d__ \n- [x] monitoring for CPU and memory usage in Kubernetes [#9791](https://github.com/sourcegraph/sourcegraph/issues/9791) __2d__ \n- [x] observability: Add monitoring to signal whether instance is underprovisioned or not [#7529](https://github.com/sourcegraph/sourcegraph/issues/7529) __4d__ \n- [x] Prevent admins from saving site config if it doesn't pass validation [#10883](https://github.com/sourcegraph/sourcegraph/issues/10883) __1d__ \n- [x] resources-report: add whitelist functionality for certain resources [#11005](https://github.com/sourcegraph/sourcegraph/issues/11005) __0.5d__ \n- [x] `src config` commands fail [#10419](https://github.com/sourcegraph/sourcegraph/issues/10419) __0.5d__ 🐛\n- [x] Make conf.DeployType() differentiate between k8s and docker compose [#10399](https://github.com/sourcegraph/sourcegraph/issues/10399) __0.5d__ 🐛\n- [x] observability: Alerting should be easily configured through a file or site configuration [#10641](https://github.com/sourcegraph/sourcegraph/issues/10641) __4d__ \n- [x] monitoring: container monitoring should exclude jaeger side-car containers [#11270](https://github.com/sourcegraph/sourcegraph/issues/11270) __0.5d__ 🐛\n- [x] Automate creation of the Go third-party licenses CSV [#9973](https://github.com/sourcegraph/sourcegraph/issues/9973) __2d__ \n- [ ] ~Setup new Grafana alerting on k8s.sgdev.org and sourcegraph.com to go to Slack~ [#7527](https://github.com/sourcegraph/sourcegraph/issues/7527) __1d__ \n\u003c!-- END ASSIGNEE --\u003e\n\n\u003c!-- BEGIN ASSIGNEE: davejrt --\u003e\n@davejrt\n\n- [ ] ~move away from Prometheus alertmanager on Sourcegraph.com specifically~ [#5370](https://github.com/sourcegraph/sourcegraph/issues/5370) \n\u003c!-- END ASSIGNEE --\u003e\n\n\u003c!-- BEGIN ASSIGNEE: daxmc99 --\u003e\n@daxmc99: __4.00d__\n\n- [x] Warn users when Sourcegraph is out of date [#9708](https://github.com/sourcegraph/sourcegraph/issues/9708) __0.5d__ \n- [x] Cannot start on docker for windows (prometheus crashed) [#6577](https://github.com/sourcegraph/sourcegraph/issues/6577) \n- [x] Address golangci-lint complaints about monitoring/generator.go [#10915](https://github.com/sourcegraph/sourcegraph/issues/10915) __0.5d__ \n- [x] jaeger should be accessible via app proxy [#10491](https://github.com/sourcegraph/sourcegraph/issues/10491) __1d__ \n- [x] k8s: Deploy jaeger-agent as a Daemonset instead of sidecar container [#10052](https://github.com/sourcegraph/sourcegraph/issues/10052) __1d__ \n- [ ] ~observability: server/dev should always run latest grafana/prometheus~ [#9983](https://github.com/sourcegraph/sourcegraph/issues/9983) __1d__ \n- [ ] ~add terraform configuration for sourcegraph.com's infrastructure~ [#10455](https://github.com/sourcegraph/sourcegraph/issues/10455) __2d__ \n- [x] Add monitoring for syntax highlighting vs. gitserver perf [#10049](https://github.com/sourcegraph/sourcegraph/issues/10049) __0.5d__ \n- [ ] ~observability: Add ping performance stats to frontend dashboard~ [#9867](https://github.com/sourcegraph/sourcegraph/issues/9867) __0.5d__ \n- [x] observability: Improve ping logging [#9866](https://github.com/sourcegraph/sourcegraph/issues/9866) __0.5d__ 🐛\n\u003c!-- END ASSIGNEE --\u003e\n\n\u003c!-- BEGIN ASSIGNEE: ggilmore --\u003e\n@ggilmore: __3.50d__\n\n- [ ] ~Set ephemeral storage resource requests and limits in deploy-sourcegraph~ [#9604](https://github.com/sourcegraph/sourcegraph/issues/9604) __1d__ 👩\n- [x] sourcegraph/security-issues [#68](https://github.com/sourcegraph/security-issues/issues/68) __0.5d__ \n- [ ] ~RFC 141: spike: Implementation Round 2: Dhall~ [#10936](https://github.com/sourcegraph/sourcegraph/issues/10936) __3d__ 🕵️\n- [x] RFC 141: spike: Implementation Round 2: Cue [#10937](https://github.com/sourcegraph/sourcegraph/issues/10937) __3d__ 🕵️\n\u003c!-- END ASSIGNEE --\u003e\n\n\u003c!-- BEGIN ASSIGNEE: slimsag --\u003e\n@slimsag\n\n- [ ] ~Deploy and release: Replace Renovate with GitHub Actions~ [#10011](https://github.com/sourcegraph/sourcegraph/issues/10011) __0.5d__ \n- [ ] ~verify \"syntax highlighting sometimes doesn't work\" is fixed on customer instance~ [#9557](https://github.com/sourcegraph/sourcegraph/issues/9557) __1d__ 🐛\n- [ ] ~release: Docker Compose in-band~ [#10486](https://github.com/sourcegraph/sourcegraph/issues/10486) \n- [ ] ~Alert when repository updates are failing~ [#9782](https://github.com/sourcegraph/sourcegraph/issues/9782) __0.5d__ \n- [ ] ~RFC 128: Investigate and propose a solution for how the Slack /release command could be implemented behind the scenes~ [#9252](https://github.com/sourcegraph/sourcegraph/issues/9252) __3d__ \n- [ ] ~patch release process requires high context switching~ [#7148](https://github.com/sourcegraph/sourcegraph/issues/7148) \n- [ ] ~observability: improve/restructure admin documentation~ [#9773](https://github.com/sourcegraph/sourcegraph/issues/9773) __0.5d__ \n\u003c!-- END ASSIGNEE --\u003e\n\n\u003c!-- BEGIN ASSIGNEE: uwedeportivo --\u003e\n@uwedeportivo\n\n- [ ] ~Move e2e tests into regression test suite~ [#9814](https://github.com/sourcegraph/sourcegraph/issues/9814) __2d__ \n- [ ] ~deploy-sourcegraph: include k8s secret that's mounted into gitserver~ [#9722](https://github.com/sourcegraph/sourcegraph/issues/9722) __1d__ \n- [ ] ~support $CUSTOMER~ [#10942](https://github.com/sourcegraph/sourcegraph/issues/10942) __8d__ \n\u003c!-- END ASSIGNEE --\u003e\n\u003c!-- END WORK --\u003e\r\n\r\n#### Legend\r\n\r\n- 👩 Customer issue\r\n- 🐛 Bug\r\n- 🧶 Technical debt\r\n- 🛠️ [Roadmap](https://docs.google.com/document/d/1cBsE9801DcBF9chZyMnxRdolqM_1c2pPyGQz15QAvYI/edit#heading=h.5nwl5fv52ess)\r\n- 🕵️ [Spike](https://en.wikipedia.org/wiki/Spike_(software_development))\r\n- 🔒 Security issue\r\n- :shipit: Pull Request\r\n","Number":10788,"URL":"https://github.com/sourcegraph/sourcegraph/issues/10788","State":"CLOSED","Repository":"sourcegraph/sourcegraph","Private":false,"Labels":["planned/3.17","team/distribution","tracking"],"Assignees":["uwedeportivo","davejrt","slimsag","ggilmore","bobheadxi","daxmc99"],"Milestone":"3.17","Author":"slimsag","CreatedAt":"2020-05-18T18:04:53Z","UpdatedAt":"0001-01-01T00:00:00Z","ClosedAt":"2020-06-22T18:02:53Z"},{"ID":"MDU6SXNzdWU2MDA5NTA3NTg=","Title":"Core Services: 3.16 Tracking Issue","Body":"### Status\r\n\r\nThis tracking issue is ready.\r\n\r\n### Availability\r\n\r\nPeriod is the April 21st until May 18th. Please put in the days you won't be working and the number of working days for the period.\r\n\r\n- @keegancsmith: 18d (27 April and 1 May are holidays) minus ~multiple half-days due to childcare\r\n- @mrnugget: 19d (1 May is national holiday) minus ~multiple half-days due to childcare\r\n- @rvantonder: 12d (Not working 22 April through 1 May)\r\n- @ryanslade: 18d (27 April and 1 May are holidays)\r\n- @tsenart: 8d\r\n- @unknwon: 17d (May 1st to May 5th are national holidays)\r\n- @asdine: 19d\r\n\r\n### Work\r\n\r\n\u003c!-- BEGIN WORK --\u003e\n\u003c!-- BEGIN ASSIGNEE: Unassigned --\u003e\n@Unassigned\n\n- [ ] ~Add docs for connecting to Azure DevOps as a code host~ [#8647](https://github.com/sourcegraph/sourcegraph/issues/8647) __1d__ \n- [ ] ~src-expose: document usage with docker compose and kubernetes~ [#9884](https://github.com/sourcegraph/sourcegraph/issues/9884) __0.5d__ \n\u003c!-- END ASSIGNEE --\u003e\n\n\u003c!-- BEGIN ASSIGNEE: asdine --\u003e\n@asdine: __2.00d__\n\n- [x] https://sourcegraph.com/github.com throws a 500 [#9274](https://github.com/sourcegraph/sourcegraph/issues/9274) 🐛\n- [ ] ~Track and/or query usage in pings~ [#9177](https://github.com/sourcegraph/sourcegraph/issues/9177) __5d__ \n- [x] indexed-search: Performance improvements for concatenated regex queries [#8800](https://github.com/sourcegraph/sourcegraph/issues/8800) 👩\n- [x] Reject invalid externalURL with non-/ path [#7884](https://github.com/sourcegraph/sourcegraph/issues/7884) __2d__ 🐛\n- [x] Large files not being returned for indexed filepath searches [#10382](https://github.com/sourcegraph/sourcegraph/issues/10382) 🐛👩\n- [x] Improve performance for concatened queries [#43](https://github.com/sourcegraph/zoekt/pull/43) :shipit:\n\u003c!-- END ASSIGNEE --\u003e\n\n\u003c!-- BEGIN ASSIGNEE: keegancsmith --\u003e\n@keegancsmith\n\n- [x] Search OKRs Q2 [#10025](https://github.com/sourcegraph/sourcegraph/issues/10025) \n- [x] proposal: indexed search uses shallow git clones [#9888](https://github.com/sourcegraph/sourcegraph/issues/9888) \n- [ ] ~src-expose: document usage with docker compose and kubernetes~ [#9884](https://github.com/sourcegraph/sourcegraph/issues/9884) __0.5d__ \n- [x] Proposal: remove discussions code [#9649](https://github.com/sourcegraph/sourcegraph/issues/9649) 🧶\n- [ ] ~Add ability for src-expose to periodically run a command (without then running git commit)~ [#9643](https://github.com/sourcegraph/sourcegraph/issues/9643) \n- [x] GraphQL API Search result line numbers [#9587](https://github.com/sourcegraph/sourcegraph/issues/9587) 👩\n- [ ] ~Add docs for connecting to Azure DevOps as a code host~ [#8647](https://github.com/sourcegraph/sourcegraph/issues/8647) __1d__ \n- [ ] ~Index multiple (non-master) branches~ [#6728](https://github.com/sourcegraph/sourcegraph/issues/6728) __10d__ [👩](https://app.hubspot.com/contacts/2762526/company/554338610)\n- [x] dev/watchman: merge file change events while running handle changed [#10119](https://github.com/sourcegraph/sourcegraph/pull/10119) :shipit:\n- [x] debugproxies: Nicer display names for statefulset pods [#9950](https://github.com/sourcegraph/sourcegraph/pull/9950) :shipit:\n\u003c!-- END ASSIGNEE --\u003e\n\n\u003c!-- BEGIN ASSIGNEE: mrnugget --\u003e\n@mrnugget: __10.50d__\n\n- [x] Improve Campaigns documentation [#9913](https://github.com/sourcegraph/sourcegraph/issues/9913) __3d__ 🧶\n- [x] Run Campaigns user tests with Sourcegraph colleagues [#9912](https://github.com/sourcegraph/sourcegraph/issues/9912) __4d__ 🛠️\n- [x] Use the same code for burndown chart and derived Changeset State [#9101](https://github.com/sourcegraph/sourcegraph/issues/9101) __1.5d__ 🧶\n- [x] Expose combined diffStat on Campaign(Plan) [#7092](https://github.com/sourcegraph/sourcegraph/issues/7092) __2d__ \n\u003c!-- END ASSIGNEE --\u003e\n\n\u003c!-- BEGIN ASSIGNEE: nicksnyder --\u003e\n@nicksnyder: __0.50d__\n\n- [x] sourcegraph/security-issues [#63](https://github.com/sourcegraph/security-issues/issues/63) __0.5d__ \n\u003c!-- END ASSIGNEE --\u003e\n\n\u003c!-- BEGIN ASSIGNEE: rvantonder --\u003e\n@rvantonder: __2.50d__\n\n- [x] ~Implement repo or-expressions for multi repo/multi rev~ [#10114](https://github.com/sourcegraph/sourcegraph/issues/10114) __4d__ 👩\n- [x] ~spike: investigate supporting restricted or-expressions for repos~ [#10113](https://github.com/sourcegraph/sourcegraph/issues/10113) __1d__ 👩🕵️\n- [x] ~Write RFC for syntax that supports multiple repos and revisions to support RFC 136~ [#10111](https://github.com/sourcegraph/sourcegraph/issues/10111) __1.5d__ 👩\n- [x] Fix validation GitLab exclude repos [#10096](https://github.com/sourcegraph/sourcegraph/issues/10096) 🐛👩\n- [x] Add search option where mixed-case patterns imply case-sensitivity [#10057](https://github.com/sourcegraph/sourcegraph/issues/10057) \n- [x] Resolve field aliases in and/or queries [#10054](https://github.com/sourcegraph/sourcegraph/issues/10054) __0.5d__ 🐛\n- [x] search UI should be clear when forks or archived repositories were excluded [#9928](https://github.com/sourcegraph/sourcegraph/issues/9928) __2d__ 🐛\n\u003c!-- END ASSIGNEE --\u003e\n\n\u003c!-- BEGIN ASSIGNEE: ryanslade --\u003e\n@ryanslade: __8.50d__\n\n- [x] Merged GitHub changeset shown as \"closed\" until next sync when webhooks are activated [#10071](https://github.com/sourcegraph/sourcegraph/issues/10071) __1d__ 🐛\n- [x] Bitbucket Server webhooks miss needs work =\u003e unapproved [#9139](https://github.com/sourcegraph/sourcegraph/issues/9139) __2d__ 🐛\n- [x] Querying for cloning repositories is very slow [#8725](https://github.com/sourcegraph/sourcegraph/issues/8725) __1d__ 🐛\n- [x] Ensure that we can match webhook requests to exactly one external service [#9008](https://github.com/sourcegraph/sourcegraph/issues/9008) __1d__ 🐛\n- [x] Include \"Campaign credits\" in pings [#10073](https://github.com/sourcegraph/sourcegraph/issues/10073) __0.5d__ \n- [x] ~Validate unique rate limit configuration~ [#10026](https://github.com/sourcegraph/sourcegraph/issues/10026) __0.5d__ \n- [ ] ~Use internal rate limiters for all source requests~ [#9953](https://github.com/sourcegraph/sourcegraph/issues/9953) __2d__ \n- [ ] ~RFC 132: Use rate limit data when scheduling changeset syncs~ [#9105](https://github.com/sourcegraph/sourcegraph/issues/9105) __1d__ \n- [x] Add tests for the webhook handler that persists data [#9104](https://github.com/sourcegraph/sourcegraph/issues/9104) __2d__ 🧶\n- [x] Automatically remove Bitbucket Server webhooks if the `plugin.webhook` property has been removed [#8914](https://github.com/sourcegraph/sourcegraph/issues/8914) __1d__ 🛠️\n- [ ] ~Reduce usage of raw string for external service kind~ [#10296](https://github.com/sourcegraph/sourcegraph/issues/10296) __1d__ 🧶\n\u003c!-- END ASSIGNEE --\u003e\n\n\u003c!-- BEGIN ASSIGNEE: tsenart --\u003e\n@tsenart: __4.00d__\n\n- [x] RFC 145: Event-level data from customers export button [#10434](https://github.com/sourcegraph/sourcegraph/issues/10434) __4d__ \n  - [x] RFC 145: Usage stats download button [#10475](https://github.com/sourcegraph/sourcegraph/pull/10475) :shipit:\n- [ ] ~Add ThirdPartyLicensesDistributedTools.csv~ [#9975](https://github.com/sourcegraph/sourcegraph/issues/9975) \n- [ ] ~Automate creation of the Go third-party licenses CSV~ [#9973](https://github.com/sourcegraph/sourcegraph/issues/9973) __2d__ \n- [ ] ~Use comma delimiters in ThirdPartyLicensesGo.csv~ [#9972](https://github.com/sourcegraph/sourcegraph/issues/9972) __0.5d__ \n- [x] registry: Instrument API with Prometheus metrics [#10628](https://github.com/sourcegraph/sourcegraph/pull/10628) :shipit:\n- [x] tracking-issue: Update GitHub action [#10158](https://github.com/sourcegraph/sourcegraph/pull/10158) :shipit:\n- [x] tracking-issue: Implement simplified workflow [#10157](https://github.com/sourcegraph/sourcegraph/pull/10157) :shipit:\n- [x] Tracking issues page [#786](https://github.com/sourcegraph/about/pull/786) :shipit:\n\u003c!-- END ASSIGNEE --\u003e\n\n\u003c!-- BEGIN ASSIGNEE: unknwon --\u003e\n@unknwon: __9.00d__\n\n- [x] github: support only list private affiliated repositories  [#10184](https://github.com/sourcegraph/sourcegraph/issues/10184) __0.5d__ \n- [ ] ~RFC 142: Migrate backend e2e test with unit tests~ [#10067](https://github.com/sourcegraph/sourcegraph/issues/10067) __4d__ 🛠️\n- [ ] Get RFC 142 approved based on info from auditing [#10066](https://github.com/sourcegraph/sourcegraph/issues/10066) __3d__ \n- [x] ~authz: better heuristic of `NextSyncAt` by `PermsSyncer`~ [#9098](https://github.com/sourcegraph/sourcegraph/issues/9098) __1d__ \n- [x] Admin button for refreshing permissions for a user / repo [#8990](https://github.com/sourcegraph/sourcegraph/issues/8990) __1d__ \n- [ ] ~Use golden accounts for VCRs in tests~ [#8976](https://github.com/sourcegraph/sourcegraph/issues/8976) __2d__ 🧶\n- [ ] ~Use serializable transactions for updating permissions~ [#7877](https://github.com/sourcegraph/sourcegraph/issues/7877) __2d__ 🕵️\n- [x] Display last updated time of permissions in repo and user settings page [#8989](https://github.com/sourcegraph/sourcegraph/issues/8989) __1.5d__ \n- [x] Add backend tests for blob redirects [#10260](https://github.com/sourcegraph/sourcegraph/issues/10260) __0.5d__ \n- [x] sourcegraph/security-issues [#63](https://github.com/sourcegraph/security-issues/issues/63) __0.5d__ \n- [x] Expand CODEWONERS line `*git*` to be more precise [#10047](https://github.com/sourcegraph/sourcegraph/issues/10047) __0.5d__ \n- [x] Audit existing backend e2e tests [#9924](https://github.com/sourcegraph/sourcegraph/issues/9924) __1d__ \n- [x] GraphQL APIs are blocking forever in OSS version [#3847](https://github.com/sourcegraph/sourcegraph/issues/3847) __0.5d__ \n- [ ] ~Identify code owners for files currently owned by nobody~ [#10064](https://github.com/sourcegraph/sourcegraph/issues/10064) __0.5d__ \n- [ ] ~Add Grafana alert to `authzFilter` panel~ [#9923](https://github.com/sourcegraph/sourcegraph/issues/9923) __1d__ \n- [ ] ~Add ability for src-expose to periodically run a command (without then running git commit)~ [#9643](https://github.com/sourcegraph/sourcegraph/issues/9643) \n- [ ] Turn on background permissions syncing by default [#10657](https://github.com/sourcegraph/sourcegraph/issues/10657) __0.5d__ \n\u003c!-- END ASSIGNEE --\u003e\n\u003c!-- END WORK --\u003e\r\n\r\n#### Legend\r\n\r\n- 👩 Customer issue\r\n- 🐛 Bug\r\n- 🧶 Technical debt\r\n- 🛠️ [Roadmap](https://docs.google.com/document/d/1cBsE9801DcBF9chZyMnxRdolqM_1c2pPyGQz15QAvYI/edit#heading=h.5nwl5fv52ess)\r\n- 🕵️ [Spike](https://en.wikipedia.org/wiki/Spike_(software_development))\r\n- 🔒 Security issue\r\n- :shipit: Pull Request\r\n","Number":9910,"URL":"https://github.com/sourcegraph/sourcegraph/issues/9910","State":"CLOSED","Repository":"sourcegraph/sourcegraph","Private":false,"Labels":["team/cloud","tracking"],"Assignees":["tsenart"],"Milestone":"3.16","Author":"tsenart","CreatedAt":"2020-04-16T11:03:38Z","UpdatedAt":"0001-01-01T00:00:00Z","ClosedAt":"2020-05-25T11:47:58Z"},{"ID":"MDU6SXNzdWU2MDc0MTk3MzY=","Title":"Tracking Issue: RFC 136 MVP: Navigating version contexts","Body":"[RFC 136](https://docs.google.com/document/d/1-Hn3bSVmwZ9iY0nfztXMoDfzWMdOHYTKrhK2F5ZJZI8/edit#): Navigating version contexts\r\n\r\nI don't think we can hit 3.16. We can either release in 3.17, or do a special build during the 3.17 build cycle. This plan targets what our target customer wants:\r\n\r\n\u003c!-- BEGIN WORK --\u003e\n\u003c!-- BEGIN ASSIGNEE: asdine --\u003e\n@asdine\n\n- [x] Version context configuration and graphql integration [#10194](https://github.com/sourcegraph/sourcegraph/issues/10194) \n\u003c!-- END ASSIGNEE --\u003e\n\n\u003c!-- BEGIN ASSIGNEE: attfarhan --\u003e\n@attfarhan: __4.00d__\n\n- [x] Implement RFC 150: Version contexts UI and frontend work [#10196](https://github.com/sourcegraph/sourcegraph/issues/10196) __4d__ \n\u003c!-- END ASSIGNEE --\u003e\n\n\u003c!-- BEGIN ASSIGNEE: efritz --\u003e\n@efritz\n\n- [x] basic-code-intel uses version contexts [#10195](https://github.com/sourcegraph/sourcegraph/issues/10195) \n\u003c!-- END ASSIGNEE --\u003e\n\n\u003c!-- BEGIN ASSIGNEE: keegancsmith --\u003e\n@keegancsmith: __10.00d__\n\n- [x] Index multiple (non-master) branches [#6728](https://github.com/sourcegraph/sourcegraph/issues/6728) __10d__ [👩](https://app.hubspot.com/contacts/2762526/company/554338610)\n\u003c!-- END ASSIGNEE --\u003e\n\n\u003c!-- BEGIN ASSIGNEE: rrhyne --\u003e\n@rrhyne: __2.50d__\n\n- [x] RFC 136: Version context design [#10518](https://github.com/sourcegraph/sourcegraph/issues/10518) __2d__ \n- [ ] RFC 136: Version context design testing [#10574](https://github.com/sourcegraph/sourcegraph/issues/10574) __0.5d__ \n\u003c!-- END ASSIGNEE --\u003e\n\u003c!-- END WORK --\u003e","Number":10197,"URL":"https://github.com/sourcegraph/sourcegraph/issues/10197","State":"CLOSED","Repository":"sourcegraph/sourcegraph","Private":false,"Labels":["RFC-136","RFC-136-MVP","tracking"],"Assignees":["keegancsmith"],"Milestone":"","Author":"keegancsmith","CreatedAt":"2020-04-27T10:12:55Z","UpdatedAt":"0001-01-01T00:00:00Z","ClosedAt":"2020-07-14T13:58:14Z"},{"ID":"MDU6SXNzdWU2MDU5NzYxNDU=","Title":"Tracking Issue: Long tail of monitoring metric improvements","Body":"Tracking issue for the long-tail of monitoring metrics improvements.\r\n\r\n\u003c!-- BEGIN WORK --\u003e\n\u003c!-- BEGIN ASSIGNEE: bobheadxi --\u003e\n@bobheadxi: __2.00d__\n\n- [x] monitoring for CPU and memory usage in Kubernetes [#9791](https://github.com/sourcegraph/sourcegraph/issues/9791) __2d__ \n\u003c!-- END ASSIGNEE --\u003e\n\n\u003c!-- BEGIN ASSIGNEE: daxmc99 --\u003e\n@daxmc99: __0.50d__\n\n- [x] Add monitoring for syntax highlighting vs. gitserver perf [#10049](https://github.com/sourcegraph/sourcegraph/issues/10049) __0.5d__ \n\u003c!-- END ASSIGNEE --\u003e\n\n\u003c!-- BEGIN ASSIGNEE: slimsag --\u003e\n@slimsag: __9.50d__\n\n- [ ] Grafana: add metric for open file descriptors and alert when approaching fd limit [#10009](https://github.com/sourcegraph/sourcegraph/issues/10009) \n- [ ] Disk space of all containers is not monitored [#9919](https://github.com/sourcegraph/sourcegraph/issues/9919) __0.5d__ \n- [ ] Missing monitoring to signal if requests are not hitting search index [#9838](https://github.com/sourcegraph/sourcegraph/issues/9838) __0.5d__ \n- [ ] Alert if the number of repositories not cloned is high [#9837](https://github.com/sourcegraph/sourcegraph/issues/9837) __0.5d__ \n- [ ] observability: src_graphql_field_seconds histogram sometimes produces NaN values [#9834](https://github.com/sourcegraph/sourcegraph/issues/9834) __1d__ 🐛\n- [ ] Unindexed search archive cache is not monitored [#9796](https://github.com/sourcegraph/sourcegraph/issues/9796) __0.5d__ \n- [ ] Alert admins if containers are crashing/restarting [#9793](https://github.com/sourcegraph/sourcegraph/issues/9793) \n- [ ] Alert if containers are entirely down/missing [#9792](https://github.com/sourcegraph/sourcegraph/issues/9792) \n- [ ] If configuration becomes invalid for any reason, no alert fires for all repositories being removed [#9790](https://github.com/sourcegraph/sourcegraph/issues/9790) __0.5d__ \n- [ ] Missing monitoring to notify admins of mass recloning events [#9789](https://github.com/sourcegraph/sourcegraph/issues/9789) __0.5d__ \n- [ ] observability: gitserver: monitor command execution latency [#9788](https://github.com/sourcegraph/sourcegraph/issues/9788) __0.5d__ \n- [ ] Frontend dashboard: \"non-200 indexed search responses every 5m\" should be by (category,code) [#9744](https://github.com/sourcegraph/sourcegraph/issues/9744) __0.5d__ 🐛\n- [x] Expose # of code host API requests in Grafana Dashboards [#8581](https://github.com/sourcegraph/sourcegraph/issues/8581) __0.5d__ \n- [x] Ensure defined Grafana alerts do not disappear without data [#7623](https://github.com/sourcegraph/sourcegraph/issues/7623) __0.5d__ \n- [x] Determine missing alerts between alertmanager and grafana [#7528](https://github.com/sourcegraph/sourcegraph/issues/7528) __0.5d__ \n- [ ] Identify further inter-service communication metrics missing from new Grafana dashboards + alerts [#7525](https://github.com/sourcegraph/sourcegraph/issues/7525) __1d__ \n- [x] Identify further service-specific metrics missing from new Grafana dashboards + alerts [#7524](https://github.com/sourcegraph/sourcegraph/issues/7524) __1d__ \n- [ ] Missing monitoring for when gitserver fetches/execs/clones are slow [#6675](https://github.com/sourcegraph/sourcegraph/issues/6675) __0.5d__ \n- [ ] monitoring for how many repos are indexed/nonindexed missing [#4197](https://github.com/sourcegraph/sourcegraph/issues/4197) __0.5d__ \n- [ ] alerting for when external service connections are failing [#11595](https://github.com/sourcegraph/sourcegraph/issues/11595) \n\u003c!-- END ASSIGNEE --\u003e\n\u003c!-- END WORK --\u003e\r\n\r\n#### Legend\r\n\r\n- 👩 Customer issue\r\n- 🐛 Bug\r\n- 🧶 Technical debt\r\n- 🛠️ [Roadmap](https://docs.google.com/document/d/1cBsE9801DcBF9chZyMnxRdolqM_1c2pPyGQz15QAvYI/edit#heading=h.5nwl5fv52ess)\r\n- 🕵️ [Spike](https://en.wikipedia.org/wiki/Spike_(software_development))\r\n- 🔒 Security issue\r\n- :shipit: Pull Request\r\n","Number":10164,"URL":"https://github.com/sourcegraph/sourcegraph/issues/10164","State":"CLOSED","Repository":"sourcegraph/sourcegraph","Private":false,"Labels":["monitoring-long-tail","team/distribution","tracking"],"Assignees":["slimsag"],"Milestone":"","Author":"slimsag","CreatedAt":"2020-04-24T01:37:48Z","UpdatedAt":"0001-01-01T00:00:00Z","ClosedAt":"2020-07-01T00:51:24Z"},{"ID":"MDU6SXNzdWU3MDU3MTAxNDA=","Title":"Code Intelligence 3.21 Tracking issue","Body":"### Plan\r\n\r\n**Goal:** Get the top three most popular language indexers: lsif-go, lsif-java, lsif-clang stable by working directly on implementation with customers to identify and resolve any remaining issues that prevent the tool from being use in a wide release. This goal takes top priority for this milestone and each member of the team is leading the initiative on an indexer. \r\n\r\n**Goal:** Improve the reliability and the precise code intel backend by migrating data away from SQLite and into a more suitable database, Postgres.\r\n\r\n**Goal:** Improve best effort auto-indexing for supported languages (see issues related to RFC 201).\r\n\r\n### Availability\r\n\r\nPeriod is from 2020-09-20 to 2020-10-20. Please write the days you won't be working and the number of working days for the period.\r\n\r\n* Aida: 10d\r\n* Eric: 19d (off 2020/09/28-30)\r\n* Noah: 21d (off 2020/10/02)\r\n* Garo: 10d (off 2020/10/05-09)\r\n\r\n### Tracked issues\r\n\r\n\u003c!-- BEGIN WORK --\u003e\n\u003c!-- BEGIN ASSIGNEE: Strum355 --\u003e\n@Strum355\n\n- [ ] Find references to common Java class method name without false-positives ([#3418](https://github.com/sourcegraph/sourcegraph/issues/3418)) \n- [ ] 🚚 LSIF-Java Delivery  ([#13017](https://github.com/sourcegraph/sourcegraph/issues/13017)) \n\nCompleted\n- [x] (🏁 10 days ago) LSIF-JVM Research Spike ([~#14057~](https://github.com/sourcegraph/sourcegraph/issues/14057)) 🕵️\n\u003c!-- END ASSIGNEE --\u003e\n\n\u003c!-- BEGIN ASSIGNEE: aidaeology --\u003e\n@aidaeology: __7.00d__\n\n- [ ] Create successful and reproducible indexes of 20 OSS repos ([#12](https://github.com/sourcegraph/lsif-clang/issues/12)) \n- [ ] Remove -endpoint from src-cli usage ([#11878](https://github.com/sourcegraph/sourcegraph/issues/11878)) __0.5d__ 🧶\n- [ ] update lsif.dev ([#12501](https://github.com/sourcegraph/sourcegraph/issues/12501)) \n- [ ] Navigation to definition unavailable from occurrence/usage of symbol in source  ([#13200](https://github.com/sourcegraph/sourcegraph/issues/13200)) __0.5d__ 🐛\n- [ ] Find reference \u0026 go to definition not showing up sometimes (sourcegraph.com) ([#13802](https://github.com/sourcegraph/sourcegraph/issues/13802)) __0.5d__ 🐛\n- [ ] Code Intel - LSIF Indexing CNCF effort tracking ([#14348](https://github.com/sourcegraph/sourcegraph/issues/14348)) \n- [ ] 🚚 LSIF-Go Delivery ([#13015](https://github.com/sourcegraph/sourcegraph/issues/13015)) __5d__ \n\nCompleted: __0.50d__\n- [x] (🏁 10 days ago) Add history of code intelligence (~[#1628](https://github.com/sourcegraph/about/pull/1628)~) :shipit:\n- [x] (🏁 6 days ago) Add overview and instructions for using campaigns to enable precise code intel ([~#14224~](https://github.com/sourcegraph/sourcegraph/issues/14224)) __0.5d__ \n\u003c!-- END ASSIGNEE --\u003e\n\n\u003c!-- BEGIN ASSIGNEE: efritz --\u003e\n@efritz: __11.00d__\n\n- [ ] RFC 235 Tracking issue: Move LSIF data to Postgres ([#13882](https://github.com/sourcegraph/sourcegraph/issues/13882)) __5.50d__ \n  - [x] (🏁 1 day ago) RFC 235: Add code intel postgres container ([~#13883~](https://github.com/sourcegraph/sourcegraph/issues/13883); PRs: ~[#13864](https://github.com/sourcegraph/sourcegraph/pull/13864)~, ~[#13904](https://github.com/sourcegraph/sourcegraph/pull/13904)~, [#13924](https://github.com/sourcegraph/sourcegraph/pull/13924)) __1d__ \n  - [x] (🏁 1 day ago) RFC 235: Configure connection to codeintel database ([~#13884~](https://github.com/sourcegraph/sourcegraph/issues/13884); PRs: ~[#13864](https://github.com/sourcegraph/sourcegraph/pull/13864)~, ~[#13952](https://github.com/sourcegraph/sourcegraph/pull/13952)~) __0.5d__ \n  - [x] (🏁 2 days ago) RFC 235: Add migration infrastructure to codeintel database ([~#13885~](https://github.com/sourcegraph/sourcegraph/issues/13885); PRs: ~[#13903](https://github.com/sourcegraph/sourcegraph/pull/13903)~, ~[#13943](https://github.com/sourcegraph/sourcegraph/pull/13943)~) __1d__ \n  - [ ] RFC 235: Update bundle manager to read from Postgres ([#13886](https://github.com/sourcegraph/sourcegraph/issues/13886); PRs: [#13923](https://github.com/sourcegraph/sourcegraph/pull/13923), [#13924](https://github.com/sourcegraph/sourcegraph/pull/13924)) __0.5d__ \n  - [ ] RFC 235: Migrate SQLite data to Postgres ([#13888](https://github.com/sourcegraph/sourcegraph/issues/13888); PRs: [#13923](https://github.com/sourcegraph/sourcegraph/pull/13923), [#13932](https://github.com/sourcegraph/sourcegraph/pull/13932)) __0.5d__ \n  - [ ] RFC 235: Update worker to write to Postgres ([#13889](https://github.com/sourcegraph/sourcegraph/issues/13889); PRs: [#13923](https://github.com/sourcegraph/sourcegraph/pull/13923), [#13946](https://github.com/sourcegraph/sourcegraph/pull/13946)) __0.5d__ \n  - [ ] RFC 235: Cleanup ([#13890](https://github.com/sourcegraph/sourcegraph/issues/13890)) __1d__ \n  - [x] (🏁 16 days ago) RFC 235: Add code intel postgres image ([~#13912~](https://github.com/sourcegraph/sourcegraph/issues/13912); PRs: ~[#13913](https://github.com/sourcegraph/sourcegraph/pull/13913)~) __0.5d__ \n  - [x] (🏁 9 days ago) codeintel: RFC 235: Soft delete upload records (~[#13822](https://github.com/sourcegraph/sourcegraph/pull/13822)~) :shipit:\n  - [x] (🏁 16 days ago) chore: Co-locate dev scripts to interact with postgres (~[#13942](https://github.com/sourcegraph/sourcegraph/pull/13942)~) :shipit:\n  - [x] (🏁 16 days ago) chore: Set exec bit on docker-images/codeintel-db/build.sh (~[#13955](https://github.com/sourcegraph/sourcegraph/pull/13955)~) :shipit:\n  - [x] (🏁 2 days ago) fix: Ensure frontend connects to frontend database (~[#14379](https://github.com/sourcegraph/sourcegraph/pull/14379)~) :shipit:\n- [ ] RFC 201: Tracking issue ([#13891](https://github.com/sourcegraph/sourcegraph/issues/13891)) \n  - [x] (🏁 2 days ago) RFC 201: Write a JSONC index configuration format parser ([~#13892~](https://github.com/sourcegraph/sourcegraph/issues/13892); PRs: ~[#14356](https://github.com/sourcegraph/sourcegraph/pull/14356)~) \n  - [x] (🏁 2 days ago) RFC 201: Update auto indexer execution ([~#13894~](https://github.com/sourcegraph/sourcegraph/issues/13894); PRs: ~[#14359](https://github.com/sourcegraph/sourcegraph/pull/14359)~) \n  - [ ] RFC 201: Update index scheduler to publish new payload ([#13895](https://github.com/sourcegraph/sourcegraph/issues/13895); PRs: ~[#14358](https://github.com/sourcegraph/sourcegraph/pull/14358)~) \n  - [ ] RFC 201: Create index record based on configuration file ([#13896](https://github.com/sourcegraph/sourcegraph/issues/13896); PRs: ~[#14358](https://github.com/sourcegraph/sourcegraph/pull/14358)~) \n  - [ ] RFC 201: Write auto-configurator ([#13897](https://github.com/sourcegraph/sourcegraph/issues/13897)) \n  - [ ] RFC 201: Use auto-configurator ([#13898](https://github.com/sourcegraph/sourcegraph/issues/13898)) \n  - [ ] RFC 201: Configure CNCF repositories for indexing ([#14343](https://github.com/sourcegraph/sourcegraph/issues/14343); PRs: ~[#14344](https://github.com/sourcegraph/sourcegraph/pull/14344)~) \n  - [ ] RFC 201: Add disk size to VM ([#14390](https://github.com/sourcegraph/sourcegraph/issues/14390)) \n  - [x] (🏁 11 days ago) codeintel: Refactor command runner in indexer (~[#14102](https://github.com/sourcegraph/sourcegraph/pull/14102)~) :shipit:\n  - [x] (🏁 11 days ago) codeintel: Lower indexer output to debug level (~[#14103](https://github.com/sourcegraph/sourcegraph/pull/14103)~) :shipit:\n  - [x] (🏁 10 days ago) codeintel: Refactor index command construction (~[#14105](https://github.com/sourcegraph/sourcegraph/pull/14105)~) :shipit:\n  - [x] (🏁 10 days ago) codeintel: Move away from hardcoding image names (~[#14114](https://github.com/sourcegraph/sourcegraph/pull/14114)~) :shipit:\n  - [x] (🏁 10 days ago) codeintel: Refactor construction of copyfiles flags (~[#14116](https://github.com/sourcegraph/sourcegraph/pull/14116)~) :shipit:\n  - [x] (🏁 10 days ago) codeintel: Add orderedKeys to indexer (~[#14117](https://github.com/sourcegraph/sourcegraph/pull/14117)~) :shipit:\n  - [x] (🏁 3 days ago) codeintel: Make docker/firecracker abstraction in indexer (~[#14121](https://github.com/sourcegraph/sourcegraph/pull/14121)~) :shipit:\n  - [x] (🏁 2 days ago) migration: Update default indexer/indexer_args in lsif_indexes table (~[#14360](https://github.com/sourcegraph/sourcegraph/pull/14360)~) :shipit:\n  - [x] (🏁 2 days ago) codeintel: Update default indexer args in index scheduler (~[#14378](https://github.com/sourcegraph/sourcegraph/pull/14378)~) :shipit:\n  - [x] (🏁 2 days ago) migration: Fix bad default in indexer records (~[#14380](https://github.com/sourcegraph/sourcegraph/pull/14380)~) :shipit:\n  - [x] (🏁 2 days ago) codeintel: Fix bad default lsif-go arguments (~[#14386](https://github.com/sourcegraph/sourcegraph/pull/14386)~) :shipit:\n- [ ] codeintel: git diffing fails graphql requests related to force-pushed commits ([#12588](https://github.com/sourcegraph/sourcegraph/issues/12588)) 🧶\n- [ ] 🚚 LSIF-Go Delivery ([#13015](https://github.com/sourcegraph/sourcegraph/issues/13015)) __5d__ \n- [ ] Update RFC 236 ([#14007](https://github.com/sourcegraph/sourcegraph/issues/14007)) \n- [ ] Write announcement post for Postgres change ([#14009](https://github.com/sourcegraph/sourcegraph/issues/14009)) \n- [ ] Write architecture docs for precise code intel indexer ([#14010](https://github.com/sourcegraph/sourcegraph/issues/14010)) \n- [ ] Slow Precise Code-Intel Tooltips in C/C++ Code ([#13733](https://github.com/sourcegraph/sourcegraph/issues/13733)) \n\nCompleted: __3.50d__\n- [x] (🏁 16 days ago) chore: Co-locate dev scripts to interact with postgres (~[#13942](https://github.com/sourcegraph/sourcegraph/pull/13942)~) :shipit:\n- [x] (🏁 16 days ago) RFC 235: Add code intel postgres image ([~#13912~](https://github.com/sourcegraph/sourcegraph/issues/13912); PRs: ~[#13913](https://github.com/sourcegraph/sourcegraph/pull/13913)~) __0.5d__ \n- [x] (🏁 16 days ago) chore: Set exec bit on docker-images/codeintel-db/build.sh (~[#13955](https://github.com/sourcegraph/sourcegraph/pull/13955)~) :shipit:\n- [x] (🏁 13 days ago) 504 Gateway Timeouts when mousing over after the page has loaded for a while ([~#12930~](https://github.com/sourcegraph/sourcegraph/issues/12930)) 🐛\n- [x] (🏁 12 days ago) LSIF uploads fail with abbreviated OID ([~#13957~](https://github.com/sourcegraph/sourcegraph/issues/13957); PRs: ~[#14005](https://github.com/sourcegraph/sourcegraph/pull/14005)~) __0.5d__ \n- [x] (🏁 12 days ago) Fix retries in src-cli lsif upload ([~#14008~](https://github.com/sourcegraph/sourcegraph/issues/14008)) \n- [x] (🏁 12 days ago) tracking-issue: Better nested tracking issue estimates (~[#14035](https://github.com/sourcegraph/sourcegraph/pull/14035)~) :shipit:\n- [x] (🏁 11 days ago) codenotify: Configure efritz's subscriptions (~[#14060](https://github.com/sourcegraph/sourcegraph/pull/14060)~) :shipit:\n- [x] (🏁 11 days ago) codeintel: Refactor command runner in indexer (~[#14102](https://github.com/sourcegraph/sourcegraph/pull/14102)~) :shipit:\n- [x] (🏁 11 days ago) codeintel: Lower indexer output to debug level (~[#14103](https://github.com/sourcegraph/sourcegraph/pull/14103)~) :shipit:\n- [x] (🏁 10 days ago) codeintel: Refactor index command construction (~[#14105](https://github.com/sourcegraph/sourcegraph/pull/14105)~) :shipit:\n- [x] (🏁 10 days ago) codeintel: Move away from hardcoding image names (~[#14114](https://github.com/sourcegraph/sourcegraph/pull/14114)~) :shipit:\n- [x] (🏁 10 days ago) codeintel: Refactor construction of copyfiles flags (~[#14116](https://github.com/sourcegraph/sourcegraph/pull/14116)~) :shipit:\n- [x] (🏁 10 days ago) codeintel: Add orderedKeys to indexer (~[#14117](https://github.com/sourcegraph/sourcegraph/pull/14117)~) :shipit:\n- [x] (🏁 10 days ago) dbworker: Pass sql options to TransactableHandle ([~#14044~](https://github.com/sourcegraph/sourcegraph/issues/14044); PRs: ~[#14061](https://github.com/sourcegraph/sourcegraph/pull/14061)~, ~[#14063](https://github.com/sourcegraph/sourcegraph/pull/14063)~) \n- [x] (🏁 10 days ago) tracking-issue: Order finished work chronologically (~[#14124](https://github.com/sourcegraph/sourcegraph/pull/14124)~) :shipit:\n- [x] (🏁 10 days ago) chore: Fix tracking-issue tests (~[#14172](https://github.com/sourcegraph/sourcegraph/pull/14172)~) :shipit:\n- [x] (🏁 9 days ago) codeintel: RFC 235: Soft delete upload records (~[#13822](https://github.com/sourcegraph/sourcegraph/pull/13822)~) :shipit:\n- [x] (🏁 3 days ago) codeintel: No longer able to upload repos which are currently cloning ([~#14052~](https://github.com/sourcegraph/sourcegraph/issues/14052); PRs: ~[#14141](https://github.com/sourcegraph/sourcegraph/pull/14141)~) 🐛\n- [x] (🏁 3 days ago) codeintel: Explicitly list CNCF repositories for auto-indexing (~[#14344](https://github.com/sourcegraph/sourcegraph/pull/14344)~) :shipit:\n- [x] (🏁 3 days ago) codeintel: Remove some wrappers from a previous abstraction (~[#14142](https://github.com/sourcegraph/sourcegraph/pull/14142)~) :shipit:\n- [x] (🏁 3 days ago) codeintel: Make docker/firecracker abstraction in indexer (~[#14121](https://github.com/sourcegraph/sourcegraph/pull/14121)~) :shipit:\n- [x] (🏁 2 days ago) codeintel: Fix values in fake repo usage stats for CNCF repos (~[#14353](https://github.com/sourcegraph/sourcegraph/pull/14353)~) :shipit:\n- [x] (🏁 2 days ago) codeintel: Ensure CNCF values override real values (~[#14355](https://github.com/sourcegraph/sourcegraph/pull/14355)~) :shipit:\n- [x] (🏁 2 days ago) RFC 201: Write a JSONC index configuration format parser ([~#13892~](https://github.com/sourcegraph/sourcegraph/issues/13892); PRs: ~[#14356](https://github.com/sourcegraph/sourcegraph/pull/14356)~) \n- [x] (🏁 2 days ago) codeintel: Update lsif_index records to hold their own configuration (~[#14358](https://github.com/sourcegraph/sourcegraph/pull/14358)~) :shipit:\n- [x] (🏁 2 days ago) migration: Update default indexer/indexer_args in lsif_indexes table (~[#14360](https://github.com/sourcegraph/sourcegraph/pull/14360)~) :shipit:\n- [x] (🏁 2 days ago) Tracking issue to track Eric's tracking issue improvements in 3.21  ([~#14264~](https://github.com/sourcegraph/sourcegraph/issues/14264)) \n- [x] (🏁 2 days ago) RFC 235: Add migration infrastructure to codeintel database ([~#13885~](https://github.com/sourcegraph/sourcegraph/issues/13885); PRs: ~[#13903](https://github.com/sourcegraph/sourcegraph/pull/13903)~, ~[#13943](https://github.com/sourcegraph/sourcegraph/pull/13943)~) __1d__ \n- [x] (🏁 2 days ago) fix: Ensure frontend connects to frontend database (~[#14379](https://github.com/sourcegraph/sourcegraph/pull/14379)~) :shipit:\n- [x] (🏁 2 days ago) codeintel: Update default indexer args in index scheduler (~[#14378](https://github.com/sourcegraph/sourcegraph/pull/14378)~) :shipit:\n- [x] (🏁 2 days ago) RFC 201: Update auto indexer execution ([~#13894~](https://github.com/sourcegraph/sourcegraph/issues/13894); PRs: ~[#14359](https://github.com/sourcegraph/sourcegraph/pull/14359)~) \n- [x] (🏁 2 days ago) migration: Fix bad default in indexer records (~[#14380](https://github.com/sourcegraph/sourcegraph/pull/14380)~) :shipit:\n- [x] (🏁 2 days ago) codeintel: Fix bad default lsif-go arguments (~[#14386](https://github.com/sourcegraph/sourcegraph/pull/14386)~) :shipit:\n- [x] (🏁 1 day ago) RFC 235: Add code intel postgres container ([~#13883~](https://github.com/sourcegraph/sourcegraph/issues/13883); PRs: ~[#13864](https://github.com/sourcegraph/sourcegraph/pull/13864)~, ~[#13904](https://github.com/sourcegraph/sourcegraph/pull/13904)~, [#13924](https://github.com/sourcegraph/sourcegraph/pull/13924)) __1d__ \n- [x] (🏁 1 day ago) RFC 235: Configure connection to codeintel database ([~#13884~](https://github.com/sourcegraph/sourcegraph/issues/13884); PRs: ~[#13864](https://github.com/sourcegraph/sourcegraph/pull/13864)~, ~[#13952](https://github.com/sourcegraph/sourcegraph/pull/13952)~) __0.5d__ \n\u003c!-- END ASSIGNEE --\u003e\n\n\u003c!-- BEGIN ASSIGNEE: gbrik --\u003e\n@gbrik: __5.00d__\n\n- [ ] doesn't work on arch linux ([#1](https://github.com/sourcegraph/lsif-clang/issues/1)) 🐛\n- [ ] no output produced for seemingly well-formed compile_commands.json ([#4](https://github.com/sourcegraph/lsif-clang/issues/4)) 🐛\n- [ ] github.com/nlohmann/json on macOS fails ([#13](https://github.com/sourcegraph/lsif-clang/issues/13)) 🐛\n- [ ] definitions aren't output for templates ([#14](https://github.com/sourcegraph/lsif-clang/issues/14)) 🐛\n- [ ] 🚚 LSIF-clang Delivery ([#12349](https://github.com/sourcegraph/sourcegraph/issues/12349)) __4d__ \n- [ ] Investigate effort for Bazel integration ([#13202](https://github.com/sourcegraph/sourcegraph/issues/13202)) __1d__ 🕵️\n- [ ] Create successful and reproducible indexes of 20 OSS repos ([#12](https://github.com/sourcegraph/lsif-clang/issues/12)) \n\nCompleted\n- [x] (🏁 3 days ago) infer project root automatically if not specified ([~#15~](https://github.com/sourcegraph/lsif-clang/issues/15)) \n- [x] (🏁 3 days ago) doesn't build on ubuntu 18.04 ([~#3~](https://github.com/sourcegraph/lsif-clang/issues/3)) 🐛\n\u003c!-- END ASSIGNEE --\u003e\n\n\u003c!-- BEGIN ASSIGNEE: macraig --\u003e\n@macraig: __1.00d__\n\n- [ ] Navigation to definition unavailable from occurrence/usage of symbol in source  ([#13200](https://github.com/sourcegraph/sourcegraph/issues/13200)) __0.5d__ 🐛\n- [ ] Find reference \u0026 go to definition not showing up sometimes (sourcegraph.com) ([#13802](https://github.com/sourcegraph/sourcegraph/issues/13802)) __0.5d__ 🐛\n\u003c!-- END ASSIGNEE --\u003e\n\u003c!-- END WORK --\u003e\r\n\r\n#### Legend\r\n\r\n- 👩 Customer issue\r\n- 🐛 Bug\r\n- 🧶 Technical debt\r\n- 🎩 Quality of life\r\n- 🛠️ [Roadmap](https://docs.google.com/document/d/1cBsE9801DcBF9chZyMnxRdolqM_1c2pPyGQz15QAvYI/edit#heading=h.5nwl5fv52ess)\r\n- 🕵️ [Spike](https://en.wikipedia.org/wiki/Spike_(software_development))\r\n- 🔒 Security issue\r\n- :shipit: Pull Request\r\n","Number":13987,"URL":"https://github.com/sourcegraph/sourcegraph/issues/13987","State":"OPEN","Repository":"sourcegraph/sourcegraph","Private":false,"Labels":["team/code-intelligence","tracking"],"Assignees":["efritz","aidaeology","macraig","gbrik","Strum355"],"Milestone":"3.21","Author":"efritz","CreatedAt":"2020-09-21T15:37:09Z","UpdatedAt":"0001-01-01T00:00:00Z","ClosedAt":"0001-01-01T00:00:00Z"},{"ID":"MDU6SXNzdWU2OTUyMTcwNzE=","Title":"Distribution 3.21 Tracking issue","Body":"### Plan\r\n\r\n#### [Support new and existing deployments](https://github.com/orgs/sourcegraph/projects/74)\r\n\r\nThis is an ongoing expense, we anticipate this taking no more than 10d of work spread across the entire team.\r\n\r\n#### Support Security in deploying a log analysis tool\r\n\r\nSecurity is planning to deploy a centralized logging and analysis system and will require our assistance to setup and review this new infrastructure.\r\n\r\n#### [Implement 2+ sourcegraph.com services using dhall](https://github.com/orgs/sourcegraph/projects/71)\r\n\r\n`sourcegraph.com` sees the highest amount of Kubernetes changes out of all of our deployments + `deploy-sourcegraph`. Scoping a single component limits the customizations that we need to implement and allows for easier onboarding other engineers.\r\n\r\n- @ggilmore \r\n- @uwedeportivo\r\n- @slimsag \r\n\r\n#### [Releases are created in a single day](https://github.com/orgs/sourcegraph/projects/90)\r\n\r\nWe have a goal of reducing the time it takes to create releases, and this current several-day system has encouraged us to view releases as “baked” rather than “snapshots of the main branch”, leading to situations where main is broken and we have to retrospectively fix it or adding last minute features.\r\n\r\n- @slimsag \r\n- @davejrt \r\n- @uwedeportivo \r\n- @bobheadxi \r\n\r\n#### [Split infrastructure into separate GCP projects](https://github.com/orgs/sourcegraph/projects/92)\r\n\r\nGCP utilizes project wide roles and permissions, to ensure resources are isolated from each other and reduce the blast radius of changes, we should split resources into separate projects. Additionally, this will grant us more insight into our infrastructure costs and will become more important as we grow and expand it.\r\n\r\n- @pecigonzalo \r\n\r\n### Availability\r\n\r\nPeriod is from **September 20th** to **October 19th (21 working days)**. Please write the days you won't be working and the number of working days for the period.\r\n\r\n- **Gonza**: 19d (23rd Sept and TBD)\r\n\r\n### Tracked issues\r\n\r\n\u003c!-- BEGIN WORK --\u003e\n\u003c!-- BEGIN ASSIGNEE: beyang --\u003e\n@beyang\n\n\nCompleted\n\u003c!-- END ASSIGNEE --\u003e\n\n\u003c!-- BEGIN ASSIGNEE: bobheadxi --\u003e\n@bobheadxi: __6.50d__\n\n- [ ] release steps: automate CHANGELOG version header creation ([#13873](https://github.com/sourcegraph/sourcegraph/issues/13873)) __2d__ \n- [ ] managed-instances: deploy a demo instance ([#13604](https://github.com/sourcegraph/sourcegraph/issues/13604)) __1d__ \n- [ ] on-call: document actions to follow up on critical alerts ([#1468](https://github.com/sourcegraph/about/issues/1468)) \n- [ ] release steps: do not verify CHANGELOG entries ([#13872](https://github.com/sourcegraph/sourcegraph/issues/13872)) __0.5d__ \n\nCompleted: __3.00d__\n- [x] (🏁 18 days ago) renovate-downstream: refine action trigger ([~#13842~](https://github.com/sourcegraph/sourcegraph/issues/13842)) \n- [x] (🏁 5 days ago) release steps: stop posting milestone triage messages  ([~#13871~](https://github.com/sourcegraph/sourcegraph/issues/13871)) __2d__ \n- [x] (🏁 4 days ago) dogfood-k8s: finalize migration over to new cluster ([~#13792~](https://github.com/sourcegraph/sourcegraph/issues/13792)) __1d__ \n\u003c!-- END ASSIGNEE --\u003e\n\n\u003c!-- BEGIN ASSIGNEE: davejrt --\u003e\n@davejrt\n\n- [ ] Run e2e \"regression\" tests on bare-metal Buildkite agents on every commit to master (non-blocking) ([#12340](https://github.com/sourcegraph/sourcegraph/issues/12340)) \n- [ ] blackbox exporter \u0026 site 24/7 next steps ([#13627](https://github.com/sourcegraph/sourcegraph/issues/13627)) 🧶\n- [ ] sourcegraph/customer ([#111](https://github.com/sourcegraph/customer/issues/111)) 👩\n\nCompleted\n- [x] (🏁 5 days ago) Run e2e tests on bare-metal Buildkite agents on every commit to master (non-blocking) ([~#12339~](https://github.com/sourcegraph/sourcegraph/issues/12339)) \n\u003c!-- END ASSIGNEE --\u003e\n\n\u003c!-- BEGIN ASSIGNEE: ggilmore --\u003e\n@ggilmore\n\n- [ ] ci: build and pin tool apks in CI for release ([#13297](https://github.com/sourcegraph/sourcegraph/issues/13297)) 🧶\n- [ ] write instructions for how to modify sourcegraph.com's dhall generation pipleine ([#14136](https://github.com/sourcegraph/sourcegraph/issues/14136)) \n- [ ] write developer friendly documentation for deploy-sourcegraph-dhall architecture ([#14135](https://github.com/sourcegraph/sourcegraph/issues/14135)) \n- [ ] add \"symbols\" to service deploy-sourcegraph-dhall, with support for sourcegraph.com customizations ([#14130](https://github.com/sourcegraph/sourcegraph/issues/14130)) \n- [ ] dhall: use dhall on sourcegraph.com ([#13340](https://github.com/sourcegraph/sourcegraph/issues/13340)) \n\u003c!-- END ASSIGNEE --\u003e\n\n\u003c!-- BEGIN ASSIGNEE: pecigonzalo --\u003e\n@pecigonzalo: __18.00d__\n\n- [ ] sourcegraph/customer ([#105](https://github.com/sourcegraph/customer/issues/105)) __3d__ 👩\n- [ ] Remove the `-tooling` cluster from the production project ([#13917](https://github.com/sourcegraph/sourcegraph/issues/13917)) __3d__ \n- [ ] sourcegraph/customer ([#108](https://github.com/sourcegraph/customer/issues/108)) [👩](https://app.hubspot.com/contacts/2762526/company/693777177)\n- [ ] blackbox exporter \u0026 site 24/7 next steps ([#13627](https://github.com/sourcegraph/sourcegraph/issues/13627)) 🧶\n\nCompleted: __12.00d__\n- [x] (🏁 10 days ago) Move the CI e2e runner to the CI project ([~#13919~](https://github.com/sourcegraph/sourcegraph/issues/13919)) __1d__ \n- [x] (🏁 6 days ago) Move the CI cluster to the CI project ([~#13920~](https://github.com/sourcegraph/sourcegraph/issues/13920)) __3d__ \n- [x] (🏁 5 days ago) Move the single container dogfood deployment to the dogfood k8s cluster ([~#13916~](https://github.com/sourcegraph/sourcegraph/issues/13916)) __2d__ \n- [x] (🏁 5 days ago) Delete the big data clusters ([~#13918~](https://github.com/sourcegraph/sourcegraph/issues/13918)) __5d__ \n- [x] (🏁 4 days ago) dogfood-k8s: finalize migration over to new cluster ([~#13792~](https://github.com/sourcegraph/sourcegraph/issues/13792)) __1d__ \n\u003c!-- END ASSIGNEE --\u003e\n\n\u003c!-- BEGIN ASSIGNEE: slimsag --\u003e\n@slimsag: __2.00d__\n\n- [ ] Remove syntax highlighting for GraphQL, INI file, TOML, and Perforce ([#13933](https://github.com/sourcegraph/sourcegraph/issues/13933)) \n- [ ] sourcegraph/customer ([#103](https://github.com/sourcegraph/customer/issues/103)) 👩\n- [ ] release steps: make Product team self-sufficient ([#13868](https://github.com/sourcegraph/sourcegraph/issues/13868)) __0.5d__ \n- [ ] sourcegraph/customer ([#97](https://github.com/sourcegraph/customer/issues/97)) 👩\n- [ ] sourcegraph/customer ([#71](https://github.com/sourcegraph/customer/issues/71)) 👩\n- [ ] License report for syntect_server \u0026 its dependencies; remove syntaxes with questionable licenses ([#11269](https://github.com/sourcegraph/sourcegraph/issues/11269)) __1d__ 👩\n- [ ] sourcegraph/customer ([#49](https://github.com/sourcegraph/customer/issues/49)) __0.5d__ 🐛👩\n- [ ] Run e2e \"regression\" tests on bare-metal Buildkite agents on every commit to master (non-blocking) ([#12340](https://github.com/sourcegraph/sourcegraph/issues/12340)) \n- [ ] dhall: use dhall on sourcegraph.com ([#13340](https://github.com/sourcegraph/sourcegraph/issues/13340)) \n- [ ] distribution: add monitoring architecture page ([#1221](https://github.com/sourcegraph/about/pull/1221)) :shipit:\n- [ ] Document when to introduce new services or not ([#5487](https://github.com/sourcegraph/sourcegraph/pull/5487)) :shipit:\n\nCompleted\n- [x] (🏁 95 days ago) Tracking Issue: Long tail of monitoring metric improvements ([~#10164~](https://github.com/sourcegraph/sourcegraph/issues/10164)) \n- [x] (🏁 12 days ago) ~sourcegraph/customer~ ([~#104~](https://github.com/sourcegraph/customer/issues/104)) 👩\n- [x] (🏁 10 days ago) Create a dev/testing managed instance ([~#14075~](https://github.com/sourcegraph/sourcegraph/issues/14075)) \n- [x] (🏁 5 days ago) Run e2e tests on bare-metal Buildkite agents on every commit to master (non-blocking) ([~#12339~](https://github.com/sourcegraph/sourcegraph/issues/12339)) \n\u003c!-- END ASSIGNEE --\u003e\n\n\u003c!-- BEGIN ASSIGNEE: uwedeportivo --\u003e\n@uwedeportivo: __9.50d__\n\n- [ ] sourcegraph.com: write bot to incorporate image tag updates in dhall pipeline ([#14133](https://github.com/sourcegraph/sourcegraph/issues/14133)) __1.5d__ \n- [ ] add deploy-sourcegraph-dhall pipeline to deploy-sourcegraph-dot-com ([#14132](https://github.com/sourcegraph/sourcegraph/issues/14132)) __1d__ \n- [ ] add gitserver to deploy-sourcegraph-dhall, with support for sourcegraph.com customizations ([#14131](https://github.com/sourcegraph/sourcegraph/issues/14131)) __4d__ \n- [ ] dhall: generate separate yaml files for each \"component\" instead of one large one ([#13338](https://github.com/sourcegraph/sourcegraph/issues/13338)) __2d__ \n- [ ] dhall: use dhall on sourcegraph.com ([#13340](https://github.com/sourcegraph/sourcegraph/issues/13340)) \n\nCompleted: __1.00d__\n- [x] (🏁 4 days ago) Repo-updater component always outputs debug logs ([~#13191~](https://github.com/sourcegraph/sourcegraph/issues/13191)) __1d__ [👩](https://app.hubspot.com/contacts/2762526/company/1712883009)🎩\n\u003c!-- END ASSIGNEE --\u003e\n\u003c!-- END WORK --\u003e\r\n\r\n#### Legend\r\n\r\n- 👩 Customer issue\r\n- 🐛 Bug\r\n- 🧶 Technical debt\r\n- 🎩 Quality of life\r\n- 🛠️ [Roadmap](https://docs.google.com/document/d/1cBsE9801DcBF9chZyMnxRdolqM_1c2pPyGQz15QAvYI/edit#heading=h.5nwl5fv52ess)\r\n- 🕵️ [Spike](https://en.wikipedia.org/wiki/Spike_(software_development))\r\n- 🔒 Security issue\r\n- :shipit: Pull Request\r\n","Number":13675,"URL":"https://github.com/sourcegraph/sourcegraph/issues/13675","State":"OPEN","Repository":"sourcegraph/sourcegraph","Private":false,"Labels":["team/distribution","tracking"],"Assignees":["uwedeportivo","davejrt","slimsag","ggilmore","pecigonzalo","bobheadxi"],"Milestone":"3.21","Author":"pecigonzalo","CreatedAt":"2020-09-07T15:33:54Z","UpdatedAt":"0001-01-01T00:00:00Z","ClosedAt":"0001-01-01T00:00:00Z"},{"ID":"MDU6SXNzdWU2ODAzMzE5MjM=","Title":"Search 3.20 Tracking issue","Body":"### Plan\r\n\r\n\u003c!--\r\nSummarize what the team wants to achieve this iteration.\r\n- What are the problems we want to solve or what information do we want to gather?\r\n- Why is solving those problems or gathering that information important?\r\n- How do we plan to solve those problems or gather that information?\r\n--\u003e\r\n\r\n@keegancsmith will be working on an initial implementation of streaming search. This is a backend change which gives us more flexibility. Immediately it will improve time to first result for slower searches other issues we have with timeouts. In general it will improve the user (and machine) experience around searches which are not interactive (unindexed, diff/commit, etc).\r\n\r\n@rvantonder is taking some time off this iteration and will be doing less. He'll (1) ship [search expressions](https://github.com/sourcegraph/sourcegraph/issues/13126) and (2) enable the new query parser for 3.20 onwards. These will build a foundation for expressing new queries and enable future extensions for long-awaited features to pipe, filter, and customize powerful searches for understanding code.\r\n\r\n@stefanhengl will wrap-up his work around `@` and `rev:` and then move on to adding support for negation to searcher and, if time allows, introduce the concept of .sourcegraphignore to our search engines.\r\n\r\n@limitedmage and @attfarhan will finalize planning for the Enterprise Home feature and file necessary issues related to this, then start working on implementation.\r\n\r\n### Availability\r\n\r\nIf you have planned unavailability this iteration (e.g., vacation), you can note that here.\r\n\r\n@rvantonder proposed time off: 31 August to 9 September (8 days off)\r\n@limitedmage holiday: 7 September (Labor Day)\r\n\r\n### Tracked issues\r\n\r\n\u003c!-- BEGIN WORK --\u003e\n\u003c!-- BEGIN ASSIGNEE: Unassigned --\u003e\n@Unassigned\n\n- [x] search: metered indexed searcher spans no longer appear in OT [#13712](https://github.com/sourcegraph/sourcegraph/issues/13712) \n\u003c!-- END ASSIGNEE --\u003e\n\n\u003c!-- BEGIN ASSIGNEE: attfarhan --\u003e\n@attfarhan: __1.50d__\n\n- [ ] e2e test affects subsequent search tests [#13906](https://github.com/sourcegraph/sourcegraph/issues/13906) \n- [x] Enterprise home QA [#13835](https://github.com/sourcegraph/sourcegraph/issues/13835) \n- [x] Enterprise home: Implement GraphQL query for filtering event log by event type [#13486](https://github.com/sourcegraph/sourcegraph/issues/13486) \n- [x] Enterprise home: Add All Searches tab to Saved Searches panel [#13425](https://github.com/sourcegraph/sourcegraph/issues/13425) \n- [x] Enterprise home: Implement Saved Searches panel for my searches only [#13424](https://github.com/sourcegraph/sourcegraph/issues/13424) \n- [x] Enterprise home:  Implement Repositories panel  [#13420](https://github.com/sourcegraph/sourcegraph/issues/13420) \n- [x] Remaining tour issues [#13396](https://github.com/sourcegraph/sourcegraph/issues/13396) __1.5d__ \n- [x] Enterprise home: implementation tracking issue [#13407](https://github.com/sourcegraph/sourcegraph/issues/13407) \n- [x] RFC 224: Enterprise search homepage [#13227](https://github.com/sourcegraph/sourcegraph/issues/13227) \n\u003c!-- END ASSIGNEE --\u003e\n\n\u003c!-- BEGIN ASSIGNEE: keegancsmith --\u003e\n@keegancsmith\n\n- [x] sourcegraph/customer [#70](https://github.com/sourcegraph/customer/issues/70) 👩\n\u003c!-- END ASSIGNEE --\u003e\n\n\u003c!-- BEGIN ASSIGNEE: limitedmage --\u003e\n@limitedmage\n\n- [x] release blocking e2e test failure: Interactive search mode filter dropdown and finite-option filter inputs [#13832](https://github.com/sourcegraph/sourcegraph/issues/13832) \n- [x] release blocking e2e test failure: Interactive search mode filter buttons [#13830](https://github.com/sourcegraph/sourcegraph/issues/13830) \n- [x] Enterprise home: Stabilize visual tests due to timestamps [#13797](https://github.com/sourcegraph/sourcegraph/issues/13797) 🐛\n- [x] Enterprise home: update changelog [#13794](https://github.com/sourcegraph/sourcegraph/issues/13794) \n- [x] Enterprise home: Implement Recent Files  [#13423](https://github.com/sourcegraph/sourcegraph/issues/13423) \n- [x] Enterprise home: Implement Recent Searches panel  [#13422](https://github.com/sourcegraph/sourcegraph/issues/13422) \n- [x] Enterprise home: Create basic common lightweight panel component [#13419](https://github.com/sourcegraph/sourcegraph/issues/13419) \n- [x] Enterprise home: Create experimental feature flag for enterprise home panels [#13418](https://github.com/sourcegraph/sourcegraph/issues/13418) \n- [x] Enterprise home: implementation tracking issue [#13407](https://github.com/sourcegraph/sourcegraph/issues/13407) \n- [x] RFC 224: Enterprise search homepage [#13227](https://github.com/sourcegraph/sourcegraph/issues/13227) \n- [x] If the GQL search results type contains an alert and results, show both in the webapp [#13088](https://github.com/sourcegraph/sourcegraph/issues/13088) \n- [x] Selecting an item in the search autocomplete list requires tooltip [#11324](https://github.com/sourcegraph/sourcegraph/issues/11324) \n\u003c!-- END ASSIGNEE --\u003e\n\n\u003c!-- BEGIN ASSIGNEE: rvantonder --\u003e\n@rvantonder: __3.00d__\n\n- [x] Refactor and simplify parser code [#13754](https://github.com/sourcegraph/sourcegraph/issues/13754) \n- [x] Fix minor search parser issues [#13128](https://github.com/sourcegraph/sourcegraph/issues/13128) __3d__ \n- [x] Author searches report 'no results', should hint to use type:commit or type:diff [#12527](https://github.com/sourcegraph/sourcegraph/issues/12527) \n\u003c!-- END ASSIGNEE --\u003e\n\n\u003c!-- BEGIN ASSIGNEE: stefanhengl --\u003e\n@stefanhengl: __10.00d__\n\n- [x] improve documentation of revision syntax [#13275](https://github.com/sourcegraph/sourcegraph/issues/13275) __1d__ \n- [x] support negation for unindexed searches [#13274](https://github.com/sourcegraph/sourcegraph/issues/13274) __5d__ \n- [x] Add rev: filter support [#13091](https://github.com/sourcegraph/sourcegraph/issues/13091) \n- [x] Investigate and fix syntax for searching all branches/commits [#10571](https://github.com/sourcegraph/sourcegraph/issues/10571) __2d__ \n- [x] Exclude directories from search results [#6870](https://github.com/sourcegraph/sourcegraph/issues/6870) __2d__ [👩](https://app.hubspot.com/contacts/2762526/company/464956351)\n\u003c!-- END ASSIGNEE --\u003e\n\n\u003c!-- BEGIN ASSIGNEE: uwedeportivo --\u003e\n@uwedeportivo\n\n- [x] sourcegraph/customer [#82](https://github.com/sourcegraph/customer/issues/82) 👩\n\u003c!-- END ASSIGNEE --\u003e\n\u003c!-- END WORK --\u003e\r\n\r\n#### Legend\r\n\r\n- 👩 Customer issue\r\n- 🐛 Bug\r\n- 🧶 Technical debt\r\n- 🛠️ [Roadmap](https://docs.google.com/document/d/1cBsE9801DcBF9chZyMnxRdolqM_1c2pPyGQz15QAvYI/edit#heading=h.5nwl5fv52ess)\r\n- 🕵️ [Spike](https://en.wikipedia.org/wiki/Spike_(software_development))\r\n- 🔒 Security issue\r\n- :shipit: Pull Request\r\n","Number":13065,"URL":"https://github.com/sourcegraph/sourcegraph/issues/13065","State":"CLOSED","Repository":"sourcegraph/sourcegraph","Private":false,"Labels":["team/search","tracking"],"Assignees":null,"Milestone":"3.20","Author":"nicksnyder","CreatedAt":"2020-08-17T15:41:22Z","UpdatedAt":"0001-01-01T00:00:00Z","ClosedAt":"2020-09-22T13:18:05Z"},{"ID":"MDU6SXNzdWU2NTk1NDM0NDc=","Title":"Security: 3.19 Tracking issue","Body":"### Plan\r\n\r\nAchieve [RFC 196](https://docs.google.com/document/d/1e10UPwmI16VAQleBK81EQMMGTRBgihI1vwL5I6kicrA/) in support of \r\nGoal 2: Store and handle external service and external account secrets securely.\r\n\r\n### Availability\r\n\r\nPeriod is from July 20th to August 19th (23 working days). Please write the days you won't be working and the number of working days for the period.\r\n\r\n- **@chayim**: 19d (off Aug 10-13)\r\n\r\n### Tracked issues\r\n\r\n\u003c!-- BEGIN WORK --\u003e\n\u003c!-- BEGIN ASSIGNEE: ElizabethStirling --\u003e\n@ElizabethStirling\n\n- [x] Send new users (added by site admin) the password reset URL over email [#1519](https://github.com/sourcegraph/sourcegraph/issues/1519) \n\u003c!-- END ASSIGNEE --\u003e\n\n\u003c!-- BEGIN ASSIGNEE: Unassigned --\u003e\n@Unassigned\n\n- [x] Implement a DBEncryptionStore supporting the database back end [#12267](https://github.com/sourcegraph/sourcegraph/issues/12267) \n\u003c!-- END ASSIGNEE --\u003e\n\n\u003c!-- BEGIN ASSIGNEE: chayim --\u003e\n@chayim\n\n- [x] Create a dedicated token object that can be used as part of the per deployment encryption [#12410](https://github.com/sourcegraph/sourcegraph/issues/12410) \n- [x] Separate Secrets Access from Secrets Storage [#12165](https://github.com/sourcegraph/sourcegraph/issues/12165) \n- [x] Implement Schema for Secrets Storage [#12164](https://github.com/sourcegraph/sourcegraph/issues/12164) \n- [x] Create a dedicated token object for returning the raw and masked tokens [#12268](https://github.com/sourcegraph/sourcegraph/issues/12268) \n- [x] Key Rotation Should Re-encrypt objects at rest [#12269](https://github.com/sourcegraph/sourcegraph/issues/12269) \n- [ ] Update repo_update code to use encrypted store [#12264](https://github.com/sourcegraph/sourcegraph/issues/12264) \n- [ ] Migrate secrets from JSON blobs to encrypted storage [#12263](https://github.com/sourcegraph/sourcegraph/issues/12263) \n- [ ] Create an automatic migration for existing data [#12265](https://github.com/sourcegraph/sourcegraph/issues/12265) \n\u003c!-- END ASSIGNEE --\u003e\n\n\u003c!-- BEGIN ASSIGNEE: daxmc99 --\u003e\n@daxmc99\n\n- [x] Generate unique keys on a per deployment basis [#12409](https://github.com/sourcegraph/sourcegraph/issues/12409) \n- [x] Create a dedicated token object that can be used as part of the per deployment encryption [#12410](https://github.com/sourcegraph/sourcegraph/issues/12410) \n- [x] Key Rotation Should Re-encrypt objects at rest [#12269](https://github.com/sourcegraph/sourcegraph/issues/12269) \n- [x] Create a dedicated token object for returning the raw and masked tokens [#12268](https://github.com/sourcegraph/sourcegraph/issues/12268) \n- [ ] Create an automatic migration for existing data [#12265](https://github.com/sourcegraph/sourcegraph/issues/12265) \n- [ ] Update repo_update code to use encrypted store [#12264](https://github.com/sourcegraph/sourcegraph/issues/12264) \n- [ ] Migrate secrets from JSON blobs to encrypted storage [#12263](https://github.com/sourcegraph/sourcegraph/issues/12263) \n\u003c!-- END ASSIGNEE --\u003e\n\u003c!-- END WORK --\u003e\r\n\r\n#### Legend\r\n\r\n- 👩 Customer issue\r\n- 🐛 Bug\r\n- 🧶 Technical debt\r\n- 🛠️ [Roadmap](https://docs.google.com/document/d/1cBsE9801DcBF9chZyMnxRdolqM_1c2pPyGQz15QAvYI/edit#heading=h.5nwl5fv52ess)\r\n- 🕵️ [Spike](https://en.wikipedia.org/wiki/Spike_(software_development))\r\n- 🔒 Security issue\r\n- :shipit: Pull Request\r\n","Number":12300,"URL":"https://github.com/sourcegraph/sourcegraph/issues/12300","State":"CLOSED","Repository":"sourcegraph/sourcegraph","Private":false,"Labels":["team/security","tracking"],"Assignees":null,"Milestone":"3.19","Author":"chayim","CreatedAt":"2020-07-17T19:08:31Z","UpdatedAt":"0001-01-01T00:00:00Z","ClosedAt":"2020-08-31T11:08:16Z"},{"ID":"MDU6SXNzdWU0NjkwNDQ1NTI=","Title":"Core Services: 3.7 Tracking Issue","Body":"## Goal\r\n\r\n99th percentile latency of indexed search at 42req/s with 20k repos is under 2s.\r\n\r\n## Availability\r\n\r\nTeam:\r\n- Hackweek(s) **July 22nd - Aug 2nd** ([see details here](https://docs.google.com/document/d/1Ljs7C3uB7Di6tfyUsKOHMuFHflrGQFC6quQR_SoOQ34/edit#heading=h.yahdutol4v38))\r\n- @tsenart \u0026 @mrnugget in San Diego for GopherCon from **July 22th-27th**\r\n- @tsenart, @mrnugget \u0026 @keegancsmith in Berlin for Core Meetup **August 5th-10th**\r\n\r\nInvidividuals:\r\n\r\n- @mrnugget: Not working **August 12th-16th**\r\n- @tsenart Available\r\n- @keegancsmith Available\r\n\r\n## Background\r\n\r\nA requirement for future work on Zoekt performance is to define a performance model of Zoekt's current architecture that allows us to predict Zoekt's performance to a certain extent.\r\n\r\nAfter doing back-of-the-napkin math, we came up with the following formula:\r\n\r\n\"With N cores and M shards it can take up to X to search a single shard when aiming to do 42req/s (T)\"\r\n\r\n![IMG_4654](https://user-images.githubusercontent.com/1185253/61435859-cb446d00-a939-11e9-9997-7087955b54fa.jpeg)\r\n\r\nWith variables plugged in, that gives us:\r\n- \"With 384 cores and 30000 shards and 42 req/s it can take a maximum of 300us to search a single shard\"\r\n- \"With 1 core and 30000 shards and 42 req/s it can take a maximum of 0.79us to search a single shard\"\r\n\r\n## Planned work\r\n\r\n- [ ] Global repository permissions caching (#4812)\r\n- [ ] Determine resource allocation \"equation\" and update docs for admins to provision them accordingly for their Sourcegraph installation (e.g. https://confluence.atlassian.com/bitbucketserver/scaling-bitbucket-server-776640073.html)\r\n- [ ] Experiment with more efficient posting lists in Zoekt https://github.com/sourcegraph/zoekt/pull/10\r\n- [ ] Scale Zoekt horizontally\r\n    - [ ] Write proposal, derive implementation plan from it.\r\n\r\n### Moar Ideas \r\n- [ ] Reduce contention in Zoekt\r\n- [ ] Improve `indexData.simplify` in Zoekt\r\n- [ ] Improve parsing of newlines in Zoekt\r\n- [ ] Shard compaction\r\n- [ ] Shard compression (are we I/O bound?)\r\n\r\n","Number":4924,"URL":"https://github.com/sourcegraph/sourcegraph/issues/4924","State":"CLOSED","Repository":"sourcegraph/sourcegraph","Private":false,"Labels":["team/cloud","tracking"],"Assignees":["tsenart","keegancsmith","mrnugget"],"Milestone":"3.7","Author":"mrnugget","CreatedAt":"2019-07-17T08:00:03Z","UpdatedAt":"0001-01-01T00:00:00Z","ClosedAt":"2019-08-20T02:11:54Z"},{"ID":"MDU6SXNzdWU2OTU5ODY4NDg=","Title":"Product team 3.20 Tracking issue","Body":"### Plan\r\n\r\nList of work in progress:\r\n\r\n- [Goals for search team](https://github.com/sourcegraph/about/pull/1462)\r\n- [Wrap up roadmap PR](https://github.com/sourcegraph/about/pull/1164)\r\n- Code monitoring\r\n- Browser extension discoverability\r\n- Campaigns UI support\r\n\r\n### Availability\r\n\r\n- Christina out 1 week vacation Aug 17-21, Labor Day\r\n\r\n### Tracked issues\r\n\r\n\u003c!-- BEGIN WORK --\u003e\n\u003c!-- BEGIN ASSIGNEE: kghopson --\u003e\n@kghopson\n\n\nCompleted\n- [x] (🏁 43 days ago) Docs - Basic cleanup ([~#12945~](https://github.com/sourcegraph/sourcegraph/issues/12945)) \n- [x] (🏁 10 days ago) Add writing case study page to docs ([~#4828~](https://github.com/sourcegraph/sourcegraph/issues/4828)) \n\u003c!-- END ASSIGNEE --\u003e\n\n\u003c!-- BEGIN ASSIGNEE: lorihey --\u003e\n@lorihey\n\n\nCompleted\n- [x] (🏁 10 days ago) Add writing case study page to docs ([~#4828~](https://github.com/sourcegraph/sourcegraph/issues/4828)) \n\u003c!-- END ASSIGNEE --\u003e\n\u003c!-- END WORK --\u003e\r\n","Number":13698,"URL":"https://github.com/sourcegraph/sourcegraph/issues/13698","State":"OPEN","Repository":"sourcegraph/sourcegraph","Private":false,"Labels":["team/product","tracking"],"Assignees":null,"Milestone":"3.20","Author":"christinaforney","CreatedAt":"2020-09-08T15:48:34Z","UpdatedAt":"0001-01-01T00:00:00Z","ClosedAt":"0001-01-01T00:00:00Z"},{"ID":"MDU6SXNzdWU2Mzk0OTY4OTc=","Title":"Campaigns: 3.18 Tracking Issue","Body":"### Plan\r\n\r\nThe main goals for this iteration are: \r\n\r\n- Add support for Gitlab to campaigns (Adam)\r\n- Implement the campaigns workflow as documented in #10921 (Erik, Thorsten)\r\n\r\nBoth tie back to our OKR-based overarching goal to release campaigns as a non-feature-flagged, non-beta feature and get N customers using it to create campaigns.\r\n\r\nImplementing Gitlab support is the result of multiple customers asking for it. Implementing the new workflow is the result of usertesting with Sourcegraph colleagues.\r\n\r\nThe first one should increase the number of customers trying out campaigns, the second one should make it easier for all customers to get started with campaigns and actually _create_ campaigns.\r\n\r\n### Availability\r\n\r\nPeriod is from **June 22nd** to **July 17th** (20 days). Please write the days you won't be working and the number of working days for the period.\r\n\r\n- @mrnugget: 17d (Not working 6-8th July )\r\n- @eseliger: 20d\r\n- @LawnGnome: 19d (Canada Day 1st July)\r\n\r\n### Workload\r\n\r\n\u003c!-- BEGIN WORK --\u003e\n\u003c!-- BEGIN ASSIGNEE: LawnGnome --\u003e\n@LawnGnome: __13.00d__\n\n- [x] Cache diffstat for external changesets [#11075](https://github.com/sourcegraph/sourcegraph/issues/11075) __0.5d__ \n- [x] Clearer error message for improper JSON escape sequence in `src actions scope-query` [#10541](https://github.com/sourcegraph/sourcegraph/issues/10541) __0.5d__ 🐛\n  - [x] Update jsonx dependency [#233](https://github.com/sourcegraph/src-cli/pull/233) :shipit:🐛\n- [x] Support GitLab in campaigns [#11586](https://github.com/sourcegraph/sourcegraph/issues/11586) __12d__ \n- [x] campaigns: spurious Percy failures caused by the landing page video [#12170](https://github.com/sourcegraph/sourcegraph/issues/12170) 🐛\n- [x] ~campaigns: GitLab webhook support~ [#12171](https://github.com/sourcegraph/sourcegraph/issues/12171) __2d__ \n- [x] CODEOWNERS: campaigns should own docs [#12218](https://github.com/sourcegraph/sourcegraph/pull/12218) :shipit:\n\u003c!-- END ASSIGNEE --\u003e\n\n\u003c!-- BEGIN ASSIGNEE: eseliger --\u003e\n@eseliger: __4.50d__\n\n- [ ] ~Frontend: New campaigns flow~ [#10986](https://github.com/sourcegraph/sourcegraph/issues/10986) __8d__ \n- [x] YAML support for action definitions [#11589](https://github.com/sourcegraph/sourcegraph/issues/11589) __1d__ \n- [x] Use paginated search in src-cli to fetch repositories for campaigns [#11587](https://github.com/sourcegraph/sourcegraph/issues/11587) __1d__ 🕵️\n- [x] Don't put campaigns marketing page on dotcom behind auth [#11501](https://github.com/sourcegraph/sourcegraph/issues/11501) __0.5d__ \n- [x] Allow previewing of changesets for unsupported code hosts [#11193](https://github.com/sourcegraph/sourcegraph/issues/11193) __1.5d__ \n- [x] Remove hard distinction between manual and patchset campaigns [#10984](https://github.com/sourcegraph/sourcegraph/issues/10984) __0.5d__ \n\u003c!-- END ASSIGNEE --\u003e\n\n\u003c!-- BEGIN ASSIGNEE: mrnugget --\u003e\n@mrnugget\n\n- [x] ~Backend: New campaign flow~ [#10985](https://github.com/sourcegraph/sourcegraph/issues/10985) __12d__ \n- [ ] ~Replace \"automation\" feature flag with \"campaigns\" toggle and remove configuration flags~ [#10713](https://github.com/sourcegraph/sourcegraph/issues/10713) __1d__ 🛠️\n- [x] ~Creating larger campaigns using src-cli fails with 413~ [#9202](https://github.com/sourcegraph/sourcegraph/issues/9202) __0.5d__ 🐛\n- [x] Make the verbose-mode (\"-v\") UI the default UI for src action exec [#224](https://github.com/sourcegraph/src-cli/issues/224) \n- [ ] Enable Campaigns by default (with write-access only for admins) [#11621](https://github.com/sourcegraph/sourcegraph/pull/11621) :shipit:\n- [x] Implement missing bits in CampaignSpec/ChangesetSpec resolvers [#12247](https://github.com/sourcegraph/sourcegraph/pull/12247) :shipit:\n- [x] Delete expired CampaignSpecs and ChangesetSpecs [#12210](https://github.com/sourcegraph/sourcegraph/pull/12210) :shipit:\n- [x] Implement ChangesetSpec resolver and validation of specs [#12092](https://github.com/sourcegraph/sourcegraph/pull/12092) :shipit:\n- [x] New campaigns flow: implement moveCampaign mutation [#12049](https://github.com/sourcegraph/sourcegraph/pull/12049) :shipit:\n- [x] Add a basic implementation of the applyCampaign mutation [#11934](https://github.com/sourcegraph/sourcegraph/pull/11934) :shipit:\n- [x] Add createCampaignSpec/createChangesetSpec mutations [#11813](https://github.com/sourcegraph/sourcegraph/pull/11813) :shipit:\n- [x] Add GraphQL resolvers for CampaignSpec/ChangesetSpec [#11733](https://github.com/sourcegraph/sourcegraph/pull/11733) :shipit:\n- [x] Add CampaignSpecs \u0026 ChangesetSpecs tables, type definitions and campaigns.Store support [#11711](https://github.com/sourcegraph/sourcegraph/pull/11711) :shipit:\n- [x] Check that $VERSION is in MAJOR.MINOR.PATCH format in release.sh [#227](https://github.com/sourcegraph/src-cli/pull/227) :shipit:\n\u003c!-- END ASSIGNEE --\u003e\n\n\u003c!-- BEGIN ASSIGNEE: ryanslade --\u003e\n@ryanslade: __2.00d__\n\n- [x] `src actions exec` can cause frontend to be OOMKilled [#10540](https://github.com/sourcegraph/sourcegraph/issues/10540) __2d__ 🐛\n\u003c!-- END ASSIGNEE --\u003e\n\u003c!-- END WORK --\u003e\r\n\r\n#### Legend\r\n\r\n- 👩 Customer issue\r\n- 🐛 Bug\r\n- 🧶 Technical debt\r\n- 🛠️ [Roadmap](https://docs.google.com/document/d/1cBsE9801DcBF9chZyMnxRdolqM_1c2pPyGQz15QAvYI/edit#heading=h.5nwl5fv52ess)\r\n- 🕵️ [Spike](https://en.wikipedia.org/wiki/Spike_(software_development))\r\n- 🔒 Security issue\r\n- :shipit: Pull Request\r\n","Number":11523,"URL":"https://github.com/sourcegraph/sourcegraph/issues/11523","State":"CLOSED","Repository":"sourcegraph/sourcegraph","Private":false,"Labels":["team/campaigns","tracking"],"Assignees":["mrnugget"],"Milestone":"3.18","Author":"mrnugget","CreatedAt":"2020-06-16T09:00:51Z","UpdatedAt":"0001-01-01T00:00:00Z","ClosedAt":"2020-08-13T04:18:12Z"},{"ID":"MDU6SXNzdWU2MDA5OTAwODc=","Title":"Web: 3.16 tracking issue","Body":"## Work\r\n\r\n\u003c!-- BEGIN WORK --\u003e\n\u003c!-- BEGIN ASSIGNEE: Unassigned --\u003e\n@Unassigned\n\n- [x] Smart search shows no suggestions when filter value is a regex pattern [#10770](https://github.com/sourcegraph/sourcegraph/issues/10770) 🐛\n\u003c!-- END ASSIGNEE --\u003e\n\n\u003c!-- BEGIN ASSIGNEE: attfarhan --\u003e\n@attfarhan: __5.50d__\n\n- [x] Implement RFC 150: Version contexts UI and frontend work [#10196](https://github.com/sourcegraph/sourcegraph/issues/10196) __4d__ \n- [ ] ~Communicate that `lang:` filter supports languages beyond suggestions~ [#10148](https://github.com/sourcegraph/sourcegraph/issues/10148) __0.5d__ \n- [x] Copy query button [#10020](https://github.com/sourcegraph/sourcegraph/issues/10020) __1d__ \n- [x] Add protocol buffers to our `lang:` search filter [#9750](https://github.com/sourcegraph/sourcegraph/issues/9750) __0.5d__ \n- [ ] ~Interactive search doesn't play well with suggestions~ [#9378](https://github.com/sourcegraph/sourcegraph/issues/9378) __1d__ \n- [ ] ~Try enzyme for cleaner snapshot tests~ [#9040](https://github.com/sourcegraph/sourcegraph/issues/9040) __0.5d__ 🧶\n- [x] \"/\" hotkey to focus search input is broken [#10309](https://github.com/sourcegraph/sourcegraph/issues/10309) 🐛\n- [ ] ~Explore alternatives to Reactstrap~ [#6443](https://github.com/sourcegraph/sourcegraph/issues/6443) __3d__ 🧶\n\u003c!-- END ASSIGNEE --\u003e\n\n\u003c!-- BEGIN ASSIGNEE: efritz --\u003e\n@efritz\n\n- [x] Add Cobol support (lang filters, codeintel) [#10154](https://github.com/sourcegraph/sourcegraph/issues/10154) \n\u003c!-- END ASSIGNEE --\u003e\n\n\u003c!-- BEGIN ASSIGNEE: eseliger --\u003e\n@eseliger: __4.50d__\n\n- [x] Add nightly browser extension test runs [#7980](https://github.com/sourcegraph/sourcegraph/issues/7980) __3d__ 🧶\n- [x] Syntax highlighting for diff hunks [#9166](https://github.com/sourcegraph/sourcegraph/issues/9166) __1.5d__ \n- [x] Branches in branch switcher cannot be clicked anymore [#10590](https://github.com/sourcegraph/sourcegraph/issues/10590) 🐛\n\u003c!-- END ASSIGNEE --\u003e\n\n\u003c!-- BEGIN ASSIGNEE: felixfbecker --\u003e\n@felixfbecker: __11.00d__\n\n- [x] Prototype graph contributions [#10018](https://github.com/sourcegraph/sourcegraph/issues/10018) __4d__ \n  - [x] Add support for charts to the extension API [#10550](https://github.com/sourcegraph/sourcegraph/pull/10550) :shipit:\n- [x] Prototype directory level contributions [#10017](https://github.com/sourcegraph/sourcegraph/issues/10017) __4d__ \n- [x] Update to comlink v4 [#3989](https://github.com/sourcegraph/sourcegraph/issues/3989) __2d__ 🧶\n  - [x] Uprade to comlink v4  [#10149](https://github.com/sourcegraph/sourcegraph/pull/10149) :shipit:🧶\n- [x] Go-to-def on GitHub appends absolute URL  [#10287](https://github.com/sourcegraph/sourcegraph/issues/10287) 🐛\n- [x] Percy should not run on release branches [#4505](https://github.com/sourcegraph/sourcegraph/issues/4505) __0.5d__ \n- [x] Add Percy tests from storybooks [#9565](https://github.com/sourcegraph/sourcegraph/issues/9565) __0.5d__ \n  - [x] Take percy snapshots of storybooks [#10622](https://github.com/sourcegraph/sourcegraph/pull/10622) :shipit:\n- [x] Make ActionItems open in new tab if external links [#10345](https://github.com/sourcegraph/sourcegraph/pull/10345) :shipit:👩\n- [x] Use browser extension Port objects instead of hacky comlink string channel [#10302](https://github.com/sourcegraph/sourcegraph/pull/10302) :shipit:🐛🧶\n- [x] Add directory page extension APIs [#10236](https://github.com/sourcegraph/sourcegraph/pull/10236) :shipit:\n- [x] Fix conflicting storybook styles [#10033](https://github.com/sourcegraph/sourcegraph/pull/10033) :shipit:\n\u003c!-- END ASSIGNEE --\u003e\n\n\u003c!-- BEGIN ASSIGNEE: keegancsmith --\u003e\n@keegancsmith\n\n- [x] Proposal: remove discussions code [#9649](https://github.com/sourcegraph/sourcegraph/issues/9649) 🧶\n\u003c!-- END ASSIGNEE --\u003e\n\n\u003c!-- BEGIN ASSIGNEE: lguychard --\u003e\n@lguychard: __3.50d__\n\n- [ ] ~Add puppeteer integration tests~ [#10037](https://github.com/sourcegraph/sourcegraph/issues/10037) __4d__ \n- [ ] ~Fix error property propagation from background pages~ [#9693](https://github.com/sourcegraph/sourcegraph/issues/9693) __1d__ 🧶\n- [x] Intermediate plain text search bar should use same font as Monaco editor [#9499](https://github.com/sourcegraph/sourcegraph/issues/9499) __0.5d__ \n- [ ] ~OptionsMenu code is a mess~ [#9282](https://github.com/sourcegraph/sourcegraph/issues/9282) __1d__ 🧶\n- [x] Search bar steals \"Cmd+L\" keybinding [#9125](https://github.com/sourcegraph/sourcegraph/issues/9125) 🐛\n- [x] New search autocomplete yields no results in this particular case [#8749](https://github.com/sourcegraph/sourcegraph/issues/8749) \n- [x] Cursor is put at the beginning of search field after submitting (instead of staying at end) [#8731](https://github.com/sourcegraph/sourcegraph/issues/8731) __0.5d__ 🐛\n- [x] MonacoQueryInput does not shrink when the window is resized. [#7692](https://github.com/sourcegraph/sourcegraph/issues/7692) __1d__ 🐛\n- [x] Browser extension not working when sourcegraphURL has a trailing slash [#6521](https://github.com/sourcegraph/sourcegraph/issues/6521) __1d__ 🐛\n- [x] Repogroup autocomplete [#10141](https://github.com/sourcegraph/sourcegraph/issues/10141) __0.5d__ \n- [ ] ~Improve documentation on Phabricator development \u0026 debugging~ [#10223](https://github.com/sourcegraph/sourcegraph/issues/10223) __1d__ \n- [x] web: pressing CTRL+SPACE with smart search enabled doesn't show filter list [#10441](https://github.com/sourcegraph/sourcegraph/issues/10441) 🐛\n\u003c!-- END ASSIGNEE --\u003e\n\n\u003c!-- BEGIN ASSIGNEE: rrhyne --\u003e\n@rrhyne: __0.50d__\n\n- [x] RFC 136: Version context design testing [#10574](https://github.com/sourcegraph/sourcegraph/issues/10574) __0.5d__ \n\u003c!-- END ASSIGNEE --\u003e\n\n\u003c!-- BEGIN ASSIGNEE: twop --\u003e\n@twop\n\n- [ ] ~Basic code intel info button is wrong size and color~ [#9065](https://github.com/sourcegraph/sourcegraph/issues/9065) 🐛\n\u003c!-- END ASSIGNEE --\u003e\n\u003c!-- END WORK --\u003e\r\n\r\n### Legend\r\n\r\n👩 Customer issue\r\n🐛 Bug\r\n🧶 Technical debt\r\n🛠️ Roadmap\r\n🕵️ Spike\r\n🔒 Security issue\r\n:shipit: Pull Request","Number":9915,"URL":"https://github.com/sourcegraph/sourcegraph/issues/9915","State":"CLOSED","Repository":"sourcegraph/sourcegraph","Private":false,"Labels":["team/web","tracking"],"Assignees":["lguychard"],"Milestone":"3.16","Author":"lguychard","CreatedAt":"2020-04-16T12:01:41Z","UpdatedAt":"0001-01-01T00:00:00Z","ClosedAt":"2020-05-18T11:32:31Z"},{"ID":"MDU6SXNzdWU1ODM2ODIwMTg=","Title":"Core Services: 3.15 Tracking Issue","Body":"### Status\r\n\r\nThis tracking issue is WIP.\r\n\r\n### Availability\r\n\r\nPeriod is the March 21st until April 18th. Please put in the days you won't be working and the number of working days for the period.\r\n\r\n- @keegancsmith: 9d. (Public holiday 10th and 13th. Conservatively halving my availability due to childcare + covid)\r\n- @mrnugget: 14d. (Public holiday on 10th and 13th. Additionally probably 4-5d not working)\r\n- @rvantonder: 18d (Not 10th and 13th)\r\n- @ryanslade: 18d (10th and 13th April are holidays)\r\n- @tsenart: 3d (23rd to 27th of March off)\r\n- @unknwon: 19d. Not working April 6th (national holiday)\r\n\r\n### Planned work\r\n\r\n\u003c!-- BEGIN PLANNED WORK --\u003e\n@keegancsmith: __6.00d__\n\n- [x] Removing intermediate caching on frontend for raw endpoint [#9372](https://github.com/sourcegraph/sourcegraph/issues/9372) \n- [x] simple traces for search [#8655](https://github.com/sourcegraph/sourcegraph/issues/8655) __2d__ \n- [x] Update docs for \"Adding repositories already cloned to disk\" [#8412](https://github.com/sourcegraph/sourcegraph/issues/8412) __1d__ [👩](https://app.hubspot.com/contacts/2762526/company/554275594)🐛\n- [x] Docs page for \"using Sourcegraph with a monorepo\" [#8411](https://github.com/sourcegraph/sourcegraph/issues/8411) __1d__ [👩](https://app.hubspot.com/contacts/2762526/company/554275594)\n- [x] Automatically build zoekt in CI [#5819](https://github.com/sourcegraph/sourcegraph/issues/5819) __0.5d__ 🧶\n- [x] No codeintel on go-ethereum [#4401](https://github.com/sourcegraph/sourcegraph/issues/4401) 🐛\n- [x] docs: Ensure new arch for repo-updater is reflected in dev docs [#3911](https://github.com/sourcegraph/sourcegraph/issues/3911) __0.5d__ 🧶\n- [x] docs: Document using an alternate clone URL for repos [#658](https://github.com/sourcegraph/sourcegraph/issues/658) __0.5d__ 🧶\n- [x] Ability to run Sourcegraph Docker Image inside network with proxy [#250](https://github.com/sourcegraph/sourcegraph/issues/250) __0.5d__ \n\n@mrnugget: __9.00d__\n\n- [x] Major regression in code host syncing / EXTSVC_CONFIG_FILE support? [#9779](https://github.com/sourcegraph/sourcegraph/issues/9779) 🐛\n- [x] Merged GitHub changesets are first displayed as closed and, after next sync, as merged [#9396](https://github.com/sourcegraph/sourcegraph/issues/9396) 🐛\n- [x] Updating a closed campaign with N already merged changesets creates N new changesets [#9395](https://github.com/sourcegraph/sourcegraph/issues/9395) __0.5d__ 🐛\n- [x] Searching repositories with `src action exec` fails if they're being cloned [#9149](https://github.com/sourcegraph/sourcegraph/issues/9149) __0.5d__ 🧶\n- [x] Get rid of legacy names and fields [#9106](https://github.com/sourcegraph/sourcegraph/issues/9106) __1.5d__ 🧶\n- [x] Add a test for `RunChangesetJobs` [#9103](https://github.com/sourcegraph/sourcegraph/issues/9103) __0.5d__ 🧶\n- [x] Burndown chart cannot reliably show past review state of GitHub pull requests [#9010](https://github.com/sourcegraph/sourcegraph/issues/9010) __0.5d__ 🐛\n- [x] Existing merged changesets are “closed” and hence removed from the tracking campaign [#8981](https://github.com/sourcegraph/sourcegraph/issues/8981) __1.5d__ 🐛\n- [x] campaigns: Improve UX of using the src CLI with Automation [#8479](https://github.com/sourcegraph/sourcegraph/issues/8479) __3d__ 🛠️\n- [x] Add support for repository visibility filter in search [#8344](https://github.com/sourcegraph/sourcegraph/issues/8344) __1d__ [👩](https://app.hubspot.com/contacts/2762526/company/557475882)\n\n@rvantonder: __16.50d__\n\n- [x] Activate and/or queries for content search [#9176](https://github.com/sourcegraph/sourcegraph/issues/9176) __1d__ 👩🛠️\n- [x] Query validation of literal, regexp, and structural search patterns [#9174](https://github.com/sourcegraph/sourcegraph/issues/9174) __4d__ 👩🛠️\n- [x] Query validation of Sourcegraph language parameters [#9173](https://github.com/sourcegraph/sourcegraph/issues/9173) __3d__ 👩🛠️\n- [x] Implement concat search pattern semantics for literal, regexp, structural search [#9171](https://github.com/sourcegraph/sourcegraph/issues/9171) __3d__ 👩🛠️\n- [x] Add and/or query evaluation [#9169](https://github.com/sourcegraph/sourcegraph/issues/9169) __3d__ 👩🛠️\n- [x] Feature flag and/or query code path [#9168](https://github.com/sourcegraph/sourcegraph/issues/9168) __0.5d__ 👩🛠️\n- [x] Add and/or query parser scaffolding [#9167](https://github.com/sourcegraph/sourcegraph/issues/9167) __2d__ 👩🛠️\n- [x] search: Implement AND / OR for file contents [#8567](https://github.com/sourcegraph/sourcegraph/issues/8567) 👩🛠️\n\n@ryanslade: __9.50d__\n\n- [x] Open changesets of a closed campaign are still being synced [#9402](https://github.com/sourcegraph/sourcegraph/issues/9402) __0.5d__ 🐛\n- [x] RFC 132: Spawn changeset syncer per external service [#9198](https://github.com/sourcegraph/sourcegraph/issues/9198) __1d__ \n- [x] Report scheduled time of next changeset sync [#9108](https://github.com/sourcegraph/sourcegraph/issues/9108) __0.5d__ \n- [x] Matching GitHub webhook events by ref might match PRs in wrong repositories [#9009](https://github.com/sourcegraph/sourcegraph/issues/9009) __1d__ 🐛\n- [x] Instrument changeset syncing [#8588](https://github.com/sourcegraph/sourcegraph/issues/8588) __1.5d__ \n- [x] RFC 132: Expose configurable rate limiter for external services [#8546](https://github.com/sourcegraph/sourcegraph/issues/8546) __3d__ \n- [x] a8n: Support Bitbucket build status webhooks [#8480](https://github.com/sourcegraph/sourcegraph/issues/8480) __1d__ \n- [x] Move background workers out of frontend [#7647](https://github.com/sourcegraph/sourcegraph/issues/7647) __1d__ 🧶\n- [ ] ~RFC 132: Use rate limit data when scheduling changeset syncs~ [#9105](https://github.com/sourcegraph/sourcegraph/issues/9105) __1d__ \n\n@sqs\n\n- [x] include the license key in pings [#9833](https://github.com/sourcegraph/sourcegraph/pull/9833) :shipit:\n\n@tsenart\n\n- [x] Core Services: 3.15 Tracking Issue [#9116](https://github.com/sourcegraph/sourcegraph/issues/9116) \n- [x] Document licenses for third party open source projects that we depend on [#8659](https://github.com/sourcegraph/sourcegraph/issues/8659) \n- [x] tracking-issue: Fix top level PRs [#9805](https://github.com/sourcegraph/sourcegraph/pull/9805) :shipit:\n- [x] tracking-issue: Fix #9774 [#9803](https://github.com/sourcegraph/sourcegraph/pull/9803) :shipit:\n- [x] tracking-issue: Track Pull requests [#9711](https://github.com/sourcegraph/sourcegraph/pull/9711) :shipit:\n\n@unknwon: __6.50d__\n\n- [x] authz: add unit tests for `PermsSyncer` [#9160](https://github.com/sourcegraph/sourcegraph/issues/9160) __0.5d__ 🧶\n  - [x] authz: add tests for `PermsSyncer` [#9269](https://github.com/sourcegraph/sourcegraph/pull/9269) :shipit:\n- [x] authz: draw high-level design of `PermsSyncer` [#9158](https://github.com/sourcegraph/sourcegraph/issues/9158) __0.5d__ \n- [x] authz: `PermsSyncer` should use partial results when the user/repo has no permissions [#9157](https://github.com/sourcegraph/sourcegraph/issues/9157) __0.5d__ \n- [x] repo-updater: make `repos.Store.ListRepos` support filter by visibility and more efficient ExternalRepos [#9154](https://github.com/sourcegraph/sourcegraph/issues/9154) __0.5d__ \n- [x] search: just repo search fails to find sourcegraph repo [#9146](https://github.com/sourcegraph/sourcegraph/issues/9146) 🐛\n- [x] repo-updater: potential data race in `DebugDump` [#9045](https://github.com/sourcegraph/sourcegraph/issues/9045) __0.5d__ 🐛\n- [ ] sourcegraph/customer [#38](https://github.com/sourcegraph/customer/issues/38) 👩\n- [x] RFC 113: Implement `PermsFetcher` interface for GitHub authz provider [#8890](https://github.com/sourcegraph/sourcegraph/issues/8890) __1d__ \n- [x] Drop `provider` column from perms table [#8842](https://github.com/sourcegraph/sourcegraph/issues/8842) __0.5d__ 🧶\n- [x] RFC 113: Instrumenting `PermsSyncer` [#8612](https://github.com/sourcegraph/sourcegraph/issues/8612) __0.5d__ 🛠️\n- [x] Forbidden - CSRF token invalid [#7368](https://github.com/sourcegraph/sourcegraph/issues/7368) __2d__ 🐛\n- [ ] ~repo-updater: remove the use of `dbconn.Global` for getting external services~ [#9156](https://github.com/sourcegraph/sourcegraph/issues/9156) __0.5d__ 🧶\n- [ ] ~authz: better heuristic of `NextSyncAt` by `PermsSyncer`~ [#9098](https://github.com/sourcegraph/sourcegraph/issues/9098) __1d__ \n- [x] docs: GitHub background permissions syncing [#9692](https://github.com/sourcegraph/sourcegraph/pull/9692) :shipit:\n\n@uwedeportivo\n\n- [x] regression e2e search tests: Problems connecting to searcher [#9323](https://github.com/sourcegraph/sourcegraph/issues/9323) 🐛\n\u003c!-- END PLANNED WORK --\u003e\r\n\r\n#### Legend\r\n\r\n- 👩 Customer issue\r\n- 🐛 Bug\r\n- 🧶 Technical debt\r\n- 🛠️ [Roadmap](https://docs.google.com/document/d/1cBsE9801DcBF9chZyMnxRdolqM_1c2pPyGQz15QAvYI/edit#heading=h.5nwl5fv52ess)\r\n- 🕵️ [Spike](https://en.wikipedia.org/wiki/Spike_(software_development))\r\n- 🔒 Security issue\r\n- :shipit: Pull Request\r\n","Number":9116,"URL":"https://github.com/sourcegraph/sourcegraph/issues/9116","State":"CLOSED","Repository":"sourcegraph/sourcegraph","Private":false,"Labels":["team/cloud","tracking"],"Assignees":["tsenart"],"Milestone":"3.15","Author":"tsenart","CreatedAt":"2020-03-18T12:08:41Z","UpdatedAt":"0001-01-01T00:00:00Z","ClosedAt":"2020-04-16T11:01:17Z"},{"ID":"MDU6SXNzdWU1MDcxMDU5MjY=","Title":"Core Services: 3.10 tracking issue","Body":"**Theme**: What will break with 80k repositories across multiple code hosts?\r\n\r\n**Q4 Vision Statement**: Sourcegraph operations are fast (e.g. search), instances scale to 80k repositories, private code is secure and respects ACLs for every authorization provider, and the product settings are easy to set up and understand for our largest customers.\r\n\r\n#### Housekeeping\r\n\r\n- @rvantonder joins Core Services :tada:\r\n- @ryanslade joins Core Services Nov 4th :tada:\r\n- @keegancsmith out of office Nov 4th-\u003e15th\r\n\r\n#### Required\r\n\r\n- [x] [RFC 30: Zoekt Horizontal Scaling](https://docs.google.com/document/d/18w8T_KzYxQye8wg1g01QpMOX4_ERTtbOxMBRYaOEkmk/edit) - #5725 [@keegancsmith]\r\n- [ ] [RFC 40: Explicit Repository Permissions Model](https://docs.google.com/document/d/167WV_rhBg3oj0yw9fHwUMlB-8BR3ktk2FSsKiUQo55Y/edit) - #6086 [@unknwon]\r\n- [x] [RFC 45: Extending Bitbucket Server Plugin Webhooks](https://docs.google.com/document/d/1I3Aq1WSUh42BP8KvKr6AlmuCfo8tXYtJu40WzdNT6go/edit) - #6091 [@kzh]\r\n- [x] [RFC 48: Structural Search](https://docs.google.com/document/d/16WwZA8zf-soI0HgCXGrRL5IrmyZnGYrB5VTXsqguUzo/edit#) - #6073 [@rvantonder]\r\n- [ ] [RFC 70: Expose full repository languages/file types inventory via GraphQL - #2587](https://docs.google.com/document/d/1h83x8z8tqx7o0coammGnJUvCvQC6aMIiBEMdb1l9TqY/edit#) [@ryanslade]\r\n\r\n~@ryanslade we have assigned a task for you. Once you have joined and onboarded a bit we can change the task, this is a good initial task to try out but there may be something more appropriate. It is also under the \"required\" section. However, you will be onboarding so this can slip. We can also update this document with your real GitHub handle when appropriate :)~\r\n\r\n#### Polish\r\n\r\nThese are smaller tasks which anyone can do. They are all stretch tasks, with the main tasks being first priority.\r\n\r\nNote: If the task is assigned to someone already, you can do it (please ping the person first).\r\n\r\n- [ ] On any change to external services, restart sync #6058\r\n- [ ] Default symbol sidebar to using Zoekt for indexed branches #6078\r\n- [ ] ~Single ctags docker image for both unindexed symbol svc and Zoekt~ #6080\r\n- [ ] Verify sourcegraph.com falls back to non-indexed search when indexed pod is down #6057\r\n- [ ] ~~Rename Sourcegraph Go module to succinct name~~ #4982\r\n- [x] Drop recent_searches table/feature #6056\r\n- [x] Bitbucket Cloud repo syncing should allow hyphens in team names #6154\r\n- [x] Bitbucket Cloud external service doesn't provide \"exclude\" config option #6035\r\n- [x] Serious problems with external service auth provider config are never shown #6061\r\n\r\n3.9 tracking issue is #5710","Number":6031,"URL":"https://github.com/sourcegraph/sourcegraph/issues/6031","State":"CLOSED","Repository":"sourcegraph/sourcegraph","Private":false,"Labels":["team/cloud","tracking"],"Assignees":["keegancsmith","rvantonder","unknwon","kzh"],"Milestone":"3.10","Author":"keegancsmith","CreatedAt":"2019-10-15T09:01:44Z","UpdatedAt":"0001-01-01T00:00:00Z","ClosedAt":"2019-11-14T11:32:56Z"},{"ID":"MDU6SXNzdWU2ODczNTQ3MzM=","Title":"RFC 227: Code monitoring","Body":"Tracking issue for [RFC 227: Code monitoring](https://docs.google.com/document/d/1_R5DgpUkxyZilsJ9vBQm5cvRPT2udc3tZIPg2q3cnZU/edit#), in response to [PD 12](https://docs.google.com/document/d/1D9Useap2CuPJmed7Htdoho4nyzM0MMT0LJL_MlhoMv4/edit#).\r\n\r\n\u003c!-- BEGIN WORK --\u003e\n\u003c!-- BEGIN ASSIGNEE: quinnkeast --\u003e\n@quinnkeast\n\n- [ ] RFC 227: Code monitoring ([#13413](https://github.com/sourcegraph/sourcegraph/issues/13413)) \n- [ ] Add link to user research signup to saved search notification emails ([#13673](https://github.com/sourcegraph/sourcegraph/issues/13673)) \n\u003c!-- END ASSIGNEE --\u003e\n\u003c!-- END WORK --\u003e","Number":13413,"URL":"https://github.com/sourcegraph/sourcegraph/issues/13413","State":"OPEN","Repository":"sourcegraph/sourcegraph","Private":false,"Labels":["RFC-227","tracking"],"Assignees":["quinnkeast"],"Milestone":"","Author":"quinnkeast","CreatedAt":"2020-08-27T15:52:17Z","UpdatedAt":"0001-01-01T00:00:00Z","ClosedAt":"0001-01-01T00:00:00Z"},{"ID":"MDU6SXNzdWU1MjU4MzkyNDc=","Title":"Core Services: 3.11 tracking issue","Body":"**Theme**: What will break with 80k repositories across multiple code hosts?\r\n\r\n**Q4 Vision Statement**: Sourcegraph operations are fast (e.g. search), instances scale to 80k repositories, private code is secure and respects ACLs for every authorization provider, and the product settings are easy to set up and understand for our largest customers.\r\n\r\n[Core Services Roadmap](https://docs.google.com/document/d/1cBsE9801DcBF9chZyMnxRdolqM_1c2pPyGQz15QAvYI/edit#heading=h.5nwl5fv52ess)\r\n\r\n#### Housekeeping\r\n\r\n- @unknwon 12/16 - 12/17 OOO, 12/18 - 12/23 Part-time (CST +8 timezone)\r\n\r\n#### Required\r\n\r\n- [ ] [RFC 40: Explicit Repository Permissions Model](https://docs.google.com/document/d/167WV_rhBg3oj0yw9fHwUMlB-8BR3ktk2FSsKiUQo55Y/edit) - #6086 [@unknwon]\r\n- [ ] [RFC 45: Extending Bitbucket Server Plugin](https://docs.google.com/document/d/1I3Aq1WSUh42BP8KvKr6AlmuCfo8tXYtJu40WzdNT6go/edit) Permissions Layer - #6091 [@kzh]\r\n- [ ] [RFC 48: Structural Search](https://docs.google.com/document/d/16WwZA8zf-soI0HgCXGrRL5IrmyZnGYrB5VTXsqguUzo/edit#) Production Ready - #6679 [@rvantonder]\r\n- [ ] [RFC 79: Refactor CI Pipeline](https://docs.google.com/document/d/1_F2xiuNxkrdTHhgaR3jyaaWcs9OsUs9eMAF9fSCxie0/edit) - - #6690 [@keegancsmith]\r\n- [ ] RFC ??: GitLab Production Ready - #6738 [@keegancsmith]\r\n- [ ] [RFC 70: Expose full repository languages/file types inventory via GraphQL](https://docs.google.com/document/d/1h83x8z8tqx7o0coammGnJUvCvQC6aMIiBEMdb1l9TqY/edit) - [@ryanslade]\r\n\r\n#### Polish\r\n\r\nThese are smaller tasks which anyone can do. They are all stretch tasks, with the main tasks being first priority.\r\n\r\nNote: If the task is assigned to someone already, you can do it (please ping the person first).\r\n\r\n- [x] Rev not found error for commits that exist on code host #6539\r\n- [x] On any change to external services, restart sync #6058\r\n- [x] 3.9.2: panic during gitserver cleanup #6710\r\n- [ ] Gitserver should auto-recover from corrupt repository clones #6676\r\n- [ ] Default symbol sidebar to using Zoekt for indexed branches #6078\r\n- [ ] Verify sourcegraph.com falls back to non-indexed search when indexed pod is down #6057\r\n- [ ] Speed improvements for repohascommitafter #6745\r\n- [ ] Setup 80k repos on k8s.sgdev.org (old issue #5726, now we have zoekt scaling try again).\r\n- [x] Band aid for poor diff/commit search experience https://github.com/sourcegraph/sourcegraph/issues/5519#issuecomment-555226517\r\n- [x] Backend returns invalid filter chip with space \"lang:ignore list\" #6498\r\n\r\n3.10 tracking issue is #6031","Number":6724,"URL":"https://github.com/sourcegraph/sourcegraph/issues/6724","State":"CLOSED","Repository":"sourcegraph/sourcegraph","Private":false,"Labels":["team/cloud","tracking"],"Assignees":["ryanslade","keegancsmith","rvantonder","unknwon","kzh"],"Milestone":"3.11","Author":"keegancsmith","CreatedAt":"2019-11-20T14:29:39Z","UpdatedAt":"0001-01-01T00:00:00Z","ClosedAt":"2019-12-16T07:43:27Z"},{"ID":"MDU6SXNzdWU0NDkzMTM3NDM=","Title":"Core Services: 3.5 Tracking Issue","Body":"## Goal\r\n\r\nImprove support for instances with 30,000 repositories.\r\n\r\n## Availability\r\n\r\n- @mrnugget out on the 30th of May as well as the 10th, 20th and 21st of June. 8th-10th July (next iteration).\r\n- @tsenart out for a wedding from Friday the 14th of June until the 18th.\r\n- @keegancsmith out for a SA public holiday. Friday the 14th until 17th.\r\n\r\n## Dependencies\r\n\r\nFor this iteration we have some needs and wants that we think other teams are already focusing on. This list is based on our current understanding and is prone to change with new information.\r\n\r\n- Ensure that our large scale environments have appropriate data in them and can support continuous load testing while reflecting the setups of our most important customers.\r\n- Shortened feedback cycles after pushing code\r\n  - CI time\r\n  - Fast deployment to multiple environments\r\n  - Understanding what is in each environment\r\n  - More sentry integration?\r\n\r\n## Proposed Work\r\n\r\n- [x] Postgres reliability\r\n  - [x] insert: pq: duplicate key value violates unique constraint\" on clean 3.4.1 instance #4210\r\n  - [x] management-console: ... Failed to migrate the DB... can’t acquire database lock during upgrade from 3.2.1 to 3.4.1 #4208\r\n- [x] Transfer ownership of auth{N|Z} by implementing Bitbucket Server authn and authz (ACLs) (#1108)\r\n- [ ] Improve UX for site admins with 30k repos\r\n  - [x] Fetch GitHub repositories in batches #4223\r\n  - [x] \"Not cloned\" repositories page times out if there are a lot of repositories and none are cloned #4063 \r\n  - [x] Visiting a repository for the first time shows \"starting to clone\" but doesn't start #3447\r\n  - [x] \"Empty repository\" banner shown on repo page in between enabling and cloning a repo #1744\r\n  - [x] Special case `org:` in repositoryQuery so that it doesn't use the limited Search API. #4036\r\n  - [x] Delay deleting repos and indexes to be resilient against admin mistakes in configuration (#2572)\r\n  - [x] Cloning repositories return 404 Not Found (#4081)\r\n  - [ ] Add a global \"repositories are cloning\"/\"Sourcegraph is not ready yet\" indicator #4120  [WIP @mrnugget]\r\n    - [ ] When adding 1000's of github repos at once, there is no feedback in the UI for hours at a time #3413\r\n    - [x] repos: Indicate schedule for cloning in UI #4232\r\n- [ ] Improve Zoekt memory usage https://github.com/google/zoekt/issues/86  [WIP @keegancsmith]\r\n\r\n- [ ] Synthetic load testing and complementary monitoring. Will do in testing week. [Ancient implementation](https://github.com/sourcegraph/enterprise/tree/a4c3283198105242f994ca5a2d56a9d6addcaf3b/test/load)\r\n  - [x] Load test Bitbucket Server ACLs\r\n  - [ ] Load test repo page\r\n  - [ ] Load test indexed search\r\n  - [ ] Load test non-indexed search\r\n  - [ ] Measure and alert on time from commit upstream to indexing\r\n  - [ ] Measure and alert saving an external service config that yields 30k repos\r\n\r\n## Stretch Work\r\n\r\n- [ ] Dogfood traces for common paths so that these are useful (don’t have to jump straight to logs)\r\n- [x] Search results linking to wrong revision #3992\r\n- [ ] Investigate feasibility of *anonymized* diagnostic (core)dumps of Postgres tables\r\n- [ ] enqueue-repo-update should use an ID #3345\r\n- [ ] Redis reliability\r\n  - [ ] Redis AOF file grows unbounded due to frequent container restarts #3300\r\n  - [ ] Redis AOF database corruption #651\r\n  - [ ] redis: Log spam warning when redis is loading the dataset in memory #2904\r\n  - [ ] Redis OOM error prevents sign in or using server #296","Number":4231,"URL":"https://github.com/sourcegraph/sourcegraph/issues/4231","State":"CLOSED","Repository":"sourcegraph/sourcegraph","Private":false,"Labels":["team/cloud","tracking"],"Assignees":null,"Milestone":"3.5","Author":"keegancsmith","CreatedAt":"2019-05-28T14:47:24Z","UpdatedAt":"0001-01-01T00:00:00Z","ClosedAt":"2019-07-08T07:49:59Z"},{"ID":"MDU6SXNzdWU2NjE3MjI0NDA=","Title":"Cloud: 3.19 Tracking issue","Body":"### Plan\r\n\r\n#### Goal 1: Allow users to add public code from github.com, gitlab.com and bitbucket.org\r\n\r\n@unknwon, @ryanslade and @asdine are working on this together. Figuring out multi-tenancy is going to unlock a lot of the capabilities we want from the Cloud project. External services are at the center of this because they are our current mechanism for specifying which repos to sync. We want to think through the product changes (and consequences) necessary for users and organizations to create external services on any Sourcegraph instance and at least prototype what it would look like. We recognize that we're starting work on this goal in an uphill (i.e. discovery) phase so the amount of planned work will grow over time. We'll gather feedback on the end-user product experience we're thinking of from a larger group including @christinaforney, @sqs and @rrhyne as part of this discovery process.\r\n\r\n#### Goal 2: Store and handle external service and external account secrets securely.\r\n\r\n@chayim, and @daxmc99 are working on this together. As we already know, there's a lot of security ground-work to do before we can allow any user or organization to use sourcegraph.com with private code. This is one of the key changes that need to happen and aligns well with the first goal for this iteration.\r\n\r\n#### Leftover\r\n\r\nThere's some work individual members of the team are doing this iteration that was left over from the previous, notably @unknwon is working on Enforcing Product Tiers  #11577.\r\n\r\n### Availability\r\n\r\nIf you have planned unavailability this iteration (e.g., vacation), you can note that here.\r\n\r\n- @unknwon: July 27 to July 31 (5 days), on vacation.\r\n- @ryanslade: Not working 10th August\r\n\r\n### Tracked issues\r\n\r\n\u003c!-- BEGIN WORK --\u003e\r\n\u003c!-- BEGIN ASSIGNEE: asdine --\u003e\r\n@asdine: __3.00d__\r\n\r\n- [ ] New external_service_repos table [#12711](https://github.com/sourcegraph/sourcegraph/issues/12711) __2d__ \r\n- [x] Remove cloneInProgress option from Repositories API [#12090](https://github.com/sourcegraph/sourcegraph/issues/12090) \r\n- [x] mail package deprecated [#10703](https://github.com/sourcegraph/sourcegraph/issues/10703) 🧶\r\n- [x] Ability to disable SMTP TLS verification [#10702](https://github.com/sourcegraph/sourcegraph/issues/10702) __1d__ 👩\r\n\u003c!-- END ASSIGNEE --\u003e\r\n\r\n\u003c!-- BEGIN ASSIGNEE: daxmc99 --\u003e\r\n@daxmc99: __11.00d__\r\n\r\n- [ ] Add operational playbook for updating external database versions [#1099](https://github.com/sourcegraph/about/issues/1099) \r\n- [ ] RFC 174: Terraform Cloud SQL [#11794](https://github.com/sourcegraph/sourcegraph/issues/11794) __1d__ \r\n- [ ] RFC 174: HA Postgres for Sourcegraph Cloud [#11496](https://github.com/sourcegraph/sourcegraph/issues/11496) __10d__ \r\n- [x] Sourcegraph.com - add redis-store \u0026 precise-code-intel-bundle-manager snapshotting [#10450](https://github.com/sourcegraph/sourcegraph/issues/10450) \r\n\u003c!-- END ASSIGNEE --\u003e\r\n\r\n\u003c!-- BEGIN ASSIGNEE: keegancsmith --\u003e\r\n@keegancsmith\r\n\r\n- [x] Rename default branch to `main` [#11464](https://github.com/sourcegraph/sourcegraph/issues/11464) \r\n- [x] Remove Gitolite blacklist configuration option [#11394](https://github.com/sourcegraph/sourcegraph/issues/11394) \r\n\u003c!-- END ASSIGNEE --\u003e\r\n\r\n\u003c!-- BEGIN ASSIGNEE: ryanslade --\u003e\r\n@ryanslade: __1.00d__\r\n\r\n- [x] Add sync time columns to the external_services table [#12701](https://github.com/sourcegraph/sourcegraph/issues/12701) __1d__ \r\n- [ ] Frontend memory leak [#11790](https://github.com/sourcegraph/sourcegraph/issues/11790) 🐛\r\n- [ ] Add tests for raw endpoint [#11259](https://github.com/sourcegraph/sourcegraph/issues/11259) 🧶\r\n\u003c!-- END ASSIGNEE --\u003e\r\n\r\n\u003c!-- BEGIN ASSIGNEE: tsenart --\u003e\r\n@tsenart\r\n\r\n- [x] repo-updater: No private repos on sourcegraph.com [#12908](https://github.com/sourcegraph/sourcegraph/pull/12908) :shipit:\r\n\u003c!-- END ASSIGNEE --\u003e\r\n\r\n\u003c!-- BEGIN ASSIGNEE: unknwon --\u003e\r\n@unknwon: __8.50d__\r\n\r\n- [ ] ~Enforcing product tiers~ [#11577](https://github.com/sourcegraph/sourcegraph/issues/11577) __5d__ 🛠️\r\n- [x] Optimize reposourceCloneURLToRepoName [#12944](https://github.com/sourcegraph/sourcegraph/issues/12944) __0.5d__ \r\n- [x] Update ExternalServicesStore.List to support pagination [#12822](https://github.com/sourcegraph/sourcegraph/issues/12822) __2d__ \r\n- [x] Update call sites of ExternalServicesStore.List to avoid application-level aggregation [#12760](https://github.com/sourcegraph/sourcegraph/issues/12760) __1d__ \r\n- [x] Update ExternalServicesStore.List to allow filtering by user [#12704](https://github.com/sourcegraph/sourcegraph/issues/12704) __1d__ \r\n- [x] It is not called out clearly enough in docs that initial permission synching may take several hours [#12678](https://github.com/sourcegraph/sourcegraph/issues/12678) __0.5d__ \r\n- [x] auth: password reset page does not respect `auth.minPasswordLength` [#12331](https://github.com/sourcegraph/sourcegraph/issues/12331) __0.5d__ 🐛\r\n- [x] Sourcegraph OSS user settings not accessible [#12191](https://github.com/sourcegraph/sourcegraph/issues/12191) __0.5d__ 🐛\r\n- [ ] gqltest: migrate internal/cmd/search-integration-tester [#12143](https://github.com/sourcegraph/sourcegraph/issues/12143) __1.5d__ 🧶\r\n- [x] Remove on-demand implementation of permissions [#10973](https://github.com/sourcegraph/sourcegraph/issues/10973) __1d__ 🧶\r\n\u003c!-- END ASSIGNEE --\u003e\r\n\u003c!-- END WORK --\u003e\r\n\r\n#### Legend\r\n\r\n- 👩 Customer issue\r\n- 🐛 Bug\r\n- 🧶 Technical debt\r\n- 🛠️ [Roadmap](https://docs.google.com/document/d/1cBsE9801DcBF9chZyMnxRdolqM_1c2pPyGQz15QAvYI/edit#heading=h.5nwl5fv52ess)\r\n- 🕵️ [Spike](https://en.wikipedia.org/wiki/Spike_(software_development))\r\n- 🔒 Security issue\r\n- :shipit: Pull Request\r\n","Number":12327,"URL":"https://github.com/sourcegraph/sourcegraph/issues/12327","State":"CLOSED","Repository":"sourcegraph/sourcegraph","Private":false,"Labels":["team/cloud","tracking"],"Assignees":null,"Milestone":"3.19","Author":"tsenart","CreatedAt":"2020-07-20T11:42:08Z","UpdatedAt":"0001-01-01T00:00:00Z","ClosedAt":"2020-08-19T15:58:19Z"},{"ID":"MDU6SXNzdWU1ODQzOTA0NDQ=","Title":"web: 3.15 tracking issue","Body":"## Planned work\r\n\r\n\u003c!-- BEGIN PLANNED WORK --\u003e\n@Unassigned\n\n- [x] web: 3.15 tracking issue [#9159](https://github.com/sourcegraph/sourcegraph/issues/9159) \n\n@attfarhan: __6.00d__\n\n- [x] Icon toggles have misaligned highlights [#9671](https://github.com/sourcegraph/sourcegraph/issues/9671) __0.5d__ 🐛\n- [x] Onboarding changes for 3.15 [#9240](https://github.com/sourcegraph/sourcegraph/issues/9240) __2d__ \n- [x] multiple valid values for discrete filters [#8790](https://github.com/sourcegraph/sourcegraph/issues/8790) __0.5d__ \n- [x] Improve onboarding experience [#8584](https://github.com/sourcegraph/sourcegraph/issues/8584) \n- [x] Interactive mode filters have trouble with double quotes [#8418](https://github.com/sourcegraph/sourcegraph/issues/8418) __1.5d__ 🐛\n- [x] Go-to-definition does not select new file in tree [#4710](https://github.com/sourcegraph/sourcegraph/issues/4710) __1.5d__ 🐛\n- [x] Onboarding updates [#9628](https://github.com/sourcegraph/sourcegraph/pull/9628) :shipit:\n\n@eseliger: __6.00d__\n\n- [x] Remove feature flag for campaigns in navbar [#9555](https://github.com/sourcegraph/sourcegraph/issues/9555) __0.5d__ \n- [x] List styling is not consistent across features [#9268](https://github.com/sourcegraph/sourcegraph/issues/9268) __0.5d__ \n- [x] Campaigns splash screen [#9140](https://github.com/sourcegraph/sourcegraph/issues/9140) __1.5d__ \n- [x] Make campaign.description nullable in GQL [#9034](https://github.com/sourcegraph/sourcegraph/issues/9034) __0.5d__ 🧶\n- [x] Make it clearer how to go from list of changesets to changeset on codehost [#8149](https://github.com/sourcegraph/sourcegraph/issues/8149) __0.5d__ \n- [x] Sprinkle CLI instructions into the campaigns UI [#8070](https://github.com/sourcegraph/sourcegraph/issues/8070) __1.5d__ \n- [x] a8n: Implement code intelligence for external changesets [#6749](https://github.com/sourcegraph/sourcegraph/issues/6749) __1d__ \n- [ ] ~Bitbucket Server webhooks miss needs work =\u003e unapproved~ [#9139](https://github.com/sourcegraph/sourcegraph/issues/9139) __2d__ 🐛\n- [ ] ~More thorough E2E tests for campaigns~ [#9138](https://github.com/sourcegraph/sourcegraph/issues/9138) __2d__ \n- [ ] ~Provide an easier way to add changesets to manual campaigns~ [#8766](https://github.com/sourcegraph/sourcegraph/issues/8766) __2d__ \n- [ ] ~Campaign progress is \"Creating changes\" even when updating a Campaign~ [#8438](https://github.com/sourcegraph/sourcegraph/issues/8438) __0.5d__ 🐛\n\n@felixfbecker: __14.00d__\n\n- [x] Diff header on GitHub is broken in 2 lines [#9675](https://github.com/sourcegraph/sourcegraph/issues/9675) 🐛\n- [x] Misaligned breadcrumb text in diff view [#9601](https://github.com/sourcegraph/sourcegraph/issues/9601) __0.5d__ 🐛\n  - [x] Fix nav item not being centered [#9741](https://github.com/sourcegraph/sourcegraph/pull/9741) :shipit:🐛\n- [x] Focus rings barely visible [#9493](https://github.com/sourcegraph/sourcegraph/issues/9493) __1d__ 🐛\n- [x] Improving extensions toolbar on code hosts and Sourcegraph [#9462](https://github.com/sourcegraph/sourcegraph/issues/9462) \n  - [x] Dont break GitHub file toolbar [#9517](https://github.com/sourcegraph/sourcegraph/pull/9517) :shipit:\n  - [x] Fix action bar design [#9503](https://github.com/sourcegraph/sourcegraph/pull/9503) :shipit:\n- [x] Sourcegraph button on repository page does not retain selected branch [#9414](https://github.com/sourcegraph/sourcegraph/issues/9414) __1d__ 🐛\n  - [x] Respect the revision when jumping to Sourcegraph from GitHub [#9520](https://github.com/sourcegraph/sourcegraph/pull/9520) :shipit:🐛\n- [x] Find references button doesn't show if token is hovered before provider is registered [#9350](https://github.com/sourcegraph/sourcegraph/issues/9350) __3d__ 🐛\n- [x] Loader is never shown if hover provider is called before providers are registered [#9349](https://github.com/sourcegraph/sourcegraph/issues/9349) 🐛\n- [ ] ☂️ Code intel paper cuts [#9346](https://github.com/sourcegraph/sourcegraph/issues/9346) \n- [x] Add sign in buttons on PR views too [#9276](https://github.com/sourcegraph/sourcegraph/issues/9276) __2d__ 👩\n  - [x] Display sign in buttons in code view toolbar [#9275](https://github.com/sourcegraph/sourcegraph/pull/9275) :shipit:👩\n- [x] Native integrations: show a UI hint that the user should log in to Sourcegraph [#8758](https://github.com/sourcegraph/sourcegraph/issues/8758) __3d__ 👩\n  - [x] Native integrations auth flow [#9112](https://github.com/sourcegraph/sourcegraph/pull/9112) :shipit:\n- [x] Browser extension silently breaks instead of saying \"repo not on your sourcegraph instance\" [#7599](https://github.com/sourcegraph/sourcegraph/issues/7599) __0.5d__ 🐛\n  - [x] Fix error handling [#9699](https://github.com/sourcegraph/sourcegraph/pull/9699) :shipit:\n- [x] Function of extension-contributed buttons is not clear [#5488](https://github.com/sourcegraph/sourcegraph/issues/5488) 🐛\n- [x] Too many Sourcegraph extensions wreck GitHub toolbar UI [#4480](https://github.com/sourcegraph/sourcegraph/issues/4480) __1d__ 🐛\n  - [x] Dont break GitHub file toolbar [#9517](https://github.com/sourcegraph/sourcegraph/pull/9517) :shipit:\n- [x] Browser extension should gracefully handle auth proxies signing users out after inactivity [#3440](https://github.com/sourcegraph/sourcegraph/issues/3440) __2d__ 🐛\n- [x] Browser extension stops working when SAML auth token expires [#545](https://github.com/sourcegraph/sourcegraph/issues/545) \n- [ ] ~Incorrect z-indexes in UI~ [#8380](https://github.com/sourcegraph/sourcegraph/issues/8380) __1d__ 🐛\n- [x] Fix url being passed as ariaLabel [#9755](https://github.com/sourcegraph/sourcegraph/pull/9755) :shipit:🐛\n- [x] Exclude GitHub tree pages from CSS selector [#9714](https://github.com/sourcegraph/sourcegraph/pull/9714) :shipit:🐛\n\n@lguychard: __3.00d__\n\n- [x] Search pattern is duplicated when using a toggle after switching search modes [#9407](https://github.com/sourcegraph/sourcegraph/issues/9407) __0.5d__ 🐛\n- [x] Search bar looses focus after whole page is loaded [#9124](https://github.com/sourcegraph/sourcegraph/issues/9124) 🐛\n- [x] Search bar no longer updating to show current repo with smartSearchField turned on [#8839](https://github.com/sourcegraph/sourcegraph/issues/8839) __0.5d__ 🐛\n- [x] Suggestion icons hard to see in light theme [#8764](https://github.com/sourcegraph/sourcegraph/issues/8764) __0.5d__ 🐛\n- [x] Search bar and directory page have different search bars [#8752](https://github.com/sourcegraph/sourcegraph/issues/8752) __0.5d__ 🐛\n- [x] MonacoQueryInput theme is broken on pages that have another Monaco editor [#7697](https://github.com/sourcegraph/sourcegraph/issues/7697) __1d__ 🐛\n- [x] Enable Git Extras by Default [#3501](https://github.com/sourcegraph/sourcegraph/issues/3501) \n- [ ] ~Intermediate plain text search bar should use same font as Monaco editor~ [#9499](https://github.com/sourcegraph/sourcegraph/issues/9499) __0.5d__ \n- [ ] ~Search bar steals \"Cmd+L\" keybinding~ [#9125](https://github.com/sourcegraph/sourcegraph/issues/9125) 🐛\n- [ ] ~New search autocomplete yields no results in this particular case~ [#8749](https://github.com/sourcegraph/sourcegraph/issues/8749) \n- [ ] ~Missing space when inserting new filter~ [#8740](https://github.com/sourcegraph/sourcegraph/issues/8740) __0.5d__ 🐛\n- [ ] ~Cursor is put at the beginning of search field after submitting (instead of staying at end)~ [#8731](https://github.com/sourcegraph/sourcegraph/issues/8731) __0.5d__ 🐛\n- [ ] ~Branch/commit/tag selector dropdown is slow on giant monorepo (100K+ branches)~ [#8594](https://github.com/sourcegraph/sourcegraph/issues/8594) \n- [ ] ~MonacoQueryInput does not shrink when the window is resized.~ [#7692](https://github.com/sourcegraph/sourcegraph/issues/7692) __1d__ 🐛\n- [ ] ~Clicking \"Show more\" at end of a result set does not jump you back to the top of the page~ [#7024](https://github.com/sourcegraph/sourcegraph/issues/7024) 🐛\n- [x] Remove scoped search bar from TreePage, scope global query to the current tree or file instead [#9225](https://github.com/sourcegraph/sourcegraph/pull/9225) :shipit:\n- [x] Use IntersectionObserver in trackViews() [#5541](https://github.com/sourcegraph/sourcegraph/pull/5541) :shipit:\n\n@mrnugget: __0.50d__\n\n- [x] Updating a closed campaign with N already merged changesets creates N new changesets [#9395](https://github.com/sourcegraph/sourcegraph/issues/9395) __0.5d__ 🐛\n\u003c!-- END PLANNED WORK --\u003e\r\n\r\n#### Legend\r\n\r\n- 👩 Customer issue\r\n- 🐛 Bug\r\n- 🧶 Technical debt\r\n- 🛠️ [Roadmap](https://docs.google.com/document/d/1cBsE9801DcBF9chZyMnxRdolqM_1c2pPyGQz15QAvYI/edit#heading=h.5nwl5fv52ess)\r\n- 🕵️ [Spike](https://en.wikipedia.org/wiki/Spike_(software_development))\r\n- 🔒 Security issue\r\n- :shipit: Pull Request\r\n\r\n","Number":9159,"URL":"https://github.com/sourcegraph/sourcegraph/issues/9159","State":"CLOSED","Repository":"sourcegraph/sourcegraph","Private":false,"Labels":["team/web","tracking"],"Assignees":null,"Milestone":"3.15","Author":"lguychard","CreatedAt":"2020-03-19T12:53:03Z","UpdatedAt":"0001-01-01T00:00:00Z","ClosedAt":"2020-04-16T07:33:12Z"},{"ID":"MDU6SXNzdWU2NTYxMDAxNDc=","Title":"Code Intelligence 3.19 Tracking issue","Body":"### Plan\r\n\r\n**Goal 1: [Add support for monorepos](https://github.com/orgs/sourcegraph/projects/76)**\r\n\r\nUnblock customers [C1](https://app.hubspot.com/contacts/2762526/company/464956351/) \u0026 [C2](https://app.hubspot.com/contacts/2762526/company/554275594/) from adopting LSIF by removing known blockers for large repositories with high commit rates. This milestone will make progress of removing the known blockers for these companies by following tasks (will still need a follow-up in (at least) the 3.20 milestone):\r\n\r\nBuilding a prototype to speed up indexing on all repos. This is necessary for large monorepos as indexing the entire codebase is infeasible. This prototype will act as the feasibility study referenced in the [RFC 170](https://docs.google.com/document/d/1NPu0Vc7FpdoYwCrtpnu-8KB4OPbw7L0KBTqw96JVc8w). If we determine that this technique is viable, then the 3.20 milestone will focus on a proper implementation of the prototype (which also requires updating indexers to create patch indexes). @efritz @gbrik \r\n\r\n**Goal 2: Improve developer experience for use of LSIF in CI**\r\n\r\nUsers aren't configuring LSIF in CI because it is technically cumbersome, carries a maintenance burden, difficult to explain, and may involve red tape. We are aiming to alleviate these issues by automating the process and reduce number setup steps needed by developers to deploy. To support this effort we are also going to create additional quickstart documentation.\r\n\r\n**Goal 3: Increase LSIF adoption**\r\n\r\nUsers are blocked from adopting LSIF because existing indexers don't support their use case, or there is no indexer for their language. We plan to distribute lsif-clang to customers that already have precise C++ support to ensure that it continues to meet their use case and is ready for wider distribution. We will also write a plan for precise SWIFT \u0026 Java support. \r\n\r\n**Goal 4: Resolve technical debt to improve quality and reliability**\r\n\r\nThis work is to improve overall quality of code intel components, including fixing worker concurrency bug, UI hover experience and implementing graceful failover for bundle manager.\r\n\r\n\r\n### Availability\r\n\r\nPeriod is from **2020-07-20** to **2020-08-20**. Please write the days you won't be working and the number of working days for the period.\r\n\r\n- Aida: 24d\r\n- Eric: 17d (out 07/23-07/24)\r\n- Garo: 11d (out first week)\r\n\r\n### Workload\r\n\r\n\u003c!-- BEGIN WORK --\u003e\n\u003c!-- BEGIN ASSIGNEE: aidaeology --\u003e\n@aidaeology\n\n- [x] Determine state of LSIF-java [#12306](https://github.com/sourcegraph/sourcegraph/issues/12306) \n- [ ] ~Make bundle manager janitor more lenient during disaster recovery~ [#12168](https://github.com/sourcegraph/sourcegraph/issues/12168) 🧶\n- [x] Research language usage among customers and projects [#12726](https://github.com/sourcegraph/sourcegraph/issues/12726) \n- [ ] ~Programatically create regular data about code intel activity~ [#11746](https://github.com/sourcegraph/sourcegraph/issues/11746) \n- [x] Update left side navigation [#13188](https://github.com/sourcegraph/sourcegraph/pull/13188) :shipit:\n- [x] Edit of language guide page to improve phrasing [#13108](https://github.com/sourcegraph/sourcegraph/pull/13108) :shipit:\n- [x] Updated adding lsif to workflows docs [#13078](https://github.com/sourcegraph/sourcegraph/pull/13078) :shipit:\n- [x] Improving code intelligence docs and LSIF indexer installation instructions [#13041](https://github.com/sourcegraph/sourcegraph/pull/13041) :shipit:\n- [x] Added goals to code intel team page [#1369](https://github.com/sourcegraph/about/pull/1369) :shipit:\n- [x] Updated code intel page with NEO [#1327](https://github.com/sourcegraph/about/pull/1327) :shipit:\n\u003c!-- END ASSIGNEE --\u003e\n\n\u003c!-- BEGIN ASSIGNEE: efritz --\u003e\n@efritz\n\n- [x] Implement better nearest commit queries [#12098](https://github.com/sourcegraph/sourcegraph/issues/12098) \n- [x] Visible at tip calculation is racy [#12095](https://github.com/sourcegraph/sourcegraph/issues/12095) 🐛\n- [x] Query definition and hover provider so we can correctly badge results [#12133](https://github.com/sourcegraph/sourcegraph/issues/12133) \n- [x] RFC 199: Index queue API [#12664](https://github.com/sourcegraph/sourcegraph/issues/12664) \n- [x] RFC 199: Index queue client [#12665](https://github.com/sourcegraph/sourcegraph/issues/12665) \n- [x] RFC 199: Expose internal routes for the indexer [#12666](https://github.com/sourcegraph/sourcegraph/issues/12666) \n- [x] RFC 199: Build indexer service [#12707](https://github.com/sourcegraph/sourcegraph/issues/12707) \n- [ ] ~RFC 199: Use firecracker~ [#12708](https://github.com/sourcegraph/sourcegraph/issues/12708) \n- [ ] RFC 199: Deploy new indexer service [#12709](https://github.com/sourcegraph/sourcegraph/issues/12709) \n- [ ] codeintel: Alert on failure to open database [#12712](https://github.com/sourcegraph/sourcegraph/issues/12712) 🧶\n- [x] Create quick-start video for setting up Code Intelligence in CI/CD [#13049](https://github.com/sourcegraph/sourcegraph/issues/13049) \n- [ ] ~UI Tooltips for asymmetric precision of hover and definition results~ [#12706](https://github.com/sourcegraph/sourcegraph/issues/12706) \n- [ ] Remove -endpoint from src-cli usage [#11878](https://github.com/sourcegraph/sourcegraph/issues/11878) 🧶\n- [x] codeintel: Install and use the LSIF upload route on the codeintel internal API [#13157](https://github.com/sourcegraph/sourcegraph/pull/13157) :shipit:\n- [x] Add -upload-route flag to lsif upload [#267](https://github.com/sourcegraph/src-cli/pull/267) :shipit:\n- [x] Add hover alert for partial precise results [#459](https://github.com/sourcegraph/code-intel-extensions/pull/459) :shipit:\n- [x] codeintel: Install docker inside precise-code-intel-indexer-vm docker image [#13119](https://github.com/sourcegraph/sourcegraph/pull/13119) :shipit:\n- [x] docker-images: Add ignite-ubuntu [#12919](https://github.com/sourcegraph/sourcegraph/pull/12919) :shipit:\n- [x] codeintel: Add fast-path edge unmarshalling [#12878](https://github.com/sourcegraph/sourcegraph/pull/12878) :shipit:🧶\n- [x] codeintel: Add disable indexer flag [#12800](https://github.com/sourcegraph/sourcegraph/pull/12800) :shipit:\n- [x] codeintel: Add mocks for queue client [#12798](https://github.com/sourcegraph/sourcegraph/pull/12798) :shipit:\n- [x] internal API proxy: Remove verb allowlist in gitservice proxy [#12797](https://github.com/sourcegraph/sourcegraph/pull/12797) :shipit:\n- [x] codeintel: Collapse worker handler and processor [#12795](https://github.com/sourcegraph/sourcegraph/pull/12795) :shipit:\n- [x] workerutil: Make generic store [#12792](https://github.com/sourcegraph/sourcegraph/pull/12792) :shipit:\n- [x] Fix default host for SRC_HTTP_ADDR_INTERNAL [#12768](https://github.com/sourcegraph/sourcegraph/pull/12768) :shipit:\n- [x] Revert \"Revert \"codeintel: Internal API proxy (#12691)\" (#12728)\" [#12758](https://github.com/sourcegraph/sourcegraph/pull/12758) :shipit:\n- [x] codeintel: VM-based indexer service [#12723](https://github.com/sourcegraph/sourcegraph/pull/12723) :shipit:\n- [x] codeintel: Internal API proxy [#12691](https://github.com/sourcegraph/sourcegraph/pull/12691) :shipit:\n- [x] codeintel: Index queue client [#12688](https://github.com/sourcegraph/sourcegraph/pull/12688) :shipit:\n- [x] workerutil: Move store into own package [#12663](https://github.com/sourcegraph/sourcegraph/pull/12663) :shipit:\n- [x] workerutil: Add DequeueWithIndependentTransactionContext to store [#12661](https://github.com/sourcegraph/sourcegraph/pull/12661) :shipit:\n- [x] codeintel: Index queue API [#12657](https://github.com/sourcegraph/sourcegraph/pull/12657) :shipit:\n- [x] Remove committed binary [#12594](https://github.com/sourcegraph/sourcegraph/pull/12594) :shipit:\n- [x] Add index on repo name column [#12591](https://github.com/sourcegraph/sourcegraph/pull/12591) :shipit:\n- [x] Categorize enterprise frontend startup behaviors [#12539](https://github.com/sourcegraph/sourcegraph/pull/12539) :shipit:\n- [x] Move [enterprise/]cmd/frontend/authz to [enterprise/]internal/authz [#12538](https://github.com/sourcegraph/sourcegraph/pull/12538) :shipit:\n- [x] codeintel: Remove ErrMalformedBundle [#12497](https://github.com/sourcegraph/sourcegraph/pull/12497) :shipit:\n- [x] codeintel: Remove unused store, gitserver code [#12425](https://github.com/sourcegraph/sourcegraph/pull/12425) :shipit:\n- [x]  codeintel: Update store to target new nearest upload tables [#12422](https://github.com/sourcegraph/sourcegraph/pull/12422) :shipit:\n- [x] codeintel: Add commit updater utility [#12411](https://github.com/sourcegraph/sourcegraph/pull/12411) :shipit:\n- [x] codeintel: Add CalculateVisibleUploads to store [#12408](https://github.com/sourcegraph/sourcegraph/pull/12408) :shipit:\n- [x] workerutil: Fix nil-deref in when using worker store transactionally [#12407](https://github.com/sourcegraph/sourcegraph/pull/12407) :shipit:\n- [x] codeintel: Add tables for denormalizing nearest upload data [#12406](https://github.com/sourcegraph/sourcegraph/pull/12406) :shipit:\n- [x] codeintel: Add CommitGraph to gitserver client [#12404](https://github.com/sourcegraph/sourcegraph/pull/12404) :shipit:\n- [x] codeintel: Add commit graph utilities [#12402](https://github.com/sourcegraph/sourcegraph/pull/12402) :shipit:\n- [x] codeintel: Add Lock to store [#12401](https://github.com/sourcegraph/sourcegraph/pull/12401) :shipit:\n- [x] workerutil: Make all column names customizable [#12398](https://github.com/sourcegraph/sourcegraph/pull/12398) :shipit:\n- [x] codeintel: Apply rate limit to gitserver requests from indexability scheduler [#12379](https://github.com/sourcegraph/sourcegraph/pull/12379) :shipit:\n- [x] codeintel: Group code intel data for serialization on-demand [#12125](https://github.com/sourcegraph/sourcegraph/pull/12125) :shipit:\n- [x] codeintel: Additional worker memory improvements [#12108](https://github.com/sourcegraph/sourcegraph/pull/12108) :shipit:\n\u003c!-- END ASSIGNEE --\u003e\n\n\u003c!-- BEGIN ASSIGNEE: gbrik --\u003e\n@gbrik\n\n- [ ] ~🚚 LSIF-clang Delivery~ [#12349](https://github.com/sourcegraph/sourcegraph/issues/12349) \n- [ ] ~Create a code intel user survey~ [#11747](https://github.com/sourcegraph/sourcegraph/issues/11747) \n- [ ] ~update lsif.dev~ [#12501](https://github.com/sourcegraph/sourcegraph/issues/12501) \n- [ ] ~Investigate effort for a new LSIF-swift indexer~ [#12350](https://github.com/sourcegraph/sourcegraph/issues/12350) 🕵️\n\u003c!-- END ASSIGNEE --\u003e\n\u003c!-- END WORK --\u003e\r\n\r\n#### Legend\r\n\r\n- 👩 Customer issue\r\n- 🐛 Bug\r\n- 🧶 Technical debt\r\n- 🛠️ [Roadmap](https://docs.google.com/document/d/1cBsE9801DcBF9chZyMnxRdolqM_1c2pPyGQz15QAvYI/edit#heading=h.5nwl5fv52ess)\r\n- 🕵️ [Spike](https://en.wikipedia.org/wiki/Spike_(software_development))\r\n- 🔒 Security issue\r\n- :shipit: Pull Request\r\n","Number":12132,"URL":"https://github.com/sourcegraph/sourcegraph/issues/12132","State":"CLOSED","Repository":"sourcegraph/sourcegraph","Private":false,"Labels":["team/code-intelligence","tracking"],"Assignees":["efritz","aidaeology","gbrik"],"Milestone":"3.19","Author":"efritz","CreatedAt":"2020-07-13T19:57:39Z","UpdatedAt":"0001-01-01T00:00:00Z","ClosedAt":"2020-08-21T02:14:05Z"},{"ID":"MDU6SXNzdWU2MDExOTMyMzk=","Title":"Code intelligence: 3.16 tracking issue","Body":"\u003c!-- LABEL: planning --\u003e\r\n\u003c!-- LABEL: in progress --\u003e\r\n\u003c!-- LABEL: blocked --\u003e\r\n\u003c!-- LABEL: review --\u003e\r\n\u003c!-- LABEL: not started --\u003e\r\n\u003c!-- LABEL: docs --\u003e\r\n\u003c!-- BEGIN WORK --\u003e\n\u003c!-- BEGIN ASSIGNEE: Unassigned --\u003e\n@Unassigned\n\n- [x] Alert admins if LSIF uploads are too large for DBS_DIR_MAXIMUM_SIZE_BYTES [#9989](https://github.com/sourcegraph/sourcegraph/issues/9989) \n- [x] Request for Tcl basic language support [#9994](https://github.com/sourcegraph/sourcegraph/issues/9994) \n\u003c!-- END ASSIGNEE --\u003e\n\n\u003c!-- BEGIN ASSIGNEE: efritz --\u003e\n@efritz\n\n- [x] Add metrics (and dashboard) to new precise-code-intel services [#10238](https://github.com/sourcegraph/sourcegraph/issues/10238) \n- [x] Add tracing to new precise-code-intel services [#10237](https://github.com/sourcegraph/sourcegraph/issues/10237) \n- [x] Add Cobol support (lang filters, codeintel) [#10154](https://github.com/sourcegraph/sourcegraph/issues/10154) \n- [x] Fix docs for LSIF option DBS_DIR_MAXIMUM_SIZE_BYTES [#9987](https://github.com/sourcegraph/sourcegraph/issues/9987) `docs` 🐛\n- [x] Port precise-code-intel-worker to Go [#9965](https://github.com/sourcegraph/sourcegraph/issues/9965) \n- [x] Port precise-code-intel-bundle-manager to Go [#9964](https://github.com/sourcegraph/sourcegraph/issues/9964) \n- [x] Port precise-code-intel-api-server to Go [#9963](https://github.com/sourcegraph/sourcegraph/issues/9963) \n- [x] Basic code intel definition ranges are off [#9936](https://github.com/sourcegraph/sourcegraph/issues/9936) 🐛\n- [x] LSIF upload: 413 Request Entity Too Large [#9739](https://github.com/sourcegraph/sourcegraph/issues/9739) \n- [x] Improve performance of LSIF upload processing [#9593](https://github.com/sourcegraph/sourcegraph/issues/9593) \n- [x] Weird highlighting on multiple go to definition results with basic code intel [#7668](https://github.com/sourcegraph/sourcegraph/issues/7668) 🐛\n- [x] Remove LSIF uploads after conversion [#10358](https://github.com/sourcegraph/sourcegraph/issues/10358) \n- [x] No \"Go to definition\" for Go symbol [#10372](https://github.com/sourcegraph/sourcegraph/issues/10372) 🐛\n- [x] Request for Tcl basic language support [#9994](https://github.com/sourcegraph/sourcegraph/issues/9994) \n- [x] Bundle manager does not enforce a limit on moniker results [#10510](https://github.com/sourcegraph/sourcegraph/issues/10510) \n- [ ] ~Document LSIF data expectations~ [#9719](https://github.com/sourcegraph/sourcegraph/issues/9719) `docs` \n- [ ] ~Create docs page for codeintel showcase repos~ [#9609](https://github.com/sourcegraph/sourcegraph/issues/9609) `docs` \n- [x] Finished processing timestamp on LSIF upload details page is wrong [#9596](https://github.com/sourcegraph/sourcegraph/issues/9596) \n- [x] Update codeintel db package for worker [#10227](https://github.com/sourcegraph/sourcegraph/pull/10227) :shipit:\n- [x] Add bundle writer abstraction [#10226](https://github.com/sourcegraph/sourcegraph/pull/10226) :shipit:\n- [x] Add additional methods to bundle manager client [#10211](https://github.com/sourcegraph/sourcegraph/pull/10211) :shipit:\n- [x] Add additional precise-code-intel gitserver behavior [#10209](https://github.com/sourcegraph/sourcegraph/pull/10209) :shipit:\n- [x] Add bundle reader abstraction [#10208](https://github.com/sourcegraph/sourcegraph/pull/10208) :shipit:\n- [x] Add Package and PackageReference types in bundles/types [#10207](https://github.com/sourcegraph/sourcegraph/pull/10207) :shipit:\n- [x] Move precise-code-intel-api-server mock interfaces [#10205](https://github.com/sourcegraph/sourcegraph/pull/10205) :shipit:\n- [x] Move bloom filter implementation to internal package [#10202](https://github.com/sourcegraph/sourcegraph/pull/10202) :shipit:\n- [x] Add batch inserter util for SQLite [#10201](https://github.com/sourcegraph/sourcegraph/pull/10201) :shipit:\n- [x] Rewrite precise-code-intel-worker in Go [#10105](https://github.com/sourcegraph/sourcegraph/pull/10105) :shipit:\n- [ ] ~Add variable-entry-size LRU cache implementation in internal/memcache~ [#10005](https://github.com/sourcegraph/sourcegraph/pull/10005) :shipit:\n- [x] Extract sqlite setup from cmd/symbols [#10004](https://github.com/sourcegraph/sourcegraph/pull/10004) :shipit:\n- [ ] ~Extract disksizer from cmd/gitserver~ [#10003](https://github.com/sourcegraph/sourcegraph/pull/10003) :shipit:\n- [x] Rewrite precise-code-intel-api-server in Go [#9703](https://github.com/sourcegraph/sourcegraph/pull/9703) :shipit:\n- [x] Rewrite precise-code-intel-bundle-manager in Go [#9586](https://github.com/sourcegraph/sourcegraph/pull/9586) :shipit:\n\u003c!-- END ASSIGNEE --\u003e\n\n\u003c!-- BEGIN ASSIGNEE: gbrik --\u003e\n@gbrik\n\n- [ ] ~Improve visual clarity and add CTAs re code intel~ [#10083](https://github.com/sourcegraph/sourcegraph/issues/10083) `planning` \n- [ ] ~Write RFC for precise code intel mono repo support~ [#10087](https://github.com/sourcegraph/sourcegraph/issues/10087) `planning` \n- [ ] ~Prototype a new LSIF indexer for C++ based on clangd-indexer~ [#10175](https://github.com/sourcegraph/sourcegraph/issues/10175) `in progress` \n- [x] doc update: code intel CI guides instructions to pass workflow even if indexing fails [#10452](https://github.com/sourcegraph/sourcegraph/issues/10452) `docs` \n- [x] docs: recommend disabling indexing on forks for public repos [#10576](https://github.com/sourcegraph/sourcegraph/issues/10576) `docs` \n- [ ] ~Minor: Retry lsif index upload when clone is in progress~ [#9700](https://github.com/sourcegraph/sourcegraph/issues/9700) `in progress` \n- [ ] ~Process pending LSIF uploads in reverse-chronological order?~ [#9985](https://github.com/sourcegraph/sourcegraph/issues/9985) \n- [ ] ~Index a super cool Go repo and its transitive dependencies~ [#9746](https://github.com/sourcegraph/sourcegraph/issues/9746) `blocked` \n- [x] No \"Go to definition\" for Go symbol [#10372](https://github.com/sourcegraph/sourcegraph/issues/10372) 🐛\n- [x] Use campaigns to get all of our repositories uploading LSIF indexes to sourcegraph.com [#10137](https://github.com/sourcegraph/sourcegraph/issues/10137) \n  - [x] Update LSIF documentation and associated CI workflows [#10138](https://github.com/sourcegraph/sourcegraph/pull/10138) :shipit:\n- [x] Write precise code intel delivery plans [#10081](https://github.com/sourcegraph/sourcegraph/issues/10081) \n- [x] improve our issue tracking process [#10082](https://github.com/sourcegraph/sourcegraph/issues/10082) \n  - [x] Update tracking issue tool to preserve issue order and display whitelisted labels [#10166](https://github.com/sourcegraph/sourcegraph/pull/10166) :shipit:\n- [x] RFC 122: Write detailed LSIF integration instructions for Go and TypeScript [#9289](https://github.com/sourcegraph/sourcegraph/issues/9289) \n  - [x] Update LSIF documentation and associated CI workflows [#10138](https://github.com/sourcegraph/sourcegraph/pull/10138) :shipit:\n\u003c!-- END ASSIGNEE --\u003e\n\n\u003c!-- BEGIN ASSIGNEE: keegancsmith --\u003e\n@keegancsmith\n\n- [x] GraphQL code intel doesn't work [#9756](https://github.com/sourcegraph/sourcegraph/issues/9756) 🐛\n\u003c!-- END ASSIGNEE --\u003e\n\u003c!-- END WORK --\u003e","Number":9917,"URL":"https://github.com/sourcegraph/sourcegraph/issues/9917","State":"CLOSED","Repository":"sourcegraph/sourcegraph","Private":false,"Labels":["team/code-intelligence","tracking"],"Assignees":["efritz","gbrik"],"Milestone":"3.16","Author":"creachadair","CreatedAt":"2020-04-16T15:53:22Z","UpdatedAt":"0001-01-01T00:00:00Z","ClosedAt":"2020-05-20T13:19:56Z"},{"ID":"MDU6SXNzdWU0Nzg4OTc3NTE=","Title":"Core Services: 3.8 Tracking Issue \u0026 beyond","Body":"# Planning 3.8 and beyond\r\n\r\n## Main questions:\r\n\r\n- What will break with 80k repositories?\r\n- What's the delta between the current state of Sourcegraph and the state that would close current deals in our pipeline?\r\n\r\n## 3.8\r\n\r\n- Tomás: Improve ACL performance\r\n    - [#4812](https://github.com/sourcegraph/sourcegraph/issues/4812) - Global Repository Permissions Caching (@tsenart)\r\n- Thorsten: Improve site-admin experience\r\n    - [#5145](https://github.com/sourcegraph/sourcegraph/issues/5145) - Use streaming in repo-updater to make syncing process more responsive\r\n    - [#5146](https://github.com/sourcegraph/sourcegraph/issues/5146) - Make external service syncing errors visible to site-admins \r\n- Keegan:\r\n    - Assisting and helping out the search team with architectural decisions \u0026 design process\r\n    - Improve Zoekt performance\r\n      - Horizontally scaling Zoekt\r\n      - (If time permits: single-node performance, see _Beyond_)\r\n\r\n## Tickets \u0026 Bugs \u0026 misc\r\n\r\n- ~Fix Quinn's issue with `EXTSVC_CONFIG_FILE` setting: [#5134](https://github.com/sourcegraph/sourcegraph/issues/5134)~\r\n- ~Allow configuring external service with `orgs` (do not require `repos` or `repositoryQuery` to be set if `orgs` is set): [#4322](https://github.com/sourcegraph/sourcegraph/issues/4322#issuecomment-519176161)~\r\n- Customer issue: `repo-updater \"failed to run repository clone purge\"` (the `\u003c\u003e` bug)\r\n- Fix gitserver purging process: introduce \"mark \u0026 sweep process\". [#5056 and comment](https://github.com/sourcegraph/sourcegraph/issues/5056#issuecomment-518551181)\r\n- Querying repository by name with github.com prefix always returns empty string for name: [#5125](https://github.com/sourcegraph/sourcegraph/issues/5125#event-2540430023)\r\n- Gitolite EOF: [#5119](https://github.com/sourcegraph/sourcegraph/issues/5119)\r\n- Gitolite not cloning: [#5121](https://github.com/sourcegraph/sourcegraph/issues/5121)\r\n- GitHub Oauth scope: [#5111](https://github.com/sourcegraph/sourcegraph/issues/5111)\r\n\r\n## Beyond\r\n\r\n### Zoekt\r\n\r\n- Investigate, understand, tweak and improve **concurrency model**\r\n- Introduce shard compaction to improve read performance (Inspiration: Cassandra + SS Tables)\r\n- Bloom filters in main process to avoid looking into shards that won't yield results\r\n- Improve memory usage\r\n- Experiment with more efficient posting lists in Zoekt https://github.com/sourcegraph/zoekt/pull/10\r\n- Improve parsing of newlines in Zoekt\r\n\r\n### Frontend/Zoekt\r\n\r\n- Improve memory usage by getting rid of \"list of 80k repos\". Send IDs instead\r\n\r\n### Others\r\n\r\n- Improving **gitolite** performance: large-scale customer reported that it takes gitolite **27 min** to list all repositories (that is: without Sourcegraph being involved at all, it's pure gitolite)\r\n- Determine resource allocation \"equation\" and update docs for admins to provision them accordingly for their Sourcegraph installation (e.g. https://confluence.atlassian.com/bitbucketserver/scaling-bitbucket-server-776640073.html)\r\n\r\n## Ideas for far future\r\n\r\n- Index commit diffs (diff search right now is unindexed)\r\n- Automation\r\n","Number":5147,"URL":"https://github.com/sourcegraph/sourcegraph/issues/5147","State":"CLOSED","Repository":"sourcegraph/sourcegraph","Private":false,"Labels":["team/cloud","tracking"],"Assignees":["tsenart","keegancsmith","mrnugget"],"Milestone":"3.8","Author":"mrnugget","CreatedAt":"2019-08-09T09:43:57Z","UpdatedAt":"0001-01-01T00:00:00Z","ClosedAt":"2019-09-17T09:32:37Z"},{"ID":"MDU6SXNzdWU0NTgwNTIyODg=","Title":"Core Services: 3.6 Tracking Issue","Body":"## Goal\r\n\r\n99th percentile latency of the search query “print” at 42req/s with 20k repos is under 2s.\r\n\r\n## Availability\r\n\r\n- @mrnugget: Not working July 8th-10th\r\n- @tsenart All month\r\n- @keegancsmith All month\r\n\r\n## Dependencies\r\n\r\nWe will want to avoid conflicting with the work the Search team is doing https://github.com/sourcegraph/sourcegraph/issues/4582\r\n\r\n## Completed\r\n\r\nOur main focus in this iteration was to load test the large-scale instance at k8s.sgdev.org and to analyze profiling data to spot bottlenecks and possible improvements. \r\n\r\nThe first major theme we found were large and needless allocations in the GraphQL layer, that were due to multiple parts of the code relying on a list of all repositories. That caused out-of-memory errors, GC pressure and resulted in increased request latency. \r\n\r\nSolving this issue by reducing the number of allocations and changing what we allocate took up a large part of this iteration. \r\n\r\nAfter that, we focused on the next component, Zoekt, by profiling it and trying to understand its behavior under load. \r\n\r\nWe now have multiple ideas for improving Zoekt's performance, including horizontal scaling. \r\n\r\n- [x] Start by adding a benchmark for the `(r *searchResolver) doResults` method in the GraphQL layer\r\n  - [x] Use `*searchbackend.Zoekt.DisableCache = true` in `BenchmarkSearchResults`\r\n  - [x] Create a database-hitting integration version of `BenchmarkSearchResults`\r\n- [x] Add a `backend.ListRepoIDs` method to be used in `resolveRepositories`. This could use a [roaring bitset](https://www.notion.so/thorstenball/Sourcegraph-Performance-Investigation-5b8a753039e34c3da18098700ac214f9) to encode the IDs in a compressed way. **Update after investigation on June 28th**: we cannot use only the repository IDs, because a lot of places in the search code path use the repository name, including `gitserver`.\r\n- [x] externalrepospec not a pointer in types.Repo\r\n- [x] Avoiding allocating the repositoryRevision slice if all revisions are empty. (@tsenart)\r\n- [x] Before search results are returned from `doResults` the repositories-IDs need to be turned into repositories (\"hydrated\"). This requires a `backend.LoadByIDs`. **Update after investigation on June 28th**: the easier and \"dumb\" thing (because it includes N+1 queries) to do would be to load \"minimal repositories\" with only `ID` and `Name` and `ExternalRepo` fields. Whenever a method on `*repositoryResolver` that's not ID, Name, etc. is called, we load the information from the database and fill up the `*repositoryResolver.Repo`\r\n- [x] Dogfood traces for common paths so that these are useful (don’t have to jump straight to logs)\r\n- [x] Clone status indicator #4120 #3413\r\n  - [x] Fix status indicator to show actual cloning status (#4591)\r\n  - [x] Follow #4591 up with investigating possible performance improvements described [here](https://github.com/sourcegraph/sourcegraph/pull/4591#issuecomment-503899644)\r\n  - [x] Remove feature flag and enable feature by default\r\n- [x] Possible follow-up on #4685: delete all existing `repoupdater` migrations now that they've been in two versions of Sourcegraph (#4886)\r\n- [x] Adding a new external service that syncs slowly results in 504 Gateway Timeout (#4511)\r\n\r\n## Won't do\r\n\r\n- Abandoned because at the moment it wouldn't bring us that much closer to our goal, compared to other ideas that we will be pursuing. We might still do this in the future:\r\n  - [ ] Fix ACL layer to work with repository IDs instead of names (https://github.com/sourcegraph/sourcegraph/issues/4812)\r\n  - [ ] Add support for repository IDs to Zoekt.\r\n    - Record sourcegraph ID in zoekt shards\r\n    - Support specifying a set of sourcegraph IDs in `zoekt/query.Q`\r\n  - [ ] IDs need to be stable for \"restoring of previously deleted repos\" to work in repo-updater/Zoekt\r\n\r\n## Backlogged\r\n\r\n- [ ] Repositories can end up in bad state and harm overall system #4565\r\n- [ ] Introduce some form of rate limiting in the GraphQL API to prevent slowing down requests for everyone. \r\n- [ ] Refactor the \"scatter/gather\" pattern to remove duplication in `gitserver.Client` ([see comment](https://github.com/sourcegraph/sourcegraph/pull/4440#discussion_r292517859))\r\n- [ ] Refactor `repoupdater.Client.do` method to use the same interface as the `bitbucketserver.Client.send` method ([see comment here](https://github.com/sourcegraph/sourcegraph/pull/4440#discussion_r292519431))\r\n\r\n## Moved to 3.7\r\n\r\n- [ ] Determine resource allocation \"equation\" and update docs for admins to provision them accordingly for their Sourcegraph installation (e.g. https://confluence.atlassian.com/bitbucketserver/scaling-bitbucket-server-776640073.html)\r\n  - _Note_: We don't know enough yet to do this.\r\n- [ ] Experiment with more efficient posting lists in Zoekt https://github.com/sourcegraph/zoekt/pull/10\r\n  - _Note_: Partially done.\r\n","Number":4598,"URL":"https://github.com/sourcegraph/sourcegraph/issues/4598","State":"CLOSED","Repository":"sourcegraph/sourcegraph","Private":false,"Labels":["team/cloud","tracking"],"Assignees":null,"Milestone":"3.6","Author":"keegancsmith","CreatedAt":"2019-06-19T14:36:05Z","UpdatedAt":"0001-01-01T00:00:00Z","ClosedAt":"2019-07-15T13:54:58Z"},{"ID":"MDU6SXNzdWU1Mzc2NDE3MTE=","Title":"Core Services: 3.12 Tracking Issue","Body":"### Context\r\n\r\n**Status**: This tracking issue is finalized.\r\n\r\n### Availability (__59d__)\r\n\r\nPeriod is the Dec 16th -\u003e Jan 15th. Please put in the days you won't be working and the number of working days for the period. Merry Christmas and a happy New Year! :santa: :christmas_tree:\r\n\r\nTotal availability, excluding @mrnugget, @ryanslade ([a8n](https://github.com/sourcegraph/sourcegraph/issues/7129)) and @tsenart (management): 16 + 15 + 15 + 13 = __59d__\r\n\r\n- @keegancsmith 12/24 - 1/1 OOO. 16 days available.\r\n- @kzh Dec 23th - Jan 1st. 15 days available.\r\n- @mrnugget OOO Dec 23th - Jan 3rd. Available Dec 16th to 20th (**5d**) and Jan 6th to 15th (**8d**). 13 days available.\r\n- @rvantonder 12/24 Dec to  1/2. 15 days available.\r\n- @ryanslade 30th Dec - 15th Jan (__13d__).\r\n- @tsenart 16th Dec - 20th Dec (__5d__), 6th Jan - 15th Jan (__8d__). 13 days available.\r\n- @unknwon (CST +8) 12/18 - 12/23 Part-time (= 2 working days), 1/3 - 1/15. 13 days available.\r\n\r\n### Planned work\r\n\r\nAll planned customer issues, technical debt and roadmap items are meant to be finished in the iteration. If we don't finish all planned work, it is either due to unknown unkowns or our estimating accuracy. While we cannot work on the former, we can on the latter — over time, we aim to estimate better.\r\n\r\nRoadmap items may take more than an iteration to implement. As such please link to an issue which is scoped to this iteration. IE the issue should be closed at the end of the iteration.\r\n\r\nAll issues listed need to have a number of days estimate attached. When setting days, try and overestimate the time needed. Do not use a granularity less than half a day. The total amount of work assigned to you needs to be about 75% of your available days.\r\n\r\n#### Items\r\n\r\n- [x] Ability to filter out archived Bitbucket Server repositories [#5494](https://github.com/sourcegraph/sourcegraph/issues/5494) __1d__ [👩](https://app.hubspot.com/contacts/2762526/company/407948923)\r\n- [x] String literal search \"*foo/bar\" causes an error despite \"*\" not being a regex special character [#4194](https://github.com/sourcegraph/sourcegraph/issues/4194) __1d__ [👩](https://app.hubspot.com/contacts/2762526/company/407948923)\r\n- [x] Default symbol sidebar to using Zoekt for indexed branches [#6078](https://github.com/sourcegraph/sourcegraph/issues/6078) __2d__ [👩](https://app.hubspot.com/contacts/2762526/company/464956351)\r\n- [x] External service _.schema.json files failing with \"...is outside repository\" error [#6034](https://github.com/sourcegraph/sourcegraph/issues/6034) __0.5d__ 👩\r\n- [x] Add mechanism for downloading code file [#5478](https://github.com/sourcegraph/sourcegraph/issues/5478) __1d__ [👩](https://app.hubspot.com/contacts/2762526/company/554338610)\r\n- [x] repository settings page does not display errors properly [#3593](https://github.com/sourcegraph/sourcegraph/issues/3593) __0.5d__ [👩](https://app.hubspot.com/contacts/2762526/company/407948923)\r\n- [x] Add org membership restriction option to GitHub auth [#4195](https://github.com/sourcegraph/sourcegraph/issues/4195) __1d__ [👩](https://app.hubspot.com/contacts/2762526/company/561806411)\r\n- [x] Error after saving external service [#7176](https://github.com/sourcegraph/sourcegraph/issues/7176) __0.5d__ [👩](https://app.hubspot.com/contacts/2762526/company/1749284052)\r\n- [x] Perform controlled clean up of child processes for structural search #7295 __2d__ @rvantonder \r\n- [x] negated repohasfile is ineffective #7380 __1d__ 👩 @keegancsmith \r\n- [x] Make progress on developing and documenting a richer search expression language, and collecting feedback (RFC, no tracking issue) __2d__ @rvantonder [RFC 94 WIP](https://docs.google.com/document/d/1nYv_p1138eHsN7WOw0s3x69Y0HK2L8x7VP-nFKQGal8/edit)\r\n- [x] Pending product sync, @rvantonder reserves a chunk of time to work on Dart LSIF (parent tracking issue #7150) and code-intel search/automation integration __5d+__ @rvantonder \r\n- [x] repo-updater: Soft delete rows in the repo table [#6859](https://github.com/sourcegraph/sourcegraph/issues/6859) __1d__  @keegancsmith [🛠️](https://github.com/sourcegraph/sourcegraph/issues/6086)\r\n- [x] Integrate Bitbucket Server Plugin's permissions endpoints [#7282](https://github.com/sourcegraph/sourcegraph/issues/7282) __3d__ 🛠️@kzh\r\n- [x] Diff/commit search should still show how many repositories timed out when a single repo error occurred [#5520](https://github.com/sourcegraph/sourcegraph/issues/5520) __1d__ [👩](https://app.hubspot.com/contacts/2762526/company/407948923)\r\n- [x] Unable to clone GitLab repositories with self signed certificate [#2990](https://github.com/sourcegraph/sourcegraph/issues/2990) __1d__ 👩@keegancsmith\r\n- [ ] Sourcegraph.com scales to support native integration into gitlab.com [#6738](https://github.com/sourcegraph/sourcegraph/issues/6738) __1d__ 🕵️ @keegancsmith\r\n- [x] GitHub external service: repository sync service fails if org name contains _ or - [#3983](https://github.com/sourcegraph/sourcegraph/issues/3983) __0.5d__ 👩 @ryanslade \r\n- [ ] Enforce warnings for unsupported parameters and filters in structural search #7293 __1d__ @rvantonder \r\n- [x] RFC 40: GraphQL APIs #7298 __4d__ 🛠️ @unknwon\r\n- [x] RFC 40: Grant permissions on user creation and email verification #7679 __0.5d__ 🛠️ @unknwon\r\n- [x] RFC 40: Integrate explicit permissions model into authz workflow #7300 __2d__ 🛠️ @unknwon\r\n- [x] a8n: Upsert ChangesetEvents from Bitbucket Server webhooks [#6726](https://github.com/sourcegraph/sourcegraph/issues/6726) __3d__ 🛠️ @kzh \r\n- [ ] a8n: Use a persistent queue for CampaignJobs and ChangesetJobs (https://github.com/sourcegraph/sourcegraph/issues/6723) __TBC__ 🧶@ryanslade\r\n\r\n#### Legend\r\n\r\n- 👩 Customer issue\r\n- 🧶 Technical debt\r\n- 🛠️ [Roadmap](https://docs.google.com/document/d/1cBsE9801DcBF9chZyMnxRdolqM_1c2pPyGQz15QAvYI/edit#heading=h.5nwl5fv52ess)\r\n- 🕵️ [Spike](https://en.wikipedia.org/wiki/Spike_(software_development))","Number":7190,"URL":"https://github.com/sourcegraph/sourcegraph/issues/7190","State":"CLOSED","Repository":"sourcegraph/sourcegraph","Private":false,"Labels":["team/cloud","tracking"],"Assignees":null,"Milestone":"3.12","Author":"tsenart","CreatedAt":"2019-12-13T16:26:19Z","UpdatedAt":"0001-01-01T00:00:00Z","ClosedAt":"2020-01-20T09:17:50Z"},{"ID":"MDU6SXNzdWU3MDMwNDM0Mjk=","Title":"RFC 201: Tracking issue","Body":"Tracking issue for [RFC 201: Auto-indexer build configuration](https://docs.google.com/document/d/1NPQs1s814LZjNXjPuavqC1N7hZR192DNtmSBmAeH9UY).\r\n\r\n### Tracked issues\r\n\r\n\u003c!-- BEGIN WORK --\u003e\n\u003c!-- BEGIN ASSIGNEE: efritz --\u003e\n@efritz\n\n- [ ] RFC 201: Tracking issue ([#13891](https://github.com/sourcegraph/sourcegraph/issues/13891)) \n- [ ] RFC 201: Update index scheduler to publish new payload ([#13895](https://github.com/sourcegraph/sourcegraph/issues/13895)) \n- [ ] RFC 201: Create index record based on configuration file ([#13896](https://github.com/sourcegraph/sourcegraph/issues/13896)) \n- [ ] RFC 201: Write auto-configurator ([#13897](https://github.com/sourcegraph/sourcegraph/issues/13897)) \n- [ ] RFC 201: Use auto-configurator ([#13898](https://github.com/sourcegraph/sourcegraph/issues/13898)) \n- [ ] RFC 201: Configure CNCF repositories for indexing ([#14343](https://github.com/sourcegraph/sourcegraph/issues/14343)) \n- [ ] RFC 201: Add disk size to VM ([#14390](https://github.com/sourcegraph/sourcegraph/issues/14390)) \n\nCompleted\n- [x] (🏁 11 days ago) codeintel: Refactor command runner in indexer (~[#14102](https://github.com/sourcegraph/sourcegraph/pull/14102)~) :shipit:\n- [x] (🏁 11 days ago) codeintel: Lower indexer output to debug level (~[#14103](https://github.com/sourcegraph/sourcegraph/pull/14103)~) :shipit:\n- [x] (🏁 10 days ago) codeintel: Refactor index command construction (~[#14105](https://github.com/sourcegraph/sourcegraph/pull/14105)~) :shipit:\n- [x] (🏁 10 days ago) codeintel: Move away from hardcoding image names (~[#14114](https://github.com/sourcegraph/sourcegraph/pull/14114)~) :shipit:\n- [x] (🏁 10 days ago) codeintel: Refactor construction of copyfiles flags (~[#14116](https://github.com/sourcegraph/sourcegraph/pull/14116)~) :shipit:\n- [x] (🏁 10 days ago) codeintel: Add orderedKeys to indexer (~[#14117](https://github.com/sourcegraph/sourcegraph/pull/14117)~) :shipit:\n- [x] (🏁 3 days ago) codeintel: Make docker/firecracker abstraction in indexer (~[#14121](https://github.com/sourcegraph/sourcegraph/pull/14121)~) :shipit:\n- [x] (🏁 2 days ago) RFC 201: Write a JSONC index configuration format parser ([~#13892~](https://github.com/sourcegraph/sourcegraph/issues/13892); PRs: ~[#14356](https://github.com/sourcegraph/sourcegraph/pull/14356)~) \n- [x] (🏁 2 days ago) migration: Update default indexer/indexer_args in lsif_indexes table (~[#14360](https://github.com/sourcegraph/sourcegraph/pull/14360)~) :shipit:\n- [x] (🏁 2 days ago) codeintel: Update default indexer args in index scheduler (~[#14378](https://github.com/sourcegraph/sourcegraph/pull/14378)~) :shipit:\n- [x] (🏁 2 days ago) RFC 201: Update auto indexer execution ([~#13894~](https://github.com/sourcegraph/sourcegraph/issues/13894); PRs: ~[#14359](https://github.com/sourcegraph/sourcegraph/pull/14359)~) \n- [x] (🏁 2 days ago) migration: Fix bad default in indexer records (~[#14380](https://github.com/sourcegraph/sourcegraph/pull/14380)~) :shipit:\n- [x] (🏁 2 days ago) codeintel: Fix bad default lsif-go arguments (~[#14386](https://github.com/sourcegraph/sourcegraph/pull/14386)~) :shipit:\n\u003c!-- END ASSIGNEE --\u003e\n\u003c!-- END WORK --\u003e\r\n\r\n#### Legend\r\n\r\n- 👩 Customer issue\r\n- 🐛 Bug\r\n- 🧶 Technical debt\r\n- 🎩 Quality of life\r\n- 🛠️ [Roadmap](https://docs.google.com/document/d/1cBsE9801DcBF9chZyMnxRdolqM_1c2pPyGQz15QAvYI/edit#heading=h.5nwl5fv52ess)\r\n- 🕵️ [Spike](https://en.wikipedia.org/wiki/Spike_(software_development))\r\n- 🔒 Security issue\r\n- :shipit: Pull Request\r\n","Number":13891,"URL":"https://github.com/sourcegraph/sourcegraph/issues/13891","State":"OPEN","Repository":"sourcegraph/sourcegraph","Private":false,"Labels":["RFC-201","team/code-intelligence","tracking"],"Assignees":["efritz"],"Milestone":"","Author":"efritz","CreatedAt":"2020-09-16T20:13:20Z","UpdatedAt":"0001-01-01T00:00:00Z","ClosedAt":"0001-01-01T00:00:00Z"},{"ID":"MDU6SXNzdWU2NTk4MjIzOTA=","Title":"RFC 199: Implement user code executor for code intel indexer","Body":"Implement [RFC 199: User code execution in the auto-indexer](https://docs.google.com/document/d/1rCduWqaLAbMu2s43RwJTBbRlhL6qS3oqq4iawiGdoVE).\r\n\r\n\u003c!-- LABEL: design --\u003e\r\n\u003c!-- LABEL: specced --\u003e\r\n\u003c!-- BEGIN WORK --\u003e\n\u003c!-- BEGIN ASSIGNEE: efritz --\u003e\n@efritz: __5.00d__\n\n- [x] RFC 199: Deploy new indexer service [#12709](https://github.com/sourcegraph/sourcegraph/issues/12709) \n- [x] RFC 199: Replace docker commands with firecracker commands [#12708](https://github.com/sourcegraph/sourcegraph/issues/12708) __5d__ \n- [x] RFC 199: Deploy indexer service that uses firecracker [#13382](https://github.com/sourcegraph/sourcegraph/issues/13382) \n- [x] RFC 199: Gather metrics from indexer service [#13494](https://github.com/sourcegraph/sourcegraph/issues/13494) \n- [x] codeintel: Wrap index commands in a firecracker VM [#13421](https://github.com/sourcegraph/sourcegraph/pull/13421) :shipit:\n\u003c!-- END ASSIGNEE --\u003e\n\u003c!-- END WORK --\u003e","Number":12307,"URL":"https://github.com/sourcegraph/sourcegraph/issues/12307","State":"CLOSED","Repository":"sourcegraph/sourcegraph","Private":false,"Labels":["RFC-199","team/code-intelligence","tracking"],"Assignees":["efritz"],"Milestone":"3.20","Author":"efritz","CreatedAt":"2020-07-18T02:10:42Z","UpdatedAt":"0001-01-01T00:00:00Z","ClosedAt":"2020-09-04T20:38:53Z"},{"ID":"MDU6SXNzdWU2NTkyMzYyNTc=","Title":"Web: 3.19 tracking issue","Body":"## Iteration name\r\n\r\n\"We want to experience the pain\"\r\n\r\n## Goals\r\n\r\n### Use recent improvements from design to dogfood and improve our design-to-developer handoff process\r\n\r\n**Problem**\r\n\r\nAs we are building out our design team, our most recent data points on design-to-developer handoff have outlined pain points. We want to use recent improvements from design that are ready for handoff ([headers \u0026 breadcrumbs for common page types](https://github.com/sourcegraph/sourcegraph/issues/11774), [information architecture improvements](https://github.com/sourcegraph/sourcegraph/issues/11775)) to dogfood our interface between design and development, and improve it in any way we can.\r\n\r\n**Planned work**\r\n- The team will collectively review the designs for #11774, #11775\r\n- We'll derive an implementation plan, making sure that we all get exposure to the handoff process.\r\n- We'll take this opportunity to identify what is missing / what needs to be cleand up in Storybook (which is meant to be the developer-facing interface to our component system), and take action there\r\n- During implementation, we'll collect data points about the handoff:\r\n    - We'll identify the pain points that we can fix. We'll fix them immediately if possible, otherwise, we'll formulate the resulting problem statements we want to fix next.\r\n    - We'll also identify what did work, and turn it into documentation for future developers to follow.\r\n\r\n### Reduce our reliance on the e2e regression test suite to the bare minimum\r\n\r\n**Problem**\r\n\r\nOur heavy reliance on our end-to-end regression test suite creates pain at the end of every release cycle: regression tests are run manually, which is a painful process, and they require incremental fixes at the end of every release cycle (https://github.com/sourcegraph/sourcegraph/pull/12258, https://github.com/sourcegraph/sourcegraph/pull/12439). Yet, our [testing pyramid](https://about.sourcegraph.com/handbook/engineering/testing#testing-pyramid) documents that we should use end-to-end tests sparingly. While the web team did build an integration tests platform in 3.18, giving us the ability to continuously test complex UI flows in CI with no flakiness, there is still some work left to do to take this over the finish line.\r\n\r\nWe want to expand our integration test suite, and delete corresponding e2e regression tests, so that our reliance on e2e regression tests is dramatically reduced by the end of the milestone, bringing us significantly closer to a fully automated release process.\r\n\r\n**Planned work**\r\n\r\n- @twop, who has owned previous audit efforts, owns identifying all flows that should have integration tests, and distributing them to web team members for implementation\r\n- @twop and @felixfbecker will work on using non-hacky graphQL type generation for the query/response types used in integration tests (this is notably being worked on in #12284)\r\n- @lguychard and @marekweb will work on figuring out how to make integration tests work to test extensions and the browser extension, which is blocked by https://github.com/sourcegraph/sourcegraph/issues/12194. @lguychard's work on writing our netflix/pollyjs adapter is relevant here. This will unlock:\r\n    - The ability to test UI flows contributed by extensions (notably our code intelligence UI flows)\r\n    - The ability to test native integrations (which are currently untested when releasing Sourcegraph, as they're not covered by the e2e regression test suite)\r\n\r\n## Availability\r\n\r\nPeriod is from July 20th to August 19th (23 working days).\r\n\r\n@lguychard: 20d (off starting August 19th)\r\n@felixfbecker: 23d\r\n@marekweb: 23d\r\n@twop: 23d\r\n\r\n## Issues in the milestone\r\n\r\nThe primary source of truth for what the team is working on in this milestone is the **Goals** section above. Progress on those goals is communicated through weekly updates as comments to this tracking issue. As such, this section should not be taken as a comprehensive overview of what the team is working on in 3.19.\r\n\r\n\u003c!-- BEGIN WORK --\u003e\n\u003c!-- BEGIN ASSIGNEE: Unassigned --\u003e\n@Unassigned: __11.00d__\n\n- [ ] Placeholder (maybe split later): migrate the rest of the areas to the new model according to RFC 155. [#10750](https://github.com/sourcegraph/sourcegraph/issues/10750) __8d__ \n- [ ] Migrate ExtExtensions API to a new model described in RFC 155 [#10749](https://github.com/sourcegraph/sourcegraph/issues/10749) __3d__ \n\u003c!-- END ASSIGNEE --\u003e\n\n\u003c!-- BEGIN ASSIGNEE: felixfbecker --\u003e\n@felixfbecker\n\n- [x] Adopt graphql-code-generator [#12559](https://github.com/sourcegraph/sourcegraph/pull/12559) :shipit:\n\u003c!-- END ASSIGNEE --\u003e\n\n\u003c!-- BEGIN ASSIGNEE: lguychard --\u003e\n@lguychard\n\n- [ ] Add Repository / Update Repository actions unclear [#10899](https://github.com/sourcegraph/sourcegraph/issues/10899) 🐛\n\u003c!-- END ASSIGNEE --\u003e\n\n\u003c!-- BEGIN ASSIGNEE: limitedmage --\u003e\n@limitedmage\n\n- [x] Add tags to Git-extras extension [#12485](https://github.com/sourcegraph/sourcegraph/issues/12485) \n\u003c!-- END ASSIGNEE --\u003e\n\n\u003c!-- BEGIN ASSIGNEE: marekweb --\u003e\n@marekweb\n\n- [x] Bitbucket Server native integration prevents file header text from wrapping [#11110](https://github.com/sourcegraph/sourcegraph/issues/11110) 🐛\n\u003c!-- END ASSIGNEE --\u003e\n\n\u003c!-- BEGIN ASSIGNEE: tjkandala --\u003e\n@tjkandala\n\n- [x] Browser ext links to Sourcegraph don't appear on repos when branches specified [#11057](https://github.com/sourcegraph/sourcegraph/issues/11057) 🐛\n\u003c!-- END ASSIGNEE --\u003e\n\u003c!-- END WORK --\u003e\r\n","Number":12293,"URL":"https://github.com/sourcegraph/sourcegraph/issues/12293","State":"CLOSED","Repository":"sourcegraph/sourcegraph","Private":false,"Labels":["team/web","tracking"],"Assignees":null,"Milestone":"3.19","Author":"lguychard","CreatedAt":"2020-07-17T12:58:14Z","UpdatedAt":"0001-01-01T00:00:00Z","ClosedAt":"2020-08-24T16:26:33Z"},{"ID":"MDU6SXNzdWU2MjAzNjc1NzU=","Title":"Core Services: 3.17 Tracking issue","Body":"### Status\r\n\r\nThis tracking issue is being worked on.\r\n\r\n### Availability\r\n\r\nPeriod is from 21st May to 20th of June. Please write the days you won't be working and the number of working days for the period.\r\n\r\n- @keegancsmith \r\n- @tsenart: **10d**\r\n- @unknwon: **22d**\r\n\r\n### Workload\r\n\r\n\u003c!-- BEGIN WORK --\u003e\n\u003c!-- BEGIN ASSIGNEE: bobheadxi --\u003e\n@bobheadxi: __0.50d__\n\n- [x] `src config` commands fail [#10419](https://github.com/sourcegraph/sourcegraph/issues/10419) __0.5d__ 🐛\n\u003c!-- END ASSIGNEE --\u003e\n\n\u003c!-- BEGIN ASSIGNEE: keegancsmith --\u003e\n@keegancsmith\n\n- [x] errors seen in indexed-search on bigdata cluster with 250k repos [#11200](https://github.com/sourcegraph/sourcegraph/issues/11200) \n- [ ] ~Index multiple (non-master) branches~ [#6728](https://github.com/sourcegraph/sourcegraph/issues/6728) __10d__ [👩](https://app.hubspot.com/contacts/2762526/company/554338610)\n\u003c!-- END ASSIGNEE --\u003e\n\n\u003c!-- BEGIN ASSIGNEE: ryanslade --\u003e\n@ryanslade: __5.50d__\n\n- [x] Download raw file fails on large repos [#10466](https://github.com/sourcegraph/sourcegraph/issues/10466) __1d__ 🐛\n- [x] Reduce usage of raw string for external service kind [#10296](https://github.com/sourcegraph/sourcegraph/issues/10296) __1d__ 🧶\n- [x] Validate unique rate limit configuration [#10026](https://github.com/sourcegraph/sourcegraph/issues/10026) __0.5d__ \n- [x] Use internal rate limiters for all source requests [#9953](https://github.com/sourcegraph/sourcegraph/issues/9953) __2d__ \n- [ ] RFC 132: Use rate limit data when scheduling changeset syncs [#9105](https://github.com/sourcegraph/sourcegraph/issues/9105) __1d__ \n\u003c!-- END ASSIGNEE --\u003e\n\n\u003c!-- BEGIN ASSIGNEE: tsenart --\u003e\n@tsenart\n\n- [x] No Git file history for binary files [#10999](https://github.com/sourcegraph/sourcegraph/issues/10999) 🐛\n- [x] gitlab-org/gitlab ResolveRev errors with 504 Gateway Timeout on sourcegraph.com [#10960](https://github.com/sourcegraph/sourcegraph/issues/10960) 🐛\n- [x] repo-updater: Use per HTTP request timeouts [#11105](https://github.com/sourcegraph/sourcegraph/pull/11105) :shipit:👩\n- [x] repo-updater: Change Postgres isolation level to default [#10957](https://github.com/sourcegraph/sourcegraph/pull/10957) :shipit:\n- [x] Add golangci-lint GitHub Action [#10858](https://github.com/sourcegraph/sourcegraph/pull/10858) :shipit:🧶\n\u003c!-- END ASSIGNEE --\u003e\n\n\u003c!-- BEGIN ASSIGNEE: unknwon --\u003e\n@unknwon: __16.00d__\n\n- [x] Background permissions syncing should not rely on `ServiceID` to match authz provider [#11023](https://github.com/sourcegraph/sourcegraph/issues/11023) __4d__ 🐛\n- [x] Background permission fetching causes repos from 2nd code host to be inaccessible [#11318](https://github.com/sourcegraph/sourcegraph/issues/11318) __1d__ 🐛\n- [x] Detect GitHub 404 errors during background permissions syncing [#11007](https://github.com/sourcegraph/sourcegraph/issues/11007) __0.5d__ \n- [x] Update GraphQL mutation to support multi-level permissions [#10952](https://github.com/sourcegraph/sourcegraph/issues/10952) __0.5d__ 🐛\n- [x] Ping investigation: Instances are offline [#10598](https://github.com/sourcegraph/sourcegraph/issues/10598) __1d__ \n- [x] License expired notice is not showing up for users [#10363](https://github.com/sourcegraph/sourcegraph/issues/10363) __1d__ 🐛\n- [x] Ensure that we are tracking Go test coverage correctly [#10356](https://github.com/sourcegraph/sourcegraph/issues/10356) __2d__ 🛠️\n- [x] Docs: How background permissions syncing works [#10190](https://github.com/sourcegraph/sourcegraph/issues/10190) __1d__ \n- [x] RFC 142: Migrate backend e2e test with unit tests [#10067](https://github.com/sourcegraph/sourcegraph/issues/10067) __4d__ 🛠️\n- [x] authz: better heuristic of `NextSyncAt` by `PermsSyncer` [#9098](https://github.com/sourcegraph/sourcegraph/issues/9098) __1d__ \n- [ ] ~PoC: src-expose push based~ [#10045](https://github.com/sourcegraph/sourcegraph/issues/10045) __2d__ 🕵️\n\u003c!-- END ASSIGNEE --\u003e\n\n\u003c!-- BEGIN ASSIGNEE: uwedeportivo --\u003e\n@uwedeportivo\n\n- [x] repo-updater: make handleStatusMessages log entry shorter and more useful [#11203](https://github.com/sourcegraph/sourcegraph/issues/11203) \n\u003c!-- END ASSIGNEE --\u003e\n\u003c!-- END WORK --\u003e\r\n\r\n#### Legend\r\n\r\n- 👩 Customer issue\r\n- 🐛 Bug\r\n- 🧶 Technical debt\r\n- 🛠️ [Roadmap](https://docs.google.com/document/d/1cBsE9801DcBF9chZyMnxRdolqM_1c2pPyGQz15QAvYI/edit#heading=h.5nwl5fv52ess)\r\n- 🕵️ [Spike](https://en.wikipedia.org/wiki/Spike_(software_development))\r\n- 🔒 Security issue\r\n- :shipit: Pull Request\r\n","Number":10786,"URL":"https://github.com/sourcegraph/sourcegraph/issues/10786","State":"CLOSED","Repository":"sourcegraph/sourcegraph","Private":false,"Labels":["team/cloud","tracking"],"Assignees":null,"Milestone":"3.17","Author":"tsenart","CreatedAt":"2020-05-18T17:05:24Z","UpdatedAt":"0001-01-01T00:00:00Z","ClosedAt":"2020-06-16T10:42:43Z"},{"ID":"MDU6SXNzdWU1NjYzMDA5NDA=","Title":"Web: 3.14 tracking issue","Body":"## Planned Work\r\n\r\n\u003c!-- BEGIN PLANNED WORK --\u003e\n@attfarhan: __0.00d__\n\n- [ ] Improve onboarding experience [#8584](https://github.com/sourcegraph/sourcegraph/issues/8584) __?d__ \n- [x] Unify definition of filters/suggestions in webapp [#8151](https://github.com/sourcegraph/sourcegraph/issues/8151) __?d__ 🧶\n- [x] Track daily, weekly, monthly active users of search in pings [#7833](https://github.com/sourcegraph/sourcegraph/issues/7833) __?d__ \n- [x] Track usage of search modes in pings [#7831](https://github.com/sourcegraph/sourcegraph/issues/7831) __?d__ \n\n@eseliger: __0.50d__\n\n- [ ] a8n/web: Campaign detail view scrolls to top when diff/changesets tab is changed [#7714](https://github.com/sourcegraph/sourcegraph/issues/7714) __0.5d__ 🐛\n\n@felixfbecker: __0.50d__\n\n- [x] Weird search results borders [#8760](https://github.com/sourcegraph/sourcegraph/issues/8760) __?d__ 🐛\n- [x] Horizontal scrolling of search results doesn't work in Firefox [#8757](https://github.com/sourcegraph/sourcegraph/issues/8757) __?d__ 🐛\n- [x] Site init page shows in dark theme if OS dark theme is enabled [#6420](https://github.com/sourcegraph/sourcegraph/issues/6420) __0.5d__ 🐛👩\n\n@lguychard: __8.00d__\n\n- [x] new search autocompletion gets in my way [#8904](https://github.com/sourcegraph/sourcegraph/issues/8904) __?d__ \n- [x] smartSearch doesn't recognize index field [#8860](https://github.com/sourcegraph/sourcegraph/issues/8860) __0.5d__ 🐛\n- [ ] Search bar no longer updating to show current repo with smartSearchField turned on [#8839](https://github.com/sourcegraph/sourcegraph/issues/8839) __0.5d__ 🐛\n- [x] Triple quotes cause a query to become invisible [#8801](https://github.com/sourcegraph/sourcegraph/issues/8801) __0.5d__ 🐛\n- [ ] Suggestion icons hard to see in light theme [#8764](https://github.com/sourcegraph/sourcegraph/issues/8764) __0.5d__ 🐛\n- [ ] Search bar and directory page have different search bars [#8752](https://github.com/sourcegraph/sourcegraph/issues/8752) __0.5d__ 🐛\n- [ ] New search autocomplete yields no results in this particular case [#8749](https://github.com/sourcegraph/sourcegraph/issues/8749) __?d__ \n- [x] type:code doesn't work in smartSearchField [#8742](https://github.com/sourcegraph/sourcegraph/issues/8742) __0.5d__ 🐛\n- [x] type:file missing in smartSearchField [#8741](https://github.com/sourcegraph/sourcegraph/issues/8741) __0.5d__ 🐛\n- [ ] Missing space when inserting new filter [#8740](https://github.com/sourcegraph/sourcegraph/issues/8740) __0.5d__ 🐛\n- [x] Newline possible in new search UI [#8738](https://github.com/sourcegraph/sourcegraph/issues/8738) __0.5d__ 🐛\n- [x] search bar: Ctrl-f on website cut off [#8736](https://github.com/sourcegraph/sourcegraph/issues/8736) __0.5d__ 🐛\n- [ ] Cursor is put at the beginning of search field after submitting (instead of staying at end) [#8731](https://github.com/sourcegraph/sourcegraph/issues/8731) __0.5d__ 🐛\n- [ ] Branch/commit/tag selector dropdown is slow on giant monorepo (100K+ branches) [#8594](https://github.com/sourcegraph/sourcegraph/issues/8594) __?d__ \n- [x] onboarding confetti hidden by other layers in web UI [#8527](https://github.com/sourcegraph/sourcegraph/issues/8527) __0.5d__ 🐛\n- [ ] Web: 3.14 tracking issue [#8445](https://github.com/sourcegraph/sourcegraph/issues/8445) __?d__ \n- [ ] MonacoQueryInput theme is broken on pages that have another Monaco editor [#7697](https://github.com/sourcegraph/sourcegraph/issues/7697) __1d__ 🐛\n- [ ] MonacoQueryInput does not shrink when the window is resized. [#7692](https://github.com/sourcegraph/sourcegraph/issues/7692) __1d__ 🐛\n- [ ] Clicking \"Show more\" at end of a result set does not jump you back to the top of the page [#7024](https://github.com/sourcegraph/sourcegraph/issues/7024) __?d__ 🐛\n\n@ryanslade: __3.00d__\n\n- [x] campaigns: Allow filtering/sorting of campaigns and changesets in campaigns [#8462](https://github.com/sourcegraph/sourcegraph/issues/8462) __3d__ \n\nUnassigned: __0.00d__\n\n- [ ] Track usage of search filters in pings [#7832](https://github.com/sourcegraph/sourcegraph/issues/7832) __?d__ \n\u003c!-- END PLANNED WORK --\u003e\r\n\r\n## Legend\r\n\r\n👩 Customer issue\r\n🐛 Bug\r\n🧶 Technical debt\r\n🛠️ Roadmap\r\n🕵️ Spike\r\n🔒 Security issue\r\n ","Number":8445,"URL":"https://github.com/sourcegraph/sourcegraph/issues/8445","State":"CLOSED","Repository":"sourcegraph/sourcegraph","Private":false,"Labels":["team/web","tracking"],"Assignees":["lguychard"],"Milestone":"3.14","Author":"lguychard","CreatedAt":"2020-02-17T13:31:24Z","UpdatedAt":"0001-01-01T00:00:00Z","ClosedAt":"2020-03-19T12:52:20Z"},{"ID":"MDU6SXNzdWU1ODY2MDMxNTU=","Title":"Tracking issue: RFC 131: Observability in Sourcegraph","Body":"This is a tracking issue for the implementation of [RFC 131: Observability in Sourcegraph](https://docs.google.com/document/d/1ZMHWLk-dDFkZ23uA7YtN-rUHO2QpqQwAqhZAKHiR0z8/edit). The work needed to implement this RFC is tracked below and may span multiple iterations.\r\n\r\n### 3.15\r\n\r\n- [ ] TODO: @slimsag file issues and link here, specifically for Grafana and Prometheus.\r\n- [ ] TODO: @beyang file issues and link here, specifically for Jaeger and anything else you see fit.\r\n\r\n### Unplanned\r\n\r\nTBD\r\n","Number":9253,"URL":"https://github.com/sourcegraph/sourcegraph/issues/9253","State":"CLOSED","Repository":"sourcegraph/sourcegraph","Private":false,"Labels":["team/distribution","tracking"],"Assignees":["beyang","slimsag"],"Milestone":"","Author":"slimsag","CreatedAt":"2020-03-24T00:26:21Z","UpdatedAt":"0001-01-01T00:00:00Z","ClosedAt":"2020-04-06T17:30:27Z"},{"ID":"MDU6SXNzdWU3MDc0NzY5NTQ=","Title":"Product team 3.21 Tracking issue","Body":"### Plan\r\n\r\nList of work in progress:\r\n\r\n### Availability\r\n\r\nIf you have planned unavailability this iteration (e.g., vacation), you can note that here.\r\n\r\n### Tracked issues\r\n\r\n\u003c!-- BEGIN WORK --\u003e\n\u003c!-- BEGIN ASSIGNEE: rrhyne --\u003e\n@rrhyne: __3.00d__\n\n- [ ] Design support for streaming search ([#13928](https://github.com/sourcegraph/sourcegraph/issues/13928)) __3d__ \n- [ ] Sync design system namespaces to component/css names ([#13808](https://github.com/sourcegraph/sourcegraph/issues/13808)) \n- [ ] Sourcegraph Server home page ([#12192](https://github.com/sourcegraph/sourcegraph/issues/12192)) \n\u003c!-- END ASSIGNEE --\u003e\n\u003c!-- END WORK --\u003e\r\n\r\n#### Legend\r\n\r\n- 👩 Customer issue\r\n- 🐛 Bug\r\n- 🧶 Technical debt\r\n- 🎩 Quality of life\r\n- 🛠️ [Roadmap](https://docs.google.com/document/d/1cBsE9801DcBF9chZyMnxRdolqM_1c2pPyGQz15QAvYI/edit#heading=h.5nwl5fv52ess)\r\n- 🕵️ [Spike](https://en.wikipedia.org/wiki/Spike_(software_development))\r\n- 🔒 Security issue\r\n- :shipit: Pull Request\r\n","Number":14101,"URL":"https://github.com/sourcegraph/sourcegraph/issues/14101","State":"OPEN","Repository":"sourcegraph/sourcegraph","Private":false,"Labels":["team/product","tracking"],"Assignees":["christinaforney"],"Milestone":"3.21","Author":"rrhyne","CreatedAt":"2020-09-23T15:41:37Z","UpdatedAt":"0001-01-01T00:00:00Z","ClosedAt":"0001-01-01T00:00:00Z"},{"ID":"MDU6SXNzdWU2ODE5NjE0MDU=","Title":"Cloud 3.20 Tracking issue","Body":"### Goals\r\n\r\n#### Soft launch of fast indexed search over user added public code from github.com, gitlab.com and bitbucket.org\r\n\r\nEveryone on the team is working towards this goal this iteration. We want to progressively launch this feature to more and more users while monitoring performance impact and end user experience. There are components of UI/UX, security, load testing and more to be worked on. @ryanslade will be coordinating the scoping and refinement of this work in #12699.\r\n\r\n### Availability\r\n\r\nIf you have planned unavailability this iteration (e.g., vacation), you can note that here.\r\n\r\n- @tsenart: Off from the 20th of August until the 7th of September 🌴 \r\n\r\n### Tracked work\r\n\r\n\u003c!-- BEGIN WORK --\u003e\n\u003c!-- BEGIN ASSIGNEE: ElizabethStirling --\u003e\n@ElizabethStirling\n\n- [x] Auth: explicit session invalidation [#1126](https://github.com/sourcegraph/sourcegraph/issues/1126) 🔒\n\u003c!-- END ASSIGNEE --\u003e\n\n\u003c!-- BEGIN ASSIGNEE: Unassigned --\u003e\n@Unassigned\n\n- [x] Record and expose LOC metric in Zoekt [#13713](https://github.com/sourcegraph/sourcegraph/issues/13713) \n\u003c!-- END ASSIGNEE --\u003e\n\n\u003c!-- BEGIN ASSIGNEE: asdine --\u003e\n@asdine\n\n- [x] New external_service_repos table [#12711](https://github.com/sourcegraph/sourcegraph/issues/12711) \n\u003c!-- END ASSIGNEE --\u003e\n\n\u003c!-- BEGIN ASSIGNEE: daxmc99 --\u003e\n@daxmc99: __11.00d__\n\n- [ ] RFC 174: Terraform Cloud SQL [#11794](https://github.com/sourcegraph/sourcegraph/issues/11794) __1d__ \n- [ ] RFC 174: HA Postgres for Sourcegraph Cloud [#11496](https://github.com/sourcegraph/sourcegraph/issues/11496) __10d__ \n- [x] sourcegraph/security-issues [#95](https://github.com/sourcegraph/security-issues/issues/95) \n\u003c!-- END ASSIGNEE --\u003e\n\n\u003c!-- BEGIN ASSIGNEE: keegancsmith --\u003e\n@keegancsmith: __0.50d__\n\n- [x] GitLab OAuth certificate signed by unknown authority [#4652](https://github.com/sourcegraph/sourcegraph/issues/4652) __0.5d__ 🐛👩\n\u003c!-- END ASSIGNEE --\u003e\n\n\u003c!-- BEGIN ASSIGNEE: ryanslade --\u003e\n@ryanslade\n\n- [x] repo-updater: Remove repos.FakeStore [#13403](https://github.com/sourcegraph/sourcegraph/pull/13403) :shipit:\n\u003c!-- END ASSIGNEE --\u003e\n\n\u003c!-- BEGIN ASSIGNEE: unknwon --\u003e\n@unknwon: __5.50d__\n\n- [x] Bitbucket Server permissions only supports \u003c2500 repositories [#12671](https://github.com/sourcegraph/sourcegraph/issues/12671) __0.5d__ \n- [x] authz: remove deprecated permissions site configs [#12357](https://github.com/sourcegraph/sourcegraph/issues/12357) __0.5d__ 🧶\n- [x] gqltest: migrate internal/cmd/search-integration-tester [#12143](https://github.com/sourcegraph/sourcegraph/issues/12143) __1d__ 🧶\n- [x] gqltest: enable in CI on `main` branch [#11579](https://github.com/sourcegraph/sourcegraph/issues/11579) __2d__ \n- [x] GitHub OAuth certificate signed by unknown authority [#13461](https://github.com/sourcegraph/sourcegraph/issues/13461) __0.5d__ 🐛\n- [x] Migrate Grafana Permissions panel to the new format [#9923](https://github.com/sourcegraph/sourcegraph/issues/9923) __1d__ \n- [x] Site admins will not receive critical alerts if permission syncing is failing [#12673](https://github.com/sourcegraph/sourcegraph/issues/12673) \n- [x] No alerts fire if repository permissions add substantial performance issues [#12676](https://github.com/sourcegraph/sourcegraph/issues/12676) \n- [x] schema: remove deprecated authz fields [#13395](https://github.com/sourcegraph/sourcegraph/pull/13395) :shipit:\n- [x] web: add pages to CRUD user-added external services [#13095](https://github.com/sourcegraph/sourcegraph/pull/13095) :shipit:\n\u003c!-- END ASSIGNEE --\u003e\n\u003c!-- END WORK --\u003e\r\n\r\n#### Legend\r\n\r\n- 👩 Customer issue\r\n- 🐛 Bug\r\n- 🧶 Technical debt\r\n- 🛠️ [Roadmap](https://docs.google.com/document/d/1cBsE9801DcBF9chZyMnxRdolqM_1c2pPyGQz15QAvYI/edit#heading=h.5nwl5fv52ess)\r\n- 🕵️ [Spike](https://en.wikipedia.org/wiki/Spike_(software_development))\r\n- 🔒 Security issue\r\n- :shipit: Pull Request\r\n","Number":13144,"URL":"https://github.com/sourcegraph/sourcegraph/issues/13144","State":"CLOSED","Repository":"sourcegraph/sourcegraph","Private":false,"Labels":["team/cloud","tracking"],"Assignees":null,"Milestone":"3.20","Author":"tsenart","CreatedAt":"2020-08-19T16:03:21Z","UpdatedAt":"0001-01-01T00:00:00Z","ClosedAt":"2020-09-21T11:44:20Z"},{"ID":"MDU6SXNzdWU2NTE1MDY5NTU=","Title":"Distribution: 3.19 Tracking issue","Body":"### Plan\r\n\r\n#### [Support new and existing deployments](https://github.com/orgs/sourcegraph/projects/74)\r\n\r\nThis is an ongoing expense, we anticipate this taking no more than 10d of work spread across the entire team.\r\n\r\n#### [Reduce upgrade overhead](https://github.com/orgs/sourcegraph/projects/71)\r\n\r\nUpgrading Kubernetes deployments requires customers spend a lot of engineering time to converge our released Kubernetes manifests with their fork as documented in [RFC-141](https://docs.google.com/document/d/1tsksAlqe77NmdPLw7oyy2u0-1rYDQeVpPeDo1T0Xt50).\r\n\r\nWe will finish the [Dhall](https://dhall-lang.org/) investigation and make a decision by the end of 3.19.\r\n\r\n- @ggilmore\r\n- @uwedeportivo\r\n\r\n#### [Increase our e2e test frequency](https://github.com/orgs/sourcegraph/projects/72)\r\n\r\nTo increase our release cadence, we need to be able to run e2e tests more frequently. This is currently not possible as our CI infrastructure causes tests to be unreliable.\r\n\r\n- @slimsag\r\n- @davejrt\r\n- @pecigonzalo \r\n\r\n#### [Support per-team alerts](https://github.com/orgs/sourcegraph/projects/73)\r\n\r\nTo allow teams to support and monitor the services and features they ship, we need to be able to route alerts to the relevant teams as described in [RFC-189](https://docs.google.com/document/d/1noZf86g2QwTbFNt3XSSbMg36D-_HCptP1thMzZsgt2Q).\r\n\r\n- @bobheadxi\r\n- @davejrt\r\n- @slimsag\r\n\r\n### Availability\r\n\r\nPeriod is from **July 20th** to **August 19th (23 working days)**. Please write the days you won't be working and the number of working days for the period.\r\n\r\n- **Dave**: 22d (off July20)\r\n- **Robert**: 23d\r\n\r\n### Workload\r\n\r\n\u003c!-- BEGIN WORK --\u003e\n\u003c!-- BEGIN ASSIGNEE: bobheadxi --\u003e\n@bobheadxi: __2.50d__\n\n- [x] Approved: Proposal: RFC-189: Support per-team alerts and on-call rotations [#12010](https://github.com/sourcegraph/sourcegraph/issues/12010) \n- [x] monitoring: migrate existing alert rules to generator [#12117](https://github.com/sourcegraph/sourcegraph/issues/12117) \n- [x] Dogfood the monitoring we ship with Sourcegraph [#5370](https://github.com/sourcegraph/sourcegraph/issues/5370) __2d__ \n- [x] ~cadvisor: investigate collecting IO metrics~ [#12163](https://github.com/sourcegraph/sourcegraph/issues/12163) \n- [x] Better account for peaks / max resource usage in monitoring [#12032](https://github.com/sourcegraph/sourcegraph/issues/12032) __0.5d__ \n- [x] Make license check not fail when our node version is upgraded [#12318](https://github.com/sourcegraph/sourcegraph/issues/12318) \n- [x] monitoring: generate alerts as native prometheus alerts, let alert_count depend on alert rules [#12336](https://github.com/sourcegraph/sourcegraph/issues/12336) \n- [x] sourcegraph/server:3.18 provisioning indicators panel missing [#12421](https://github.com/sourcegraph/sourcegraph/issues/12421) 🐛\n- [x] deploy-sourcegraph: prometheus missing in `up` metric [#12482](https://github.com/sourcegraph/sourcegraph/issues/12482) \n- [x] monitoring: no easy way to trigger alerts for testing [#12423](https://github.com/sourcegraph/sourcegraph/issues/12423) \n- [x] monitoring: link back to grafana service dashboards in alert notifications [#12235](https://github.com/sourcegraph/sourcegraph/issues/12235) \n- [x] monitoring: better advice for alerts that do not have an entry in alert_solutions [#12236](https://github.com/sourcegraph/sourcegraph/issues/12236) \n- [x] frontend: hard errors alerts as ratio/percentage instead of absolute-value [#12158](https://github.com/sourcegraph/sourcegraph/issues/12158) \n- [x] monitoring: change relevant hard threshold alerts to ratio-based alerts [#12865](https://github.com/sourcegraph/sourcegraph/issues/12865) \n- [x] monitoring: index_queue_growth_rate firing without hitting threshold [#12868](https://github.com/sourcegraph/sourcegraph/issues/12868) 🐛\n- [ ] ~monitoring: remove custom alertmanager from cloud~ [#12160](https://github.com/sourcegraph/sourcegraph/issues/12160) \n- [x] monitoring: difficult to understand 7d provisioning panel [#12692](https://github.com/sourcegraph/sourcegraph/issues/12692) \n\u003c!-- END ASSIGNEE --\u003e\n\n\u003c!-- BEGIN ASSIGNEE: davejrt --\u003e\n@davejrt\n\n- [ ] ~Bare-metal Buildkite agents capable of running Docker and VMs~ [#12101](https://github.com/sourcegraph/sourcegraph/issues/12101) \n- [ ] ~deploy-sourcegraph-dhall: Add CI job to generate diff between master and feature branch~ [#12716](https://github.com/sourcegraph/sourcegraph/issues/12716) \n- [ ] ~baremetal buildkite agent networking / instability issues~ [#12996](https://github.com/sourcegraph/sourcegraph/issues/12996) \n\u003c!-- END ASSIGNEE --\u003e\n\n\u003c!-- BEGIN ASSIGNEE: daxmc99 --\u003e\n@daxmc99\n\n- [x] Sourcegraph.com - add redis-store \u0026 precise-code-intel-bundle-manager snapshotting [#10450](https://github.com/sourcegraph/sourcegraph/issues/10450) \n\u003c!-- END ASSIGNEE --\u003e\n\n\u003c!-- BEGIN ASSIGNEE: efritz --\u003e\n@efritz\n\n- [x] sourcegraph/customer [#72](https://github.com/sourcegraph/customer/issues/72) 🐛👩\n\u003c!-- END ASSIGNEE --\u003e\n\n\u003c!-- BEGIN ASSIGNEE: ggilmore --\u003e\n@ggilmore\n\n- [ ] ~deploy-sourcegraph-dhall: incrementally migrate sourcegraph.com services over to dhall~ [#12113](https://github.com/sourcegraph/sourcegraph/issues/12113) \n- [ ] ~[draft] deploy-sourcegraph-dhall: implement migrate-to-non-root overlay~ [#12283](https://github.com/sourcegraph/sourcegraph/issues/12283) \n- [ ] ~deploy-sourcegraph-dhall: grafana: implement new configuration logic for k8s.sgdev.org~ [#12109](https://github.com/sourcegraph/sourcegraph/issues/12109) \n- [ ] ~deploy-sourcegraph-dhall: frontend: implement new configuration logic for k8s.sgdev.org~ [#12105](https://github.com/sourcegraph/sourcegraph/issues/12105) \n\u003c!-- END ASSIGNEE --\u003e\n\n\u003c!-- BEGIN ASSIGNEE: keegancsmith --\u003e\n@keegancsmith\n\n- [x] sourcegraph/customer [#69](https://github.com/sourcegraph/customer/issues/69) 👩\n\u003c!-- END ASSIGNEE --\u003e\n\n\u003c!-- BEGIN ASSIGNEE: pecigonzalo --\u003e\n@pecigonzalo\n\n- [ ] ~Reduce the impact of unplanned work~ [#11904](https://github.com/sourcegraph/sourcegraph/issues/11904) \n- [x] Migrate terraform state to GCP [#12496](https://github.com/sourcegraph/sourcegraph/issues/12496) \n\u003c!-- END ASSIGNEE --\u003e\n\n\u003c!-- BEGIN ASSIGNEE: slimsag --\u003e\n@slimsag: __7.50d__\n\n- [x] sourcegraph/customer [#62](https://github.com/sourcegraph/customer/issues/62) __2d__ 👩\n- [x] Formalize managed instances [#12495](https://github.com/sourcegraph/sourcegraph/issues/12495) __5d__ \n- [x] sourcegraph/customer [#73](https://github.com/sourcegraph/customer/issues/73) 👩\n- [x] sourcegraph/customer [#53](https://github.com/sourcegraph/customer/issues/53) __0.5d__ 👩\n- [x] sourcegraph/customer [#66](https://github.com/sourcegraph/customer/issues/66) 👩\n- [ ] ~sourcegraph/customer~ [#74](https://github.com/sourcegraph/customer/issues/74) 👩\n- [x] sourcegraph/customer [#85](https://github.com/sourcegraph/customer/issues/85) 👩\n- [ ] ~sourcegraph/customer~ [#90](https://github.com/sourcegraph/customer/issues/90) 🐛👩\n- [ ] ~Run e2e tests on bare-metal Buildkite agents on every commit to master (non-blocking)~ [#12339](https://github.com/sourcegraph/sourcegraph/issues/12339) \n- [ ] ~Run e2e \"regression\" tests on bare-metal Buildkite agents on every commit to master (non-blocking)~ [#12340](https://github.com/sourcegraph/sourcegraph/issues/12340) \n- [ ] distribution: add monitoring architecture page [#1221](https://github.com/sourcegraph/about/pull/1221) :shipit:\n- [ ] distribution roadmap [#1104](https://github.com/sourcegraph/about/pull/1104) :shipit:\n- [ ] Document when to introduce new services or not [#5487](https://github.com/sourcegraph/sourcegraph/pull/5487) :shipit:\n\u003c!-- END ASSIGNEE --\u003e\n\n\u003c!-- BEGIN ASSIGNEE: uwedeportivo --\u003e\n@uwedeportivo: __8.00d__\n\n- [x] sourcegraph/customer [#65](https://github.com/sourcegraph/customer/issues/65) 👩\n- [x] deploy-sourcegraph-dhall: symbols: implement generate reading from config [#12076](https://github.com/sourcegraph/sourcegraph/issues/12076) __0.5d__ \n- [x] deploy-sourcegraph-dhall: searcher: implement generate reading from config [#12075](https://github.com/sourcegraph/sourcegraph/issues/12075) __0.5d__ \n- [x] deploy-sourcegraph-dhall: replacer: implement generate reading from config [#12074](https://github.com/sourcegraph/sourcegraph/issues/12074) __0.5d__ \n- [x] deploy-sourcegraph-dhall: repo-updater: implement generate reading from config [#12073](https://github.com/sourcegraph/sourcegraph/issues/12073) __0.5d__ \n- [x] deploy-sourcegraph-dhall: query-runner: implement generate reading from config [#12072](https://github.com/sourcegraph/sourcegraph/issues/12072) __0.5d__ \n- [x] deploy-sourcegraph-dhall: precise-code-intel: implement generate reading from config [#12071](https://github.com/sourcegraph/sourcegraph/issues/12071) __0.5d__ \n- [x] deploy-sourcegraph-dhall: postgres: implement generate reading from config [#12070](https://github.com/sourcegraph/sourcegraph/issues/12070) __0.5d__ \n- [x] deploy-sourcegraph-dhall: jaeger: implement generate reading from config [#12069](https://github.com/sourcegraph/sourcegraph/issues/12069) __0.5d__ \n- [x] deploy-sourcegraph-dhall: github-proxy: implement generate reading from config [#12066](https://github.com/sourcegraph/sourcegraph/issues/12066) __0.5d__ \n- [x] deploy-sourcegraph-dhall: cadvisor: implement generate reading from config [#12065](https://github.com/sourcegraph/sourcegraph/issues/12065) __0.5d__ \n- [x] ci-db-backcomp.sh is not branch-aware [#12302](https://github.com/sourcegraph/sourcegraph/issues/12302) \n- [x] sourcegraph/customer [#57](https://github.com/sourcegraph/customer/issues/57) __3d__ 👩\n\u003c!-- END ASSIGNEE --\u003e\n\u003c!-- END WORK --\u003e\r\n\r\n#### Legend\r\n\r\n- 👩 Customer issue\r\n- 🐛 Bug\r\n- 🧶 Technical debt\r\n- 🛠️ [Roadmap](https://docs.google.com/document/d/1cBsE9801DcBF9chZyMnxRdolqM_1c2pPyGQz15QAvYI/edit#heading=h.5nwl5fv52ess)\r\n- 🕵️ [Spike](https://en.wikipedia.org/wiki/Spike_(software_development))\r\n- 🔒 Security issue\r\n- :shipit: Pull Request\r\n","Number":11954,"URL":"https://github.com/sourcegraph/sourcegraph/issues/11954","State":"CLOSED","Repository":"sourcegraph/sourcegraph","Private":false,"Labels":["team/distribution","tracking"],"Assignees":["uwedeportivo","davejrt","slimsag","ggilmore","pecigonzalo","bobheadxi"],"Milestone":"3.19","Author":"pecigonzalo","CreatedAt":"2020-07-06T12:42:11Z","UpdatedAt":"0001-01-01T00:00:00Z","ClosedAt":"2020-08-25T07:57:38Z"},{"ID":"MDU6SXNzdWU2NDMyNTcwNTA=","Title":"Distribution: 3.18 Tracking issue","Body":"### Plan\r\n\r\n#### Support new and existing deployments\r\n\r\nThis is an ongoing expense, and based on the current state of customers we anticipate this taking taking no more than 10d of work spread across the entire team.\r\n\r\n#### Reduce upgrade overhead\r\n\r\nUpgrading Kubernetes deployments requires customers spend a lot of engineering time to converge our released Kubernetes manifests with their fork as documented in [RFC-141](https://docs.google.com/document/d/1tsksAlqe77NmdPLw7oyy2u0-1rYDQeVpPeDo1T0Xt50).\r\n\r\nWe have evaluated and eliminated Bash and Cue as solutions to this problem, and have partially evaluated [Dhall](https://dhall-lang.org/). We will continue to evaluate [Dhall](https://dhall-lang.org/) more extensively this iteration by dogfooding it on k8s.sgdev.org.\r\n\r\n#### Reduce support burdens\r\n\r\nInvestigating and troubleshooting problems with deployments currently requires a lot of overhead to retrieve all necessary information. We will improve documentation around tooling and services to simplify data collection in customer issue reports and streamline observability tooling.\r\n\r\n#### Onboard @pecigonzalo\r\n\r\nAs the team grows, the management overhead of the teams makes it harder for engineers to focus on our objectives and OKRs. We will finalize the initial onboarding and handover of processes to @pecigonzalo.\r\n\r\n#### Improve reliability sourcegraph.com alerts\r\n\r\nSourcegraph.com alerting does not use our new monitoring stack we ship to customers and has flaky alerts due to that and site24x7. We will begin using the new monitoring stack on Sourcegraph.com and explore more reliable replacements to site24x7 such as [blackbox exporter](https://github.com/prometheus/blackbox_exporter). This supports [RFC 189](https://docs.google.com/document/d/1noZf86g2QwTbFNt3XSSbMg36D-_HCptP1thMzZsgt2Q/edit)\r\n\r\n### Availability\r\n\r\nPeriod is from **June 22nd** to **July 17th**. Please write the days you won't be working and the number of working days for the period.\r\n\r\n- @daxmc99: 1d\r\n- @ggilmore: 1d\r\n- @slimsag: 1d\r\n- @bobheadxi: 1d\r\n\r\n### Workload\r\n\r\n\u003c!-- BEGIN WORK --\u003e\n\u003c!-- BEGIN ASSIGNEE: bobheadxi --\u003e\n@bobheadxi: __14.00d__\n\n- [x] monitoring: provisioning alerts not consistently applied [#11571](https://github.com/sourcegraph/sourcegraph/issues/11571) __2d__ 🐛\n- [x] monitoring: update sourcegraph/server to use prom-wrapper [#11473](https://github.com/sourcegraph/sourcegraph/issues/11473) __1d__ \n- [x] monitoring: automatically configure Alertmanager SMTP from site config [#11454](https://github.com/sourcegraph/sourcegraph/issues/11454) __3d__ \n- [x] monitoring: granular alerts notifications with Alertmanager [#11452](https://github.com/sourcegraph/sourcegraph/issues/11452) __2d__ \n- [x] siteAdmin: report-a-bug sometimes doesn't render alerts [#11806](https://github.com/sourcegraph/sourcegraph/issues/11806) __0.5d__ 🐛\n- [x] license check failing in CI: mdi-react [#11866](https://github.com/sourcegraph/sourcegraph/issues/11866) __0.5d__ \n- [x] explore solutions for \"impossible to silence monitoring alerts\" [#11210](https://github.com/sourcegraph/sourcegraph/issues/11210) __2d__ \n- [ ] ~Dogfood the monitoring we ship with Sourcegraph~ [#5370](https://github.com/sourcegraph/sourcegraph/issues/5370) __2d__ \n- [x] Direct admins to Grafana when critical alerts have fired recently [#11517](https://github.com/sourcegraph/sourcegraph/issues/11517) __1d__ \n- [x] monitoring: reassess flakey/unactionable critical alerts [#12011](https://github.com/sourcegraph/sourcegraph/issues/12011) \n- [x] monitoring: alerting followups [#12026](https://github.com/sourcegraph/sourcegraph/issues/12026) __2d__ \n\u003c!-- END ASSIGNEE --\u003e\n\n\u003c!-- BEGIN ASSIGNEE: davejrt --\u003e\n@davejrt: __10.00d__\n\n- [x] Improve reliability of Sourcegraph.com site24x7 ping alerts [#10742](https://github.com/sourcegraph/sourcegraph/issues/10742) __8d__ \n- [x] Set up $BIGCUSTOMER replica with TLS and DNS  [#11875](https://github.com/sourcegraph/sourcegraph/issues/11875) __2d__ \n\u003c!-- END ASSIGNEE --\u003e\n\n\u003c!-- BEGIN ASSIGNEE: daxmc99 --\u003e\n@daxmc99: __3.00d__\n\n- [x] add terraform configuration for sourcegraph.com's infrastructure  [#10455](https://github.com/sourcegraph/sourcegraph/issues/10455) __2d__ \n- [ ] Prevent releasing server without latest grafana/prometheus changes [#9983](https://github.com/sourcegraph/sourcegraph/issues/9983) __1d__ \n- [ ] Sourcegraph.com - add redis-store \u0026 precise-code-intel-bundle-manager snapshotting [#10450](https://github.com/sourcegraph/sourcegraph/issues/10450) \n\u003c!-- END ASSIGNEE --\u003e\n\n\u003c!-- BEGIN ASSIGNEE: ggilmore --\u003e\n@ggilmore: __3.00d__\n\n- [ ] reduce k8s upgrade merge conflicts: RFC 141: Dhall investigation [#10936](https://github.com/sourcegraph/sourcegraph/issues/10936) __3d__ 🕵️\n- [ ] ~Prevent services from running out of ephemeral storage space and being evicted~ [#9604](https://github.com/sourcegraph/sourcegraph/issues/9604) __1d__ 👩\n- [ ] deploy-sourcegraph-dhall: extend configuration layer for subset of services on k8s.sgdev.org [#11830](https://github.com/sourcegraph/sourcegraph/issues/11830) \n- [x] deploy-sourcegraph-dhall: bring resources up-to-date with latest deploy-sourcegraph commits [#11829](https://github.com/sourcegraph/sourcegraph/issues/11829) \n- [ ] RFC 141: prepare k8s.sgdev.org infrastructure for dhall-based pipeline  [#12104](https://github.com/sourcegraph/sourcegraph/issues/12104) \n- [ ] ~deploy-sourcegraph-dhall: frontend: implement new configuration logic for k8s.sgdev.org~ [#12105](https://github.com/sourcegraph/sourcegraph/issues/12105) \n- [ ] ~deploy-sourcegraph-dhall: grafana: implement new configuration logic for k8s.sgdev.org~ [#12109](https://github.com/sourcegraph/sourcegraph/issues/12109) \n\u003c!-- END ASSIGNEE --\u003e\n\n\u003c!-- BEGIN ASSIGNEE: pecigonzalo --\u003e\n@pecigonzalo\n\n- [x] Run Distribution team syncs from July 6 onward [#11817](https://github.com/sourcegraph/sourcegraph/issues/11817) \n- [x] Plan 3.19 work ahead of time [#11818](https://github.com/sourcegraph/sourcegraph/issues/11818) \n- [ ] ~Reduce the impact of unplanned work~ [#11904](https://github.com/sourcegraph/sourcegraph/issues/11904) \n- [x] sourcegraph/customer [#63](https://github.com/sourcegraph/customer/issues/63) 👩\n\u003c!-- END ASSIGNEE --\u003e\n\n\u003c!-- BEGIN ASSIGNEE: slimsag --\u003e\n@slimsag: __4.50d__\n\n- [ ] License report for syntect_server \u0026 its dependencies [#11269](https://github.com/sourcegraph/sourcegraph/issues/11269) __1d__ 👩\n- [ ] Deploy and release: Replace Renovate with GitHub Actions [#10011](https://github.com/sourcegraph/sourcegraph/issues/10011) __0.5d__ \n- [ ] verify \"syntax highlighting sometimes doesn't work\" is fixed on customer instance [#9557](https://github.com/sourcegraph/sourcegraph/issues/9557) __0.5d__ 🐛\n- [ ] observability: improve/restructure admin documentation [#9773](https://github.com/sourcegraph/sourcegraph/issues/9773) __0.5d__ \n- [ ] Docker Compose should be released on the 20th [#10486](https://github.com/sourcegraph/sourcegraph/issues/10486) __0.5d__ \n- [x] not possible to upgrade from 3.17.0 (\"0.0.0+dev\") -\u003e next patch release [#11666](https://github.com/sourcegraph/sourcegraph/issues/11666) \n- [x] 3.17.2 patch release [#11724](https://github.com/sourcegraph/sourcegraph/issues/11724) \n- [x] 3.17.1 patch release [#11642](https://github.com/sourcegraph/sourcegraph/issues/11642) \n- [ ] sourcegraph/customer [#53](https://github.com/sourcegraph/customer/issues/53) __0.5d__ 👩\n- [ ] sourcegraph/customer [#49](https://github.com/sourcegraph/customer/issues/49) __0.5d__ 🐛👩\n- [x] sourcegraph/customer [#62](https://github.com/sourcegraph/customer/issues/62) __0.5d__ 👩\n\u003c!-- END ASSIGNEE --\u003e\n\n\u003c!-- BEGIN ASSIGNEE: uwedeportivo --\u003e\n@uwedeportivo: __4.50d__\n\n- [x] keep e2e tests in functional state during iteration [#11886](https://github.com/sourcegraph/sourcegraph/issues/11886) __2d__ \n- [x] Release patch v3.17.3 [#11881](https://github.com/sourcegraph/sourcegraph/issues/11881) __0.5d__ \n- [x] ~deploy-sourcegraph-dhall: cadvisor: implement generate reading from config~ [#12065](https://github.com/sourcegraph/sourcegraph/issues/12065) __0.5d__ \n- [x] deploy-sourcegraph-dhall: gitserver: implement generate reading from config [#12067](https://github.com/sourcegraph/sourcegraph/issues/12067) __0.5d__ \n- [x] ~deploy-sourcegraph-dhall: github-proxy: implement generate reading from config~ [#12066](https://github.com/sourcegraph/sourcegraph/issues/12066) __0.5d__ \n- [x] deploy-sourcegraph-dhall: indexed-search: implement generate reading from config [#12068](https://github.com/sourcegraph/sourcegraph/issues/12068) __0.5d__ \n- [ ] ~deploy-sourcegraph-dhall: postgres: implement generate reading from config~ [#12070](https://github.com/sourcegraph/sourcegraph/issues/12070) __0.5d__ \n- [x] ~deploy-sourcegraph-dhall: jaeger: implement generate reading from config~ [#12069](https://github.com/sourcegraph/sourcegraph/issues/12069) __0.5d__ \n- [x] ~deploy-sourcegraph-dhall: query-runner: implement generate reading from config~ [#12072](https://github.com/sourcegraph/sourcegraph/issues/12072) __0.5d__ \n- [ ] ~deploy-sourcegraph-dhall: precise-code-intel: implement generate reading from config~ [#12071](https://github.com/sourcegraph/sourcegraph/issues/12071) __0.5d__ \n- [x] ~deploy-sourcegraph-dhall: searcher: implement generate reading from config~ [#12075](https://github.com/sourcegraph/sourcegraph/issues/12075) __0.5d__ \n- [x] ~deploy-sourcegraph-dhall: symbols: implement generate reading from config~ [#12076](https://github.com/sourcegraph/sourcegraph/issues/12076) __0.5d__ \n- [x] ~deploy-sourcegraph-dhall: replacer: implement generate reading from config~ [#12074](https://github.com/sourcegraph/sourcegraph/issues/12074) __0.5d__ \n- [x] ~deploy-sourcegraph-dhall: repo-updater: implement generate reading from config~ [#12073](https://github.com/sourcegraph/sourcegraph/issues/12073) __0.5d__ \n- [x] deploy-sourcegraph-dhall: prometheus: implement generate reading from config [#12063](https://github.com/sourcegraph/sourcegraph/issues/12063) __1d__ \n- [ ] admin docs: describes experimental validation command in the src-cli [#12001](https://github.com/sourcegraph/sourcegraph/pull/12001) :shipit:\n- [ ] test validates instance [#687](https://github.com/sourcegraph/deploy-sourcegraph/pull/687) :shipit:\n- [ ] validate command [#200](https://github.com/sourcegraph/src-cli/pull/200) :shipit:\n\u003c!-- END ASSIGNEE --\u003e\n\u003c!-- END WORK --\u003e\r\n\r\n#### Legend\r\n\r\n- 👩 Customer issue\r\n- 🐛 Bug\r\n- 🧶 Technical debt\r\n- 🛠️ [Roadmap](https://docs.google.com/document/d/1cBsE9801DcBF9chZyMnxRdolqM_1c2pPyGQz15QAvYI/edit#heading=h.5nwl5fv52ess)\r\n- 🕵️ [Spike](https://en.wikipedia.org/wiki/Spike_(software_development))\r\n- 🔒 Security issue\r\n- :shipit: Pull Request\r\n","Number":11646,"URL":"https://github.com/sourcegraph/sourcegraph/issues/11646","State":"CLOSED","Repository":"sourcegraph/sourcegraph","Private":false,"Labels":["team/distribution","tracking"],"Assignees":["davejrt","slimsag","ggilmore","pecigonzalo","bobheadxi"],"Milestone":"3.18","Author":"slimsag","CreatedAt":"2020-06-22T17:50:29Z","UpdatedAt":"0001-01-01T00:00:00Z","ClosedAt":"2020-07-20T10:16:34Z"},{"ID":"MDU6SXNzdWU2MDM2NzgyNjE=","Title":"distribution: 3.16 tracking issue","Body":"## Work\r\n\r\n\u003c!-- BEGIN WORK --\u003e\n\u003c!-- BEGIN ASSIGNEE: beyang --\u003e\n@beyang\n\n- [x] Update OKRs in handbook [#10070](https://github.com/sourcegraph/sourcegraph/issues/10070) \n- [ ] ~Docs: Kubernetes installation instructions should indicate how much cpu/memory is needed~ [#10008](https://github.com/sourcegraph/sourcegraph/issues/10008) \n- [ ] ~k8s: Deploy jaeger-agent as a Daemonset instead of sidecar container~ [#10052](https://github.com/sourcegraph/sourcegraph/issues/10052) \n- [ ] ~docs: Clarify that Sourcegraph schema migrations require postgres user to be admin, include advice on how to workaround~ [#5087](https://github.com/sourcegraph/sourcegraph/issues/5087) \n- [ ] ~Docs: document that NFS storage should be avoided~ [#10010](https://github.com/sourcegraph/sourcegraph/issues/10010) \n\u003c!-- END ASSIGNEE --\u003e\n\n\u003c!-- BEGIN ASSIGNEE: davejrt --\u003e\n@davejrt\n\n- [ ] ~move away from Prometheus alertmanager on Sourcegraph.com specifically~ [#5370](https://github.com/sourcegraph/sourcegraph/issues/5370) \n- [x] Sourcegraph.com should use *_CONFIG_FILE via Kubernetes [#4156](https://github.com/sourcegraph/sourcegraph/issues/4156) \n- [x] [deploy-sourcegraph] Use rollout strategy Recreate for stateful singleton deployments. [#2076](https://github.com/sourcegraph/sourcegraph/issues/2076) 🧶\n- [x] Updating user settings fails on sourcegraph.com [#10235](https://github.com/sourcegraph/sourcegraph/issues/10235) 🐛\n\u003c!-- END ASSIGNEE --\u003e\n\n\u003c!-- BEGIN ASSIGNEE: ggilmore --\u003e\n@ggilmore\n\n- [ ] ~spike: investigate dhall for deploy-sourcegraph~ [#10145](https://github.com/sourcegraph/sourcegraph/issues/10145) __3d__ 🕵️\n- [ ] ~spike: investigate cue for deploy-sourcegraph~ [#10143](https://github.com/sourcegraph/sourcegraph/issues/10143) __3d__ 🕵️\n- [ ] ~placeholder issue~ [#10104](https://github.com/sourcegraph/sourcegraph/issues/10104) __3d__ \n- [ ] ~spike: investigate caddy issues in dev environment~ [#10103](https://github.com/sourcegraph/sourcegraph/issues/10103) __1.5d__ 🕵️\n- [ ] ~Create scaling recommendation guide~ [#10102](https://github.com/sourcegraph/sourcegraph/issues/10102) __2d__ \n- [x] RFC 141: Prototype generating manifests, rather than directly editing deploy-sourcegraph [#10100](https://github.com/sourcegraph/sourcegraph/issues/10100) \n- [x] [ci] Investigate Cue and Dhall [#10063](https://github.com/sourcegraph/sourcegraph/issues/10063) \n- [x] [ci] our database backcompat tests have been broken for a while  [#9921](https://github.com/sourcegraph/sourcegraph/issues/9921) \n- [ ] ~Issues with Docker Compose on AWS installation docs~ [#9829](https://github.com/sourcegraph/sourcegraph/issues/9829) __1d__ \n- [x] ~Write sourcegraph/server -\u003e docker compose migration guide~ [#9602](https://github.com/sourcegraph/sourcegraph/issues/9602) \n- [ ] ~Set ephemeral storage resource requests and limits in deploy-sourcegraph~ [#9604](https://github.com/sourcegraph/sourcegraph/issues/9604) __1d__ \n\u003c!-- END ASSIGNEE --\u003e\n\n\u003c!-- BEGIN ASSIGNEE: slimsag --\u003e\n@slimsag: __1.00d__\n\n- [ ] ~**STRETCH**: Ping select Prometheus performance, etc. metrics back to us~ [#10053](https://github.com/sourcegraph/sourcegraph/issues/10053) __1d__ 🕵️\n- [ ] ~Update resource estimator to include precise-code-intel service breakout~ [#10050](https://github.com/sourcegraph/sourcegraph/issues/10050) __1d__ 🐛\n- [ ] ~observability: server/dev should always run latest grafana/prometheus~ [#9983](https://github.com/sourcegraph/sourcegraph/issues/9983) __1d__ \n- [ ] ~Grafana: add an alert for gitserver failing to clone~ [#9966](https://github.com/sourcegraph/sourcegraph/issues/9966) __0.5d__ \n- [x] jetbrains editor configuration [#9925](https://github.com/sourcegraph/sourcegraph/issues/9925) __0.5d__ \n- [ ] ~observability: Add ping performance stats to frontend dashboard~ [#9867](https://github.com/sourcegraph/sourcegraph/issues/9867) __0.5d__ \n- [ ] ~observability: Improve ping logging~ [#9866](https://github.com/sourcegraph/sourcegraph/issues/9866) __0.5d__ 🐛\n- [x] (release docker compose 3.15) merge and test deploy-sourcegraph-docker#93 [#9839](https://github.com/sourcegraph/sourcegraph/issues/9839) __0.5d__ \n- [ ] ~Alert when repository updates are failing~ [#9782](https://github.com/sourcegraph/sourcegraph/issues/9782) __0.5d__ \n- [ ] ~observability: Add monitoring to signal whether instance is underprovisioned or not~ [#7529](https://github.com/sourcegraph/sourcegraph/issues/7529) __1d__ \n- [ ] ~Setup new Grafana alerting on k8s.sgdev.org and sourcegraph.com to go to Slack~ [#7527](https://github.com/sourcegraph/sourcegraph/issues/7527) __1d__ \n- [ ] ~observability: Grafana: CSRF token invalid error~ [#6075](https://github.com/sourcegraph/sourcegraph/issues/6075) __1d__ \n- [ ] ~observability: add kubernetes resource monitoring / unified set of container metrics across deployment types~ [#5547](https://github.com/sourcegraph/sourcegraph/issues/5547) __1.5d__ \n- [ ] Start releasing Docker Compose in-band [#10486](https://github.com/sourcegraph/sourcegraph/issues/10486) \n- [x] 3.15 Docker container shuts down after 5min (consistently) [#10187](https://github.com/sourcegraph/sourcegraph/issues/10187) \n- [ ] ~observability: Add monitoring for when zoekt indexing fails on repos~ [#8309](https://github.com/sourcegraph/sourcegraph/issues/8309) __0.5d__ \n- [ ] ~test bed for $CUSTOMER monorepo~ [#10106](https://github.com/sourcegraph/sourcegraph/issues/10106) __4d__ \n- [x] monitoring: generate solutions documentation from Go monitoring definitions [#10142](https://github.com/sourcegraph/sourcegraph/pull/10142) :shipit:\n- [x] monitoring: add very narrowly targeted sharing of observables [#10139](https://github.com/sourcegraph/sourcegraph/pull/10139) :shipit:\n\u003c!-- END ASSIGNEE --\u003e\n\n\u003c!-- BEGIN ASSIGNEE: uwedeportivo --\u003e\n@uwedeportivo: __14.50d__\n\n- [ ] ~test bed for $CUSTOMER monorepo~ [#10106](https://github.com/sourcegraph/sourcegraph/issues/10106) __4d__ \n- [x] Use net/http/httptrace to trace HTTP client requests [#10007](https://github.com/sourcegraph/sourcegraph/issues/10007) __2d__ \n- [ ] Move e2e tests into regression test suite [#9814](https://github.com/sourcegraph/sourcegraph/issues/9814) __4d__ \n- [x] Implement NetworkPolicy [#9726](https://github.com/sourcegraph/sourcegraph/issues/9726) __2d__ \n- [x] deploy-sourcegraph: Separate manifests for non-admin users [#9723](https://github.com/sourcegraph/sourcegraph/issues/9723) __1d__ \n- [ ] deploy-sourcegraph: include k8s secret that's mounted into gitserver [#9722](https://github.com/sourcegraph/sourcegraph/issues/9722) __2d__ \n- [x] Update docs for how to upgrade sourcegraph.com [#9607](https://github.com/sourcegraph/sourcegraph/issues/9607) __1.5d__ \n- [x] Merge k8s docs into main docs site [#7285](https://github.com/sourcegraph/sourcegraph/issues/7285) __2d__ \n\u003c!-- END ASSIGNEE --\u003e\n\u003c!-- END WORK --\u003e\r\n\r\n#### Legend\r\n\r\n- 👩 Customer issue\r\n- 🐛 Bug\r\n- 🧶 Technical debt\r\n- 🛠️ [Roadmap](https://docs.google.com/document/d/1cBsE9801DcBF9chZyMnxRdolqM_1c2pPyGQz15QAvYI/edit#heading=h.5nwl5fv52ess)\r\n- 🕵️ [Spike](https://en.wikipedia.org/wiki/Spike_(software_development))\r\n- 🔒 Security issue\r\n- :shipit: Pull Request\r\n","Number":10069,"URL":"https://github.com/sourcegraph/sourcegraph/issues/10069","State":"CLOSED","Repository":"sourcegraph/sourcegraph","Private":false,"Labels":["team/distribution","tracking"],"Assignees":["uwedeportivo","beyang","davejrt","slimsag","ggilmore"],"Milestone":"3.16","Author":"beyang","CreatedAt":"2020-04-21T03:30:22Z","UpdatedAt":"0001-01-01T00:00:00Z","ClosedAt":"2020-05-18T21:25:36Z"},{"ID":"MDU6SXNzdWU0MzQzMTgyODc=","Title":"Core Services: 3.4 Tracking Issue","Body":"### Goals\r\n\r\n- All supported code hosts have moved to the new model of syncing repository\r\n  metadata. This allows us to support detecting deletions and renames,\r\n  avoiding expensive code host API requests on a user request path and solves\r\n  many related repository metadata bugs.\r\n- A better model for repositoryPathPattern. Also known as aliases for\r\n  repository names. This allows users to have more succinct names for\r\n  repositories on their Sourcegraph instance. Additionally the use of the\r\n  feature won't break the browser extension.\r\n- Onboard Thorsten.\r\n\r\n### Availability\r\n\r\n- @keegancsmith is out from 19th of April until the 26th.\r\n- @tsenart is out from the 15th of May until the 22nd.\r\n- @mrnugget is joining on the 23rd of April.\r\n\r\nWe are aiming for **17d** person days of planned work. This is to account for\r\nresponding to customer issues, vacation, helping other teams and onboarding\r\nThorsten.\r\n\r\n### Planned Work\r\n\r\n- Integrate remaining code hosts with the new syncing model\r\n  - [x] Gitolite #3464  (@tomas) \r\n  - [x] AWS CodeCommit #3465 (@mrnugget)\r\n- [x] RepoLookup should load metadata from database #3466 (@mrnugget)\r\n- [x] Support new syncer in sourcegraph.com deployment #3459 (@mrnugget, @keegancsmith)\r\n  - ~~[ ] Add git repos to Sourcegraph.com #3457~~\r\n  - [x] Sourcegraph.com does not auto add soft-deleted repositories. Will only be\r\n    an issue once new syncer is enabled. #2933 \r\n- [x] Remove syncer feature flag and delete old code paths #4000 (@tomas)\r\n- [x] Repo name mappings are not universally supported #462 (@keegancsmith)\r\n  - [x] Impossible to change repositoryPathPattern after adding repositories #2741 \r\n  - [x] GitHub link disappears intermittently in 3.x #2677\r\n- [x] repos: Deprecate enabled/disabled state #3291 (@keegancsmith)\r\n\r\n\r\n### Stretch Goals\r\n\r\n- [ ] enqueue-repo-update should use an ID debt #3345 (@tsenart)\r\n- Visiting a repository for the first time shows \"starting to clone\" but doesn't start #3447 \r\n- Repo language not being updated https://github.com/sourcegraph/sourcegraph/issues/2586\r\n- Redis\r\n  - Redis AOF database corruption #651\r\n  - Redis AOF file grows unbounded due to frequent container restarts #3300\r\n  - redis: Log spam warning when redis is loading the dataset in memory #2904\r\n  - Redis OOM error prevents sign in or using server #296\r\n- postgresql: (Auto)tune DB pool sizes based on max_connections #3473\r\n\r\n\r\n### Onboarding @mrnugget\r\n\r\n\u003e Note: We can adjust this plan based on Thorsten's preferences.\r\n\r\n- **Week 1**: Thorsten should spend first week getting to know people in SF and\r\nunderstanding the high level picture of Sourcegraph Inc. and\r\nsourcegraph/sourcegraph.\r\n\r\n- **Week 2**: Pair with us on whatever we are working on. Likely implementing a code\r\nhost #3464 or #3465.\r\n\r\n- **Week 3-4**: Continue to learn how things are put together and begin taking on some of the planned work in the iteration or other important issues that can pop up.\r\n","Number":3467,"URL":"https://github.com/sourcegraph/sourcegraph/issues/3467","State":"CLOSED","Repository":"sourcegraph/sourcegraph","Private":false,"Labels":["team/cloud","tracking"],"Assignees":null,"Milestone":"3.4","Author":"keegancsmith","CreatedAt":"2019-04-17T14:34:51Z","UpdatedAt":"0001-01-01T00:00:00Z","ClosedAt":"2019-05-15T09:03:30Z"},{"ID":"MDU6SXNzdWU3MTI3OTMxODI=","Title":"Cloud 2020-10-07 Tracking issue [WIP]","Body":"### Plan\r\n\r\nTODO\r\n\r\n### Availability\r\n\r\nIf you have planned unavailability this iteration (e.g., vacation), you can note that here.\r\n\r\nTODO\r\n\r\n### Work\r\n\r\n\u003c!-- BEGIN WORK --\u003e\n\u003c!-- BEGIN ASSIGNEE: asdine --\u003e\n@asdine: __5.50d__\n\n- [ ] repo-updater crash with gitlab with projects with both id and name ([#13737](https://github.com/sourcegraph/sourcegraph/issues/13737)) __1d__ 🐛\n- [ ] observerSource.ListRepos doesn't record errors ([#14337](https://github.com/sourcegraph/sourcegraph/issues/14337)) __0.5d__ \n- [ ] Simplify repo.Store interface ([#14092](https://github.com/sourcegraph/sourcegraph/issues/14092)) __2d__ 🧶\n- [ ] RFC 211 Tracking issue ([#14163](https://github.com/sourcegraph/sourcegraph/issues/14163)) \n- [ ] repo-updater: Spike to investigate a simpler architecture ([#14369](https://github.com/sourcegraph/sourcegraph/issues/14369)) __2d__ 🕵️\n\u003c!-- END ASSIGNEE --\u003e\n\n\u003c!-- BEGIN ASSIGNEE: ryanslade --\u003e\n@ryanslade: __6.50d__\n\n- [ ] Simplify repo.Store interface ([#14092](https://github.com/sourcegraph/sourcegraph/issues/14092)) __2d__ 🧶\n- [ ] repo-updater: Factor out common code between SyncExternalService and syncRepo ([#14346](https://github.com/sourcegraph/sourcegraph/issues/14346)) __2d__ 🧶\n- [ ] repo-updater: Spike to investigate a simpler architecture ([#14369](https://github.com/sourcegraph/sourcegraph/issues/14369)) __2d__ 🕵️\n- [ ] Add alert when we hit the site wide limit on user added repos ([#14377](https://github.com/sourcegraph/sourcegraph/issues/14377)) __0.5d__ \n- [ ] RFC 211 Tracking issue ([#14163](https://github.com/sourcegraph/sourcegraph/issues/14163)) \n\u003c!-- END ASSIGNEE --\u003e\n\n\u003c!-- BEGIN ASSIGNEE: unknwon --\u003e\n@unknwon: __1.50d__\n\n- [ ] RFC 167: Update documentation to reflect changes on license tags ([#14022](https://github.com/sourcegraph/sourcegraph/issues/14022)) __0.5d__ \n- [ ] Unable to log in via GitLab OAuth ([#14144](https://github.com/sourcegraph/sourcegraph/issues/14144)) __1d__ 🐛\n\u003c!-- END ASSIGNEE --\u003e\n\u003c!-- END WORK --\u003e\r\n\r\n#### Legend\r\n\r\n- 👩 Customer issue\r\n- 🐛 Bug\r\n- 🧶 Technical debt\r\n- 🎩 Quality of life\r\n- 🛠️ [Roadmap](https://docs.google.com/document/d/1cBsE9801DcBF9chZyMnxRdolqM_1c2pPyGQz15QAvYI/edit#heading=h.5nwl5fv52ess)\r\n- 🕵️ [Spike](https://en.wikipedia.org/wiki/Spike_(software_development))\r\n- 🔒 Security issue\r\n- :shipit: Pull Request\r\n","Number":14340,"URL":"https://github.com/sourcegraph/sourcegraph/issues/14340","State":"OPEN","Repository":"sourcegraph/sourcegraph","Private":false,"Labels":["team/cloud","tracking"],"Assignees":null,"Milestone":"Cloud 2020-10-07","Author":"tsenart","CreatedAt":"2020-10-01T12:24:30Z","UpdatedAt":"0001-01-01T00:00:00Z","ClosedAt":"0001-01-01T00:00:00Z"},{"ID":"MDU6SXNzdWU3MDgxOTM4MzI=","Title":"RFC 211 Tracking issue","Body":"\u003c!-- BEGIN WORK --\u003e\n\u003c!-- BEGIN ASSIGNEE: asdine --\u003e\n@asdine: __6.50d__\n\n- [ ] RFC 211: Repos added by user owned external services should be indexed ([#14042](https://github.com/sourcegraph/sourcegraph/issues/14042)) __1d__ \n- [ ] RFC 211: Add alert if repo sync jobs are not consumed ([#14045](https://github.com/sourcegraph/sourcegraph/issues/14045)) __1d__ \n- [ ] RFC 211: User added external services on Cloud should clone newly added repos on first sync ([#14315](https://github.com/sourcegraph/sourcegraph/issues/14315)) __2d__ \n\nCompleted: __2.50d__\n- [x] (🏁 4 days ago) RFC 211: Repo updater should sync external services separately ([~#14041~](https://github.com/sourcegraph/sourcegraph/issues/14041)) __2d__ \n- [x] (🏁 4 days ago) RFC 211: Remove completed jobs from external_service_sync_jobs table ([~#14048~](https://github.com/sourcegraph/sourcegraph/issues/14048)) __0.5d__ \n\u003c!-- END ASSIGNEE --\u003e\n\n\u003c!-- BEGIN ASSIGNEE: ryanslade --\u003e\n@ryanslade: __6.50d__\n\n- [ ] RFC 211 Tracking issue ([#14163](https://github.com/sourcegraph/sourcegraph/issues/14163)) \n- [ ] RFC 211: We should apply a per user and total limit to user added repos ([#14043](https://github.com/sourcegraph/sourcegraph/issues/14043)) __1.5d__ \n- [ ] RFC 211: User added external services on Cloud should clone newly added repos on first sync ([#14315](https://github.com/sourcegraph/sourcegraph/issues/14315)) __2d__ \n\nCompleted: __3.00d__\n- [x] (🏁 11 days ago) RFC 211: repo-updater new syncer doesn't use s.Logger ([~#13718~](https://github.com/sourcegraph/sourcegraph/issues/13718)) __0.5d__ \n- [x] (🏁 4 days ago) RFC 211: Repo updater should sync external services separately ([~#14041~](https://github.com/sourcegraph/sourcegraph/issues/14041)) __2d__ \n- [x] (🏁 3 days ago) RFC 211: Number of concurrent syncers should be configurable ([~#14268~](https://github.com/sourcegraph/sourcegraph/issues/14268)) __0.5d__ \n\u003c!-- END ASSIGNEE --\u003e\n\u003c!-- END WORK --\u003e\r\n\r\n","Number":14163,"URL":"https://github.com/sourcegraph/sourcegraph/issues/14163","State":"OPEN","Repository":"sourcegraph/sourcegraph","Private":false,"Labels":["RFC-211","team/cloud","tracking"],"Assignees":["ryanslade","asdine"],"Milestone":"","Author":"tsenart","CreatedAt":"2020-09-24T13:54:42Z","UpdatedAt":"0001-01-01T00:00:00Z","ClosedAt":"0001-01-01T00:00:00Z"},{"ID":"MDU6SXNzdWU3MDY3NTg2NDU=","Title":"Security 3.21 Tracking issue","Body":"### Plan\r\n\r\nWe plant to gain visibility into the attack surface of Sourcegraph components, in order to support hosting private code on sourcegraph.com. For this release our focus will be on container visibility.\r\n\u003c!--\r\nSummarize what the team wants to achieve this iteration.\r\n- What are the problems we want to solve or what information do we want to gather?\r\n- Why is solving those problems or gathering that information important?\r\n- How do we plan to solve those problems or gather that information?\r\n--\u003e\r\n\r\n**Goal:** Increase visibility into the threat surface of our product by running automated vulnerability scanning, both of our code and of our docker containers. This goal is our top priority, since it will allow us to more accurately prioritize future work.\r\n\r\n**Goal:** Centralize logging in order to allow for analysis of events across the Sourcegraph platform, rather than events as they're contained within a single microservice.\r\n\r\n### Availability\r\n\r\nPeriod is from 2020-09-20 to 2020-10-20. Please write the days you won't be working and the number of working days for the period.\r\n\r\nElizabeth: 1d, (2020-09-25)\r\nChayim: 3d (2020-09-28, 2020-09-29, 2020-10-06)\r\n\r\n### Tracked issues\r\n\r\n\u003c!-- BEGIN WORK --\u003e\n\u003c!-- BEGIN ASSIGNEE: ElizabethStirling --\u003e\n@ElizabethStirling: __6.00d__\n\n- [ ] Prevent and notify on accidental secret commits ([#14011](https://github.com/sourcegraph/sourcegraph/issues/14011)) __4d__ \n- [ ] Configure GitHub code scanning via CodeQL and OSSAR ([#14187](https://github.com/sourcegraph/sourcegraph/issues/14187)) __2d__ \n\nCompleted\n- [x] (🏁 1 day ago) Send email notifications when important user account information is changed ([~#7517~](https://github.com/sourcegraph/sourcegraph/issues/7517)) 🔒\n\u003c!-- END ASSIGNEE --\u003e\n\n\u003c!-- BEGIN ASSIGNEE: chayim --\u003e\n@chayim: __5.50d__\n\n- [ ] User documentation: data security policy ([#13855](https://github.com/sourcegraph/sourcegraph/issues/13855)) __2d__ \n- [ ] Vulnerability scans of containers ([#13551](https://github.com/sourcegraph/sourcegraph/issues/13551)) __2d__ \n\nCompleted: __1.50d__\n- [x] (🏁 4 days ago) ./dev/ci/e2e.sh prints CI password into logs ([~#6973~](https://github.com/sourcegraph/sourcegraph/issues/6973)) __0.5d__ 🔒\n- [x] (🏁 3 days ago) sourcegraph/security-issues ([~#97~](https://github.com/sourcegraph/security-issues/issues/97)) __1d__ \n\u003c!-- END ASSIGNEE --\u003e\n\n\u003c!-- BEGIN ASSIGNEE: daxmc99 --\u003e\n@daxmc99: __2.00d__\n\n\nCompleted: __2.00d__\n- [x] (🏁 17 days ago) secrets: use base64 and make interface private ([~#13850~](https://github.com/sourcegraph/sourcegraph/issues/13850)) __2d__ \n\u003c!-- END ASSIGNEE --\u003e\n\n\u003c!-- BEGIN ASSIGNEE: unknwon --\u003e\n@unknwon: __2.00d__\n\n\nCompleted: __2.00d__\n- [x] (🏁 17 days ago) secrets: use base64 and make interface private ([~#13850~](https://github.com/sourcegraph/sourcegraph/issues/13850)) __2d__ \n\u003c!-- END ASSIGNEE --\u003e\n\u003c!-- END WORK --\u003e\r\n\r\n#### Legend\r\n\r\n- 👩 Customer issue\r\n- 🐛 Bug\r\n- 🧶 Technical debt\r\n- 🎩 Quality of life\r\n- 🛠️ [Roadmap](https://docs.google.com/document/d/1cBsE9801DcBF9chZyMnxRdolqM_1c2pPyGQz15QAvYI/edit#heading=h.5nwl5fv52ess)\r\n- 🕵️ [Spike](https://en.wikipedia.org/wiki/Spike_(software_development))\r\n- 🔒 Security issue\r\n- :shipit: Pull Request\r\n","Number":14076,"URL":"https://github.com/sourcegraph/sourcegraph/issues/14076","State":"OPEN","Repository":"sourcegraph/sourcegraph","Private":false,"Labels":["team/security","tracking"],"Assignees":null,"Milestone":"3.21","Author":"ElizabethStirling","CreatedAt":"2020-09-22T23:42:44Z","UpdatedAt":"0001-01-01T00:00:00Z","ClosedAt":"0001-01-01T00:00:00Z"},{"ID":"MDU6SXNzdWU2MDU2NzU5Njc=","Title":"Tracking issue: OKR \u003e Distribution \u003e Admin Experience","Body":"### Work\r\n\r\n\u003c!-- BEGIN WORK --\u003e\n@Unassigned\n\n- [ ] Tracking issue: OKR \u003e Distribution \u003e Admin Experience [#10159](https://github.com/sourcegraph/sourcegraph/issues/10159) \n\n@beyang\n\n- [ ] k8s: Deploy jaeger-agent as a Daemonset instead of sidecar container [#10052](https://github.com/sourcegraph/sourcegraph/issues/10052) \n- [ ] Docs: Kubernetes installation instructions should indicate how much cpu/memory is needed [#10008](https://github.com/sourcegraph/sourcegraph/issues/10008) \n- [ ] docs: Clarify that Sourcegraph schema migrations require postgres user to be admin, include advice on how to workaround [#5087](https://github.com/sourcegraph/sourcegraph/issues/5087) \n\n@ggilmore: __10.00d__\n\n- [ ] spike: investigate dhall for deploy-sourcegraph  [#10145](https://github.com/sourcegraph/sourcegraph/issues/10145) __3d__ 🕵️\n- [ ] spike: investigate cue for deploy-sourcegraph  [#10143](https://github.com/sourcegraph/sourcegraph/issues/10143) __3d__ 🕵️\n- [ ] Create scaling recommendation guide [#10102](https://github.com/sourcegraph/sourcegraph/issues/10102) __2d__ \n- [ ] RFC 141: Generate manifests, rather than directly editing deploy-sourcegraph [#10100](https://github.com/sourcegraph/sourcegraph/issues/10100) \n- [ ] Issues with Docker Compose on AWS installation docs [#9829](https://github.com/sourcegraph/sourcegraph/issues/9829) __1d__ \n- [ ] Set ephemeral storage resource requests and limits in deploy-sourcegraph [#9604](https://github.com/sourcegraph/sourcegraph/issues/9604) __1d__ \n\n@slimsag\n\n- [ ] Grafana: add metric for open file descriptors and alert when approaching fd limit [#10009](https://github.com/sourcegraph/sourcegraph/issues/10009) \n- [ ] monitoring for container restarts [#9793](https://github.com/sourcegraph/sourcegraph/issues/9793) \n- [ ] monitoring for containers being down [#9792](https://github.com/sourcegraph/sourcegraph/issues/9792) \n- [ ] monitoring for CPU and memory usage [#9791](https://github.com/sourcegraph/sourcegraph/issues/9791) \n- [ ] monitoring: generate solutions documentation from Go monitoring definitions [#10142](https://github.com/sourcegraph/sourcegraph/pull/10142) :shipit:\n- [x] monitoring: add very narrowly targeted sharing of observables [#10139](https://github.com/sourcegraph/sourcegraph/pull/10139) :shipit:\n\n@uwedeportivo: __7.00d__\n\n- [ ] Use net/http/httptrace to trace HTTP client requests [#10007](https://github.com/sourcegraph/sourcegraph/issues/10007) __2d__ \n- [ ] Implement NetworkPolicy [#9726](https://github.com/sourcegraph/sourcegraph/issues/9726) __2d__ \n- [ ] deploy-sourcegraph: Separate manifests for non-admin users [#9723](https://github.com/sourcegraph/sourcegraph/issues/9723) __1d__ \n- [ ] Merge k8s docs into main docs site [#7285](https://github.com/sourcegraph/sourcegraph/issues/7285) __2d__ \n\u003c!-- END WORK --\u003e\r\n\r\n#### Legend\r\n\r\n- 👩 Customer issue\r\n- 🐛 Bug\r\n- 🧶 Technical debt\r\n- 🛠️ [Roadmap](https://docs.google.com/document/d/1cBsE9801DcBF9chZyMnxRdolqM_1c2pPyGQz15QAvYI/edit#heading=h.5nwl5fv52ess)\r\n- 🕵️ [Spike](https://en.wikipedia.org/wiki/Spike_(software_development))\r\n- 🔒 Security issue\r\n- :shipit: Pull Request\r\n","Number":10159,"URL":"https://github.com/sourcegraph/sourcegraph/issues/10159","State":"CLOSED","Repository":"sourcegraph/sourcegraph","Private":false,"Labels":["okr/distribution/admin-experience","tracking"],"Assignees":null,"Milestone":"","Author":"tsenart","CreatedAt":"2020-04-23T16:30:00Z","UpdatedAt":"0001-01-01T00:00:00Z","ClosedAt":"2020-04-23T16:55:32Z"},{"ID":"MDU6SXNzdWU2NDI3ODM3NDU=","Title":"Search: 3.18 Tracking issue","Body":"### Plan \r\n\r\nOur Q2 OKRs are:\r\n * allow users to search across contexts of their organization’s code as outlined in RFC 136.\r\n * Sourcegraph.com WAU grows by 5x to N6 WAU.\r\n\r\nThe problems we want to solve this iteration:\r\n\r\n1. New Sourcegraph users are not given onramps for successful onboarding.\r\n\r\n    **Solution: provide a guided way for users to search relevant repositories via repository groups pages.**\r\n\r\n2. Sourcegraph is missing familiar search features found in alternative solutions like OpenGrok. These missing features have [actively turned away potential users and customers](https://news.ycombinator.com/item?id=22555917):\r\n\r\n    \u003e I use them [boolean operators] every single day and the lack of support in Sourcegraph immediately disqualified it for us.\r\n\r\n    There is a longstanding history of requests for this feature and it is a clear gap in our product [[1](https://github.com/sourcegraph/sourcegraph/issues/7154), [2](https://github.com/sourcegraph/sourcegraph/issues/7154#issuecomment-564713240), [3](https://github.com/sourcegraph/sourcegraph/issues/1005#issue-380986675)]\r\n    **Solution: implement full hierarchical search with AND/OR queries behind a feature flag.**\r\n\r\n3. Customers have asked us for a solution to search across older versions of their code. These code states live on, because they map to enterprise releases that are still being used by their customers. Some of these requests come from customers  that have been on OpenGrok previously, and have spun up multiple OpenGrok instances to allow them to search old versions of code. They want to use Sourcegraph, but want a seamless solution to do so.\r\n\r\n    **Solution: enable indexing on non-main branches so searches using version contexts are fast. We have built the version contexts feature without indexing in the previous iteration.**\r\n\r\n### Availability\r\n\r\nPeriod is from **June 22** to **July 17** (20 days). Please write the days you won't be working and the number of working days for the period.\r\n\r\n- @attfarhan : 15d (out July 6 - 10)\r\n- @rvantonder: 19d (I will likely take 1 or 2d off between July 11 and July 24, but not committing to this yet).\r\n- @asdine: 20d \r\n- @keegancsmith: TODO\r\n\r\n### Workload\r\n\r\n\u003c!-- BEGIN WORK --\u003e\n\u003c!-- BEGIN ASSIGNEE: Unassigned --\u003e\n@Unassigned\n\n- [ ] Surface alert if type: other than file is used with stable: [#9715](https://github.com/sourcegraph/sourcegraph/issues/9715) \n- [ ] Support or-expressions for repo: and file: parameters [#11009](https://github.com/sourcegraph/sourcegraph/issues/11009) \n\u003c!-- END ASSIGNEE --\u003e\n\n\u003c!-- BEGIN ASSIGNEE: attfarhan --\u003e\n@attfarhan\n\n- [ ] \"Expand/collapse all\" buttons not working [#11596](https://github.com/sourcegraph/sourcegraph/issues/11596) 🐛\n- [x] Border-radius wrong in repogroup page search query input groups [#11955](https://github.com/sourcegraph/sourcegraph/issues/11955) 🐛\n- [x] Fancy quotes on repogroup pages [#11953](https://github.com/sourcegraph/sourcegraph/issues/11953) 🐛\n- [x] Kubernetes repogroup icon is not transparent, looks bad in dark theme [#11956](https://github.com/sourcegraph/sourcegraph/issues/11956) 🐛\n- [ ] Feedback for Custom Search Pages and new Homepage Design [#11922](https://github.com/sourcegraph/sourcegraph/issues/11922) \n\u003c!-- END ASSIGNEE --\u003e\n\n\u003c!-- BEGIN ASSIGNEE: keegancsmith --\u003e\n@keegancsmith: __10.00d__\n\n- [x] Index multiple (non-master) branches [#6728](https://github.com/sourcegraph/sourcegraph/issues/6728) __10d__ [👩](https://app.hubspot.com/contacts/2762526/company/554338610)\n\u003c!-- END ASSIGNEE --\u003e\n\n\u003c!-- BEGIN ASSIGNEE: rvantonder --\u003e\n@rvantonder: __5.00d__\n\n- [x] Migrate all search query processing to new parser [#10844](https://github.com/sourcegraph/sourcegraph/issues/10844) __2.5d__ \n- [ ] search: buggy handling of escapable characters in quoted strings for field values [#10442](https://github.com/sourcegraph/sourcegraph/issues/10442) 🐛\n- [ ] Unable to perform a literal search with a query that contains a `:` [#10171](https://github.com/sourcegraph/sourcegraph/issues/10171) \n- [x] Add structural search help message [#11593](https://github.com/sourcegraph/sourcegraph/issues/11593) __0.5d__ \n- [ ] Search inputs that don't work but should [#8780](https://github.com/sourcegraph/sourcegraph/issues/8780) \n- [x] Expose and/or query parsing result through GQL API [#9979](https://github.com/sourcegraph/sourcegraph/issues/9979) __1.5d__ \n- [ ] Implement and/or-expressions for file and repo search (AKA hierarchical search) [#9974](https://github.com/sourcegraph/sourcegraph/issues/9974) 👩\n- [x] Index repos for search page repogroups on sourcegraph.com [#11962](https://github.com/sourcegraph/sourcegraph/issues/11962) __0.5d__ \n\u003c!-- END ASSIGNEE --\u003e\n\u003c!-- END WORK --\u003e\r\n\r\n#### Legend\r\n\r\n- 👩 Customer issue\r\n- 🐛 Bug\r\n- 🧶 Technical debt\r\n- 🛠️ [Roadmap](https://docs.google.com/document/d/1cBsE9801DcBF9chZyMnxRdolqM_1c2pPyGQz15QAvYI/edit#heading=h.5nwl5fv52ess)\r\n- 🕵️ [Spike](https://en.wikipedia.org/wiki/Spike_(software_development))\r\n- 🔒 Security issue\r\n- :shipit: Pull Request\r\n","Number":11613,"URL":"https://github.com/sourcegraph/sourcegraph/issues/11613","State":"CLOSED","Repository":"sourcegraph/sourcegraph","Private":false,"Labels":["team/search","tracking"],"Assignees":null,"Milestone":"3.18","Author":"attfarhan","CreatedAt":"2020-06-22T06:07:12Z","UpdatedAt":"0001-01-01T00:00:00Z","ClosedAt":"2020-07-20T16:56:02Z"},{"ID":"MDU6SXNzdWU2Mzg5MDYwNjQ=","Title":"Cloud: 3.18 Tracking issue","Body":"### Status\r\n\r\nThis tracking issue is being worked on.\r\n\r\n### Context\r\n\r\nThis iteration is the first we're working officially as the cloud team on items from the [RFC 151 roadmap](https://docs.google.com/document/d/1qSSo83MJNcNbJhQOhDyHsGBCYPjyr7uhVQKGfZ8Vxfg/edit#heading=h.az00lc90wa5j), which we have no OKRs for yet.\r\n\r\nHowever, there's still work outside of this roadmap that needs to be completed, and as such has been prioritised in this iteration, namely:\r\n\r\n- @unknwon is working on [RFC 167: Enforce product tiers](https://docs.google.com/document/d/1XozQ4JINJqirdaG-XqGtboT2-PlIXPyBn6EwV7Q3pWI/edit), starting with **Spike: Enforcing product tiers #11577** and ensuing work is addressing the OKR `Product: Deliver on projects to increase and support sales efforts. KR: License keys enable features for each license tier.`\r\n- @unknwon is wrapping up work from [RFC 137: Better automated testing](https://docs.google.com/document/d/14f7lwfToeT6t_vxnGsCuXqf3QcB5GRZ2Zoy6kYqBAIQ/edit#heading=h.trqab8y0kufp). There's no specific OKR for this effort.\r\n- @keegancsmith is wrapping up work from [RFC 136: Navigating Version Contexts](https://docs.google.com/document/d/1-Hn3bSVmwZ9iY0nfztXMoDfzWMdOHYTKrhK2F5ZJZI8/edit#) with **Index multiple (non-master) branches #6728** which directly addresses `Product: Deliver on projects to increase and support sales efforts. KR: Users can search across contexts of their organization’s code as outlined in RFC 136. `\r\n- @keegancsmith will be working streaming search support in the context of Sourcegraph Cloud roadmap afterwards — no OKR for this yet.\r\n- @ryanslade main focus will be on **scaling repo-updater** as part of the Sourcegraph Cloud roadmap.\r\n- @daxmc99 main focus will be on [RFC 174: HA Postgres for Sourcegraph Cloud](https://docs.google.com/document/d/1zNy-9QTAS4-i4C-ooFsfSwLf-kdnIJlTE8-uyub6-Ik/edit#heading=h.kct20jix194c) #11496\r\n- @asdine main focus will be on **Store git commits in Postgres** as part of the Sourcegraph Cloud roadmap.\r\n\r\n### Availability\r\n\r\nPeriod is from **20th of June** to **20th of July**. Please write the days you won't be working and the number of working days for the period.\r\n\r\n- @keegancsmith: TBD\r\n- @tsenart: 21d\r\n- @unknwon: 19d (National holidays June 25-26)\r\n- @ryanslade: 21d\r\n- @daxmc99: 21d\r\n- @asdine: 20d\r\n- Chayim Kirshen (Security Engineer starting June 29th): TBD\r\n\r\n### Workload\r\n\r\n\u003c!-- BEGIN WORK --\u003e\n\u003c!-- BEGIN ASSIGNEE: asdine --\u003e\n@asdine: __5.00d__\n\n- [x] repository status page with \"cloning\" filter is extremely slow [#11029](https://github.com/sourcegraph/sourcegraph/issues/11029) __4d__ \n  - [x] cloud: Repo-updater store repositories clone status in repo table [#11867](https://github.com/sourcegraph/sourcegraph/pull/11867) :shipit:\n- [ ] mail package deprecated [#10703](https://github.com/sourcegraph/sourcegraph/issues/10703) 🧶\n- [ ] Ability to disable SMTP TLS verification [#10702](https://github.com/sourcegraph/sourcegraph/issues/10702) __1d__ 👩\n- [ ] Split resolveRepositories code [#10489](https://github.com/sourcegraph/sourcegraph/pull/10489) :shipit:🧶\n\u003c!-- END ASSIGNEE --\u003e\n\n\u003c!-- BEGIN ASSIGNEE: beyang --\u003e\n@beyang\n\n- [ ] Sourcegraph.com behaves like customer instances for a subset of repositories [#10821](https://github.com/sourcegraph/sourcegraph/issues/10821) \n\u003c!-- END ASSIGNEE --\u003e\n\n\u003c!-- BEGIN ASSIGNEE: chayim --\u003e\n@chayim\n\n- [ ] Chayim Kirshen On-boarding [#11785](https://github.com/sourcegraph/sourcegraph/issues/11785) \n\u003c!-- END ASSIGNEE --\u003e\n\n\u003c!-- BEGIN ASSIGNEE: daxmc99 --\u003e\n@daxmc99: __14.00d__\n\n- [ ] RFC 174: HA Postgres for Sourcegraph Cloud [#11496](https://github.com/sourcegraph/sourcegraph/issues/11496) __10d__ \n- [ ] Add operational playbook for updating external database versions [#1099](https://github.com/sourcegraph/about/issues/1099) \n- [x] add terraform configuration for sourcegraph.com's infrastructure  [#10455](https://github.com/sourcegraph/sourcegraph/issues/10455) __2d__ \n- [x] Terraform migration: Migrate all non-postgres stateful data [#11759](https://github.com/sourcegraph/sourcegraph/issues/11759) __1d__ \n- [x] Terraform migration: Update docs [#1115](https://github.com/sourcegraph/about/issues/1115) \n- [ ] RFC 174: Terraform Cloud SQL [#11794](https://github.com/sourcegraph/sourcegraph/issues/11794) __1d__ \n- [ ] Sourcegraph.com - add redis-store \u0026 precise-code-intel-bundle-manager snapshotting [#10450](https://github.com/sourcegraph/sourcegraph/issues/10450) \n\u003c!-- END ASSIGNEE --\u003e\n\n\u003c!-- BEGIN ASSIGNEE: keegancsmith --\u003e\n@keegancsmith: __10.00d__\n\n- [x] Index multiple (non-master) branches [#6728](https://github.com/sourcegraph/sourcegraph/issues/6728) __10d__ [👩](https://app.hubspot.com/contacts/2762526/company/554338610)\n\u003c!-- END ASSIGNEE --\u003e\n\n\u003c!-- BEGIN ASSIGNEE: ryanslade --\u003e\n@ryanslade: __4.00d__\n\n- [ ] Scale repo-updater WIP [#11493](https://github.com/sourcegraph/sourcegraph/issues/11493) 🛠️\n- [x] RFC 132: Use rate limit data when scheduling changeset syncs [#9105](https://github.com/sourcegraph/sourcegraph/issues/9105) __2d__ \n- [x] `src actions exec` can cause frontend to be OOMKilled [#10540](https://github.com/sourcegraph/sourcegraph/issues/10540) __2d__ 🐛\n- [x] Diff query for unknown revision is slow [#11654](https://github.com/sourcegraph/sourcegraph/issues/11654) \n\u003c!-- END ASSIGNEE --\u003e\n\n\u003c!-- BEGIN ASSIGNEE: tsenart --\u003e\n@tsenart\n\n- [ ] ~Add 'activity histogram' to admin usage stats + rearrange~ [#11063](https://github.com/sourcegraph/sourcegraph/issues/11063) __2d__ \n- [x] engineering: Welcome to the Cloud team, @asdine! [#1106](https://github.com/sourcegraph/about/pull/1106) :shipit:\n- [x] team: Welcome to the Cloud, Dax [#1057](https://github.com/sourcegraph/about/pull/1057) :shipit:\n\u003c!-- END ASSIGNEE --\u003e\n\n\u003c!-- BEGIN ASSIGNEE: unknwon --\u003e\n@unknwon: __13.50d__\n\n- [ ] Simplify `PermsStore` logic with intarray extension [#11768](https://github.com/sourcegraph/sourcegraph/issues/11768) __2d__ \n- [ ] Use Postgres intarray to store permissions `object_ids` [#11400](https://github.com/sourcegraph/sourcegraph/issues/11400) __3d__ 🧶\n- [x] gqltest: add dev docs [#11578](https://github.com/sourcegraph/sourcegraph/issues/11578) __0.5d__ \n- [x] RFC 142: Migrate backend e2e test with integration tests [#10068](https://github.com/sourcegraph/sourcegraph/issues/10068) __5d__ 🛠️\n- [x] Dotcom site-admin overview page breaks with anonymous user ID [#11801](https://github.com/sourcegraph/sourcegraph/issues/11801) __0.5d__ 🐛\n- [x] Codecov: use go-acc for better code coverage on `master` [#11781](https://github.com/sourcegraph/sourcegraph/issues/11781) __1d__ \n- [x] authz: `ReposIDsWithOldestPerms` breaks when repos are hard-deleted from repo table [#11769](https://github.com/sourcegraph/sourcegraph/issues/11769) __0.5d__ 🐛\n- [x] Add integration tests that saves rows to `user_external_accounts` then grant permissions [#11614](https://github.com/sourcegraph/sourcegraph/issues/11614) __1d__ 🧶\n- [ ] ~Enforcing product tiers~ [#11577](https://github.com/sourcegraph/sourcegraph/issues/11577) __5d__ 🕵️\n- [ ] ~e2e: remove tests covered by `dev/gqltest`~ [#11762](https://github.com/sourcegraph/sourcegraph/issues/11762) __1d__ \n- [ ] ~gqltest: re-enable in CI on every branch~ [#11579](https://github.com/sourcegraph/sourcegraph/issues/11579) __2d__ \n- [ ] ~Spike: Pure SQL authz flow~ [#11767](https://github.com/sourcegraph/sourcegraph/issues/11767) __3d__ 🕵️\n\u003c!-- END ASSIGNEE --\u003e\n\u003c!-- END WORK --\u003e\r\n\r\n#### Legend\r\n\r\n- 👩 Customer issue\r\n- 🐛 Bug\r\n- 🧶 Technical debt\r\n- 🛠️ [Roadmap](https://docs.google.com/document/d/1cBsE9801DcBF9chZyMnxRdolqM_1c2pPyGQz15QAvYI/edit#heading=h.5nwl5fv52ess)\r\n- 🕵️ [Spike](https://en.wikipedia.org/wiki/Spike_(software_development))\r\n- 🔒 Security issue\r\n- :shipit: Pull Request\r\n","Number":11494,"URL":"https://github.com/sourcegraph/sourcegraph/issues/11494","State":"CLOSED","Repository":"sourcegraph/sourcegraph","Private":false,"Labels":["team/cloud","tracking"],"Assignees":null,"Milestone":"3.18","Author":"tsenart","CreatedAt":"2020-06-15T14:37:26Z","UpdatedAt":"0001-01-01T00:00:00Z","ClosedAt":"2020-07-20T11:49:37Z"},{"ID":"MDU6SXNzdWU2MTkxMTEwNDg=","Title":"Web: 3.17 tracking issue","Body":"### Availability\r\n\r\nPeriod is from **May 21st** to **June 19th**. Please write the days you won't be working and the number of working days for the period.\r\n\r\n- @lguychard: 22d\r\n- @twop: 21d\r\n- @attfarhan: 21d (out May 25)\r\n- @felixfbecker: 21d (observing national holidays May 21)\r\n- @marekweb: 22d\r\n\r\n### Workload\r\n\r\n\u003c!-- BEGIN WORK --\u003e\n\u003c!-- BEGIN ASSIGNEE: attfarhan --\u003e\n@attfarhan: __6.00d__\n\n- [ ] Explore alternatives to Reactstrap [#6443](https://github.com/sourcegraph/sourcegraph/issues/6443) __3d__ 🧶\n- [x] Try enzyme for cleaner snapshot tests [#9040](https://github.com/sourcegraph/sourcegraph/issues/9040) __0.5d__ 🧶\n- [x] version contexts feedback: include warning when URL changes context [#10769](https://github.com/sourcegraph/sourcegraph/issues/10769) __1d__ \n- [x] Question mark button doesn't do anything on version context popup [#10781](https://github.com/sourcegraph/sourcegraph/issues/10781) __0.5d__ 🐛\n- [x] Hide 'Select context' placeholder label after first use [#10877](https://github.com/sourcegraph/sourcegraph/issues/10877) __1d__ \n\u003c!-- END ASSIGNEE --\u003e\n\n\u003c!-- BEGIN ASSIGNEE: felixfbecker --\u003e\n@felixfbecker: __5.00d__\n\n- [ ] Incorrect z-indexes in UI [#8380](https://github.com/sourcegraph/sourcegraph/issues/8380) __1d__ 🐛\n- [x] Add visual indication of tooltip pinning [#4938](https://github.com/sourcegraph/sourcegraph/issues/4938) __4d__ \n  - [x] Overhaul tooltip close button \u0026 badge styles [#10956](https://github.com/sourcegraph/sourcegraph/pull/10956) :shipit:\n- [x] Prototype code insights to track technology use [#10828](https://github.com/sourcegraph/sourcegraph/issues/10828) \n- [x] Basic code intel icon obscures type signature [#10459](https://github.com/sourcegraph/sourcegraph/issues/10459) \n  - [x] Overhaul tooltip close button \u0026 badge styles [#10956](https://github.com/sourcegraph/sourcegraph/pull/10956) :shipit:\n\u003c!-- END ASSIGNEE --\u003e\n\n\u003c!-- BEGIN ASSIGNEE: lguychard --\u003e\n@lguychard\n\n- [ ] ~Improve privacy messaging before requesting addition of repository~ [#11044](https://github.com/sourcegraph/sourcegraph/issues/11044) __0.5d__ \n- [ ] ~sourcegraph/security-issues~ [#72](https://github.com/sourcegraph/security-issues/issues/72) \n\u003c!-- END ASSIGNEE --\u003e\n\n\u003c!-- BEGIN ASSIGNEE: marekweb --\u003e\n@marekweb: __2.00d__\n\n- [x] Refactor browser extension FileInfo to disallow invalid states at the type level [#3107](https://github.com/sourcegraph/sourcegraph/issues/3107) __2d__ 🧶\n  - [x] Refactor FileInfo in browser extension [#10779](https://github.com/sourcegraph/sourcegraph/pull/10779) :shipit:\n- [ ] ~Surface availability of the browser extension in a more persistent way~ [#10409](https://github.com/sourcegraph/sourcegraph/issues/10409) \n- [ ] ~Explore inline install of the browser extension from Sourcegraph.com~ [#10589](https://github.com/sourcegraph/sourcegraph/issues/10589) \n\u003c!-- END ASSIGNEE --\u003e\n\n\u003c!-- BEGIN ASSIGNEE: twop --\u003e\n@twop: __16.00d__\n\n- [x] Basic code intel info button is wrong size and color [#9065](https://github.com/sourcegraph/sourcegraph/issues/9065) 🐛\n- [ ] Placeholder (maybe split later): migrate the rest of the areas to the new model according to RFC 155. [#10750](https://github.com/sourcegraph/sourcegraph/issues/10750) __8d__ \n- [ ] Migrate ExtExtensions API to a new model described in RFC 155 [#10749](https://github.com/sourcegraph/sourcegraph/issues/10749) __3d__ \n- [ ] Migrate several services/areas of extension API to a new model described in RFC 155 (tentatively Settings, Workspaces e.t.c) [#10748](https://github.com/sourcegraph/sourcegraph/issues/10748) __5d__ \n- [x] migrating commands according to RFC 155 [#11033](https://github.com/sourcegraph/sourcegraph/pull/11033) :shipit:\n- [x] support predefined icons for badges (backward compat) [#10517](https://github.com/sourcegraph/sourcegraph/pull/10517) :shipit:\n\u003c!-- END ASSIGNEE --\u003e\n\u003c!-- END WORK --\u003e","Number":10739,"URL":"https://github.com/sourcegraph/sourcegraph/issues/10739","State":"CLOSED","Repository":"sourcegraph/sourcegraph","Private":false,"Labels":["team/web","tracking"],"Assignees":null,"Milestone":"3.17","Author":"lguychard","CreatedAt":"2020-05-15T16:53:25Z","UpdatedAt":"0001-01-01T00:00:00Z","ClosedAt":"2020-06-22T10:59:25Z"},{"ID":"MDU6SXNzdWU3MTA2OTM5Njc=","Title":"Tracking issue to track Eric's tracking issue improvements in 3.21 ","Body":"\u003c!-- BEGIN WORK --\u003e\n\u003c!-- BEGIN ASSIGNEE: efritz --\u003e\n@efritz\n\n- [ ] Tracking issue to track Eric's tracking issue improvements in 3.21  ([#14264](https://github.com/sourcegraph/sourcegraph/issues/14264)) \n\nCompleted\n- [x] (🏁 10 days ago) tracking-issue: Fix timeout (~[#13986](https://github.com/sourcegraph/sourcegraph/pull/13986)~) :shipit:\n- [x] (🏁 10 days ago) tracking-issue: Fix long-form linked issues (~[#13989](https://github.com/sourcegraph/sourcegraph/pull/13989)~) :shipit:\n- [x] (🏁 10 days ago) tracking-issue: Nested tracking issues (~[#13998](https://github.com/sourcegraph/sourcegraph/pull/13998)~) :shipit:\n- [x] (🏁 9 days ago) tracking-issue: Parallelize writes (~[#14006](https://github.com/sourcegraph/sourcegraph/pull/14006)~) :shipit:\n- [x] (🏁 9 days ago) tracking-issue: Break code up into files according to type/action (~[#14013](https://github.com/sourcegraph/sourcegraph/pull/14013)~) :shipit:\n- [x] (🏁 9 days ago) tracking-issue: List PRs for an issue inline (~[#14018](https://github.com/sourcegraph/sourcegraph/pull/14018)~) :shipit:\n- [x] (🏁 9 days ago) tracking-issue: Separate complete/incomplete work (~[#14034](https://github.com/sourcegraph/sourcegraph/pull/14034)~) :shipit:\n- [x] (🏁 8 days ago) tracking-issue: Fix strikethrough on closed (un-merged) PRs (~[#14107](https://github.com/sourcegraph/sourcegraph/pull/14107)~) :shipit:\n- [x] (🏁 7 days ago) tracking-issue: Nest unlinked PRs under the closest tracking issue (~[#14108](https://github.com/sourcegraph/sourcegraph/pull/14108)~) :shipit:\n- [x] (🏁 7 days ago) tracking-issue: Fix tests (~[#14168](https://github.com/sourcegraph/sourcegraph/pull/14168)~) :shipit:\n- [x] (🏁 7 days ago) tracking-issue: Do not show completed PRs if the owning image is also complete (~[#14169](https://github.com/sourcegraph/sourcegraph/pull/14169)~) :shipit:\n- [x] (🏁 7 days ago) tracking-issue: Hide completed work nested in other completed work (~[#14175](https://github.com/sourcegraph/sourcegraph/pull/14175)~) :shipit:\n- [x] (🏁 7 days ago) tracking-issue: Strikethrough complete PRs (for visual consistency) (~[#14176](https://github.com/sourcegraph/sourcegraph/pull/14176)~) :shipit:\n- [x] (🏁 7 days ago) tracking-issue: Make sorting deterministic (~[#14184](https://github.com/sourcegraph/sourcegraph/pull/14184)~) :shipit:\n- [x] (🏁 6 days ago) tracking-issue: Display partially nested items ([~#14177~](https://github.com/sourcegraph/sourcegraph/issues/14177); PRs: ~[#14185](https://github.com/sourcegraph/sourcegraph/pull/14185)~) \n- [x] (🏁 today) tracking-issue: Display intermediate tracking issues with disjoint labels ([~#14205~](https://github.com/sourcegraph/sourcegraph/issues/14205); PRs: ~[#14265](https://github.com/sourcegraph/sourcegraph/pull/14265)~) \n\u003c!-- END ASSIGNEE --\u003e\n\u003c!-- END WORK --\u003e\r\n\r\n#### Legend\r\n\r\n- 👩 Customer issue\r\n- 🐛 Bug\r\n- 🧶 Technical debt\r\n- 🎩 Quality of life\r\n- 🛠️ [Roadmap](https://docs.google.com/document/d/1cBsE9801DcBF9chZyMnxRdolqM_1c2pPyGQz15QAvYI/edit#heading=h.5nwl5fv52ess)\r\n- 🕵️ [Spike](https://en.wikipedia.org/wiki/Spike_(software_development))\r\n- 🔒 Security issue\r\n- :shipit: Pull Request\r\n","Number":14264,"URL":"https://github.com/sourcegraph/sourcegraph/issues/14264","State":"CLOSED","Repository":"sourcegraph/sourcegraph","Private":false,"Labels":["team/code-intelligence","tracking","tracking-issue"],"Assignees":["efritz"],"Milestone":"3.21","Author":"efritz","CreatedAt":"2020-09-29T02:07:58Z","UpdatedAt":"0001-01-01T00:00:00Z","ClosedAt":"2020-10-02T02:17:17Z"},{"ID":"MDU6SXNzdWU3MDgyMjAwNTg=","Title":"RFC 221 Tracking issue: Improve discoverability/awareness of the browser extension","Body":"Tracking issue for [RFC 221: Improve discoverability/awareness of the browser extension](https://docs.google.com/document/d/19f4xleYBU1zZZdqMmXlLmFxeR-fwEpOwTOgViOFOnyo/edit?usp=sharing)\r\n\r\n### Tracked issues\r\n\r\n\u003c!-- BEGIN WORK --\u003e\n\u003c!-- BEGIN ASSIGNEE: AlicjaSuska --\u003e\n@AlicjaSuska\n\n- [ ] Update the browser extension description in the Chrome and Firefox stores ([#14229](https://github.com/sourcegraph/sourcegraph/issues/14229)) \n- [ ] Update the ‘browser extension’ section in Sourcegraph Docs ([#14230](https://github.com/sourcegraph/sourcegraph/issues/14230)) \n- [ ] Write a blog post that promotes the browser extension and showcases the improvements ([#14235](https://github.com/sourcegraph/sourcegraph/issues/14235)) \n- [ ] Record new Youtube video(s) that promote the browser extension ([#14234](https://github.com/sourcegraph/sourcegraph/issues/14234)) \n\u003c!-- END ASSIGNEE --\u003e\n\n\u003c!-- BEGIN ASSIGNEE: felixfbecker --\u003e\n@felixfbecker: __7.50d__\n\n- [ ] Add installation page ([#14202](https://github.com/sourcegraph/sourcegraph/issues/14202)) __1.5d__ \n- [ ] Record new Youtube video(s) that promote the browser extension ([#14234](https://github.com/sourcegraph/sourcegraph/issues/14234)) \n- [ ] Display different alert content if the admin turned on Sourcegraph on the code host level ([#14267](https://github.com/sourcegraph/sourcegraph/issues/14267)) __3d__ \n\nCompleted: __3.00d__\n- [x] (🏁 5 days ago) Do not display the alerts if admin turned on Sourcegraph on the code host level ([~#14247~](https://github.com/sourcegraph/sourcegraph/issues/14247)) __3d__ \n\u003c!-- END ASSIGNEE --\u003e\n\n\u003c!-- BEGIN ASSIGNEE: marekweb --\u003e\n@marekweb: __6.00d__\n\n- [ ] Communicate the extension state by changing the icon ([#14203](https://github.com/sourcegraph/sourcegraph/issues/14203)) __2d__ \n- [ ] Improve browser extension options menu ([#14218](https://github.com/sourcegraph/sourcegraph/issues/14218); PRs: [#14345](https://github.com/sourcegraph/sourcegraph/pull/14345)) __3d__ \n- [ ] Add alert for all the Firefox users once the add-on is fixed ([#14233](https://github.com/sourcegraph/sourcegraph/issues/14233)) __0.5d__ \n\nCompleted: __0.50d__\n- [x] (🏁 4 days ago) Add browser extension to the UserNav menu ([~#14167~](https://github.com/sourcegraph/sourcegraph/issues/14167)) __0.5d__ \n\u003c!-- END ASSIGNEE --\u003e\n\n\u003c!-- BEGIN ASSIGNEE: tjkandala --\u003e\n@tjkandala: __8.00d__\n\n- [ ] \"view on Sourcegraph\" buttons should always open in new tabs ([#3669](https://github.com/sourcegraph/sourcegraph/issues/3669)) __0.5d__ \n- [ ] Add 'Install the browser extension' alert, remove the popup ([#14196](https://github.com/sourcegraph/sourcegraph/issues/14196)) __3d__ \n- [ ] Add 'Take SG to your [code host]' popup after clicking 'open on [code host] ([#14199](https://github.com/sourcegraph/sourcegraph/issues/14199)) __1d__ \n- [ ] Improve the 'Configure Sourcegraph' flow on GitHub ([#14225](https://github.com/sourcegraph/sourcegraph/issues/14225)) __0.5d__ \n- [ ] Add alert on hover when on private GitHub repo ([#14228](https://github.com/sourcegraph/sourcegraph/issues/14228)) __2.5d__ \n\nCompleted: __0.50d__\n- [x] (🏁 5 days ago) Add code host icons to 'Open in [code host] button ([~#14200~](https://github.com/sourcegraph/sourcegraph/issues/14200)) __0.5d__ \n\u003c!-- END ASSIGNEE --\u003e\n\u003c!-- END WORK --\u003e\r\n","Number":14165,"URL":"https://github.com/sourcegraph/sourcegraph/issues/14165","State":"OPEN","Repository":"sourcegraph/sourcegraph","Private":false,"Labels":["RFC-221","team/web","tracking"],"Assignees":null,"Milestone":"","Author":"AlicjaSuska","CreatedAt":"2020-09-24T14:26:49Z","UpdatedAt":"0001-01-01T00:00:00Z","ClosedAt":"0001-01-01T00:00:00Z"},{"ID":"MDU6SXNzdWU3MDIyNjQzMDI=","Title":"Campaigns Sprint 1 Tracking issue","Body":"### Plan\r\n\r\nNote: We have moved to 2-week sprints! This one is our first.\r\n\r\nThe main theme of this cycle is quality of life improvements for our users. Campaigns could be a lot easier to use! Many of these improvements will be around debugging a campaign, to shorten the cycle of “tweak the spec, apply the spec, see what went wrong, repeat”.\r\n\r\nWe also have several tickets that continue the theme of the previous cycle: bug fixing and polishing.\r\n\r\nUser feedback (from customers and internal folks) is driving our focus. We are also finishing up a round of formal user testing to further validate that we are focusing on the most urgent needs.\r\n\r\n### Availability\r\n\r\nPeriod is from Sep 21 to Oct 6, for 12 working day in total before branch cut.\r\n\r\nIf you have planned unavailability this iteration (e.g., vacation), you can note that here.\r\n\r\n@chrispine 3d (Sep 23-25)\r\n@mrnugget 1d (Sep 25)\r\n@eseliger 0d\r\n\r\n### Tracked issues\r\n\r\n\u003c!-- BEGIN WORK --\u003e\n\u003c!-- BEGIN ASSIGNEE: LawnGnome --\u003e\n@LawnGnome: __8.50d__\n\n- [ ] campaigns: allow users to use their own code host tokens when applying campaigns ([#13862](https://github.com/sourcegraph/sourcegraph/issues/13862)) __3d__ \n- [ ] Validate reconciler works correctly ([#13648](https://github.com/sourcegraph/sourcegraph/issues/13648)) __1d__ 🐛\n- [ ] campaigns: GitLab integration tests ([#12219](https://github.com/sourcegraph/sourcegraph/issues/12219)) __2d__ 🧶\n- [ ] campaigns: move `unmarshalValidate`, with its yaml/json stuff, into `cschema` ([#14249](https://github.com/sourcegraph/sourcegraph/issues/14249)) \n\nCompleted: __2.50d__\n- [x] (🏁 10 days ago) Add backlink to PR description again ([~#13459~](https://github.com/sourcegraph/sourcegraph/issues/13459)) __0.5d__ \n- [x] (🏁 10 days ago) Decorating changeset body fails with \"Namespace not found\" ([~#14159~](https://github.com/sourcegraph/sourcegraph/issues/14159)) \n- [x] (🏁 3 days ago) Allow users to publish only a subset of changesets ([~#13139~](https://github.com/sourcegraph/sourcegraph/issues/13139)) __2d__ \n- [x] (🏁 2 days ago) doc: fix published array ordering (~[#14354](https://github.com/sourcegraph/sourcegraph/pull/14354)~) :shipit:\n\u003c!-- END ASSIGNEE --\u003e\n\n\u003c!-- BEGIN ASSIGNEE: chrispine --\u003e\n@chrispine: __4.50d__\n\n- [ ] CampaignSpecFields should include the importChangesets field ([#13009](https://github.com/sourcegraph/sourcegraph/issues/13009)) __1d__ \n- [ ] campaigns: large changesets can result in 413 errors ([#12840](https://github.com/sourcegraph/sourcegraph/issues/12840)) __1d__ 🐛\n- [ ] Changeset diff render can fail when gitserver hasn't synced yet ([#12584](https://github.com/sourcegraph/sourcegraph/issues/12584)) __2d__ \n\nCompleted: __0.50d__\n- [x] (🏁 13 days ago) Remove old code in 3.21 release ([~#13018~](https://github.com/sourcegraph/sourcegraph/issues/13018)) __0.5d__ 🧶\n\u003c!-- END ASSIGNEE --\u003e\n\n\u003c!-- BEGIN ASSIGNEE: eseliger --\u003e\n@eseliger: __8.00d__\n\n- [ ] Expose author details on changeset spec description in GQL ([#13645](https://github.com/sourcegraph/sourcegraph/issues/13645); PRs: ~[#14181](https://github.com/sourcegraph/sourcegraph/pull/14181)~) __1d__ \n- [ ] Develop responsive campaign pages ([#13118](https://github.com/sourcegraph/sourcegraph/issues/13118)) __3d__ \n- [ ] Design a GraphQL API that allows us to filter changesets via the textbox ([#12471](https://github.com/sourcegraph/sourcegraph/issues/12471)) \n\nCompleted: __4.00d__\n- [x] (🏁 10 days ago) campaigns: cancelled GitLab pipelines don't take check state out of pending ([~#12667~](https://github.com/sourcegraph/sourcegraph/issues/12667); PRs: ~[#14129](https://github.com/sourcegraph/sourcegraph/pull/14129)~) __1d__ 🐛\n- [x] (🏁 5 days ago) Refactor internal campaigns package ([~#13174~](https://github.com/sourcegraph/sourcegraph/issues/13174); PRs: ~[#14188](https://github.com/sourcegraph/sourcegraph/pull/14188)~) __2d__ 🧶\n- [x] (🏁 5 days ago) Merge changesets.CreatedByCampaign and changesets.OwnedByCampaign fields ([~#12650~](https://github.com/sourcegraph/sourcegraph/issues/12650); PRs: ~[#14157](https://github.com/sourcegraph/sourcegraph/pull/14157)~) __1d__ \n- [x] (🏁 5 days ago) Display commit author in preview (~[#14181](https://github.com/sourcegraph/sourcegraph/pull/14181)~) :shipit:\n\u003c!-- END ASSIGNEE --\u003e\n\n\u003c!-- BEGIN ASSIGNEE: mrnugget --\u003e\n@mrnugget: __11.00d__\n\n- [ ] Improve the debugging experience when running campaigns with src-cli ([#13861](https://github.com/sourcegraph/sourcegraph/issues/13861)) __5d__ \n- [ ] Campaigns: `src actions` schema: add ability to reference config file from Docker Action ([#10527](https://github.com/sourcegraph/sourcegraph/issues/10527)) __1d__ \n\nCompleted: __5.00d__\n- [x] (🏁 16 days ago) Documentation for configuring campaigns (scope for tokens) ([~#12888~](https://github.com/sourcegraph/sourcegraph/issues/12888); PRs: ~[#13948](https://github.com/sourcegraph/sourcegraph/pull/13948)~) __0.5d__ \n- [x] (🏁 6 days ago) Fix nil-pointer panic in go-diff  ([~#13976~](https://github.com/sourcegraph/sourcegraph/issues/13976)) 🐛\n- [x] (🏁 5 days ago) Changesets are not re-opened and re-attached to a campaign if new apply adds them again ([~#13849~](https://github.com/sourcegraph/sourcegraph/issues/13849)) __2.5d__ 🐛\n- [x] (🏁 5 days ago) Split up ChangesetCountsOverTime integration test ([~#12835~](https://github.com/sourcegraph/sourcegraph/issues/12835)) __1d__ 🧶\n- [x] (🏁 3 days ago) Create integration test for src-cli ([~#13863~](https://github.com/sourcegraph/sourcegraph/issues/13863)) __1d__ \n\u003c!-- END ASSIGNEE --\u003e\n\n\u003c!-- BEGIN ASSIGNEE: rrhyne --\u003e\n@rrhyne: __1.50d__\n\n- [ ] Create 2 stage menu for applying a specification ([#13655](https://github.com/sourcegraph/sourcegraph/issues/13655)) __0.5d__ \n- [ ] Design responsive screens for campaigns pages ([#13117](https://github.com/sourcegraph/sourcegraph/issues/13117)) __1d__ \n\u003c!-- END ASSIGNEE --\u003e\n\u003c!-- END WORK --\u003e\r\n\r\n#### Legend\r\n\r\n- 👩 Customer issue\r\n- 🐛 Bug\r\n- 🧶 Technical debt\r\n- 🎩 Quality of life\r\n- 🛠️ [Roadmap](https://docs.google.com/document/d/1cBsE9801DcBF9chZyMnxRdolqM_1c2pPyGQz15QAvYI/edit#heading=h.5nwl5fv52ess)\r\n- 🕵️ [Spike](https://en.wikipedia.org/wiki/Spike_(software_development))\r\n- 🔒 Security issue\r\n- :shipit: Pull Request\r\n","Number":13828,"URL":"https://github.com/sourcegraph/sourcegraph/issues/13828","State":"OPEN","Repository":"sourcegraph/sourcegraph","Private":false,"Labels":["team/campaigns","tracking"],"Assignees":null,"Milestone":"Campaigns Sprint 1","Author":"chrispine","CreatedAt":"2020-09-15T20:57:25Z","UpdatedAt":"0001-01-01T00:00:00Z","ClosedAt":"0001-01-01T00:00:00Z"},{"ID":"MDU6SXNzdWU2ODAzMTQ3MTQ=","Title":"Code Intelligence 3.20 Tracking issue","Body":"### Plan\r\n\r\n**Goal:** Get the top three most popular language indexers: lsif-go, lsif-java, lsif-clang stable by working directly on implementation with customers to identify and resolve any remaining issues that prevent the tool from being use in a wide release. This goal takes top priority for this milestone and each member of the team is leading the initiative on an indexer. \r\n\r\n**Goal:** Perform research spikes of features such as Bazel integration (to improve monorepos support) in order to find the best approach, and scope the development effort for adding new core capabilities to code intel platform.\r\n\r\n**Goal:** Improve the reliability and usability of code intel tools by triaging and resolving UI bugs and performance issues (i.e. the bundle manager process) for an improved developer experience.\r\n\r\n\u003c!--\r\nSummarize what the team wants to achieve this iteration.\r\n- What are the problems we want to solve or what information do we want to gather?\r\n- Why is solving those problems or gathering that information important?\r\n- How do we plan to solve those problems or gather that information?\r\n--\u003e\r\n\r\n### Availability\r\n\r\nPeriod is from 2020-08-20 to 2020-09-20. Please write the days you won't be working and the number of working days for the period. US/Canada Holidays during this period: Labor Day (Monday, Sept 7th)\r\n\r\n* Aida: 21 days \r\n* Eric: 21 days\r\n* Noah: 21 days\r\n* Garo: 10 days\r\n\r\n### Tracked issues\r\n\r\n\u003c!-- BEGIN WORK --\u003e\n\u003c!-- BEGIN ASSIGNEE: Strum355 --\u003e\n@Strum355: __12.00d__\n\n- [ ] 🚚 LSIF-Java Delivery  [#13017](https://github.com/sourcegraph/sourcegraph/issues/13017) __12d__ \n- [ ] Find references to common Java class method name without false-positives [#3418](https://github.com/sourcegraph/sourcegraph/issues/3418) \n\u003c!-- END ASSIGNEE --\u003e\n\n\u003c!-- BEGIN ASSIGNEE: aidaeology --\u003e\n@aidaeology: __5.00d__\n\n- [ ] Perl code intelligence not working [#8303](https://github.com/sourcegraph/sourcegraph/issues/8303) [👩](https://app.hubspot.com/contacts/2762526/company/864034457)🐛\n- [ ] Make bundle manager janitor more lenient during disaster recovery [#12168](https://github.com/sourcegraph/sourcegraph/issues/12168) 🧶\n- [ ] update lsif.dev [#12501](https://github.com/sourcegraph/sourcegraph/issues/12501) \n- [ ] Remove -endpoint from src-cli usage [#11878](https://github.com/sourcegraph/sourcegraph/issues/11878) 🧶\n- [ ] Create successful and reproducible indexes of 20 OSS repos [#12](https://github.com/sourcegraph/lsif-clang/issues/12) \n- [ ] 🚚 LSIF-Go Delivery [#13015](https://github.com/sourcegraph/sourcegraph/issues/13015) __5d__ \n- [x] Updated code intel team process [#1537](https://github.com/sourcegraph/about/pull/1537) :shipit:\n- [x] Update code intel quick start [#13333](https://github.com/sourcegraph/sourcegraph/pull/13333) :shipit:\n\u003c!-- END ASSIGNEE --\u003e\n\n\u003c!-- BEGIN ASSIGNEE: efritz --\u003e\n@efritz: __15.50d__\n\n- [x] Setup on-call rotation for code intel [#13379](https://github.com/sourcegraph/sourcegraph/issues/13379) \n- [x] UI Tooltips for asymmetric precision of hover and definition results [#12706](https://github.com/sourcegraph/sourcegraph/issues/12706) __0.5d__ \n- [ ] 🚚 LSIF-Go Delivery [#13015](https://github.com/sourcegraph/sourcegraph/issues/13015) __5d__ \n- [x] lsif-go fails on zoekt [#12487](https://github.com/sourcegraph/sourcegraph/issues/12487) 🐛\n- [x] bug: no J2D or find-refs of switch-case blocks over an object's type [#117](https://github.com/sourcegraph/lsif-go/issues/117) 🐛\n- [x] codeintel: Investigate lsif-go memory issues [#13184](https://github.com/sourcegraph/sourcegraph/issues/13184) __2d__ 🐛\n- [x] RFC 199: Implement user code executor for code intel indexer [#12307](https://github.com/sourcegraph/sourcegraph/issues/12307) \n- [x] RFC 199: Deploy new indexer service [#12709](https://github.com/sourcegraph/sourcegraph/issues/12709) \n- [x] RFC 199: Replace docker commands with firecracker commands [#12708](https://github.com/sourcegraph/sourcegraph/issues/12708) __5d__ \n- [x] RFC 199: Deploy indexer service that uses firecracker [#13382](https://github.com/sourcegraph/sourcegraph/issues/13382) \n- [x] RFC 199: Gather metrics from indexer service [#13494](https://github.com/sourcegraph/sourcegraph/issues/13494) \n- [x] system includes are wonky on macos 10.15 [#2](https://github.com/sourcegraph/lsif-clang/issues/2) 🐛\n- [x] Slow Precise Code-Intel Tooltips in C/C++ Code [#13733](https://github.com/sourcegraph/sourcegraph/issues/13733) \n- [x] codeintel/design: Propose replacing SQLite with Postgres [#13070](https://github.com/sourcegraph/sourcegraph/issues/13070) __2d__ 🕵️\n- [x] codeintel/design: Go to definition of unindexed/uncloned code [#13137](https://github.com/sourcegraph/sourcegraph/issues/13137) __0.5d__ 🕵️\n- [x] codeintel: Review alerts [#13074](https://github.com/sourcegraph/sourcegraph/issues/13074) __0.5d__ 🧶\n- [x] Hovering on a specific class sometimes takes a while to load all the references [#12569](https://github.com/sourcegraph/sourcegraph/issues/12569) 🐛\n- [x] codeintel: Reduce data returned from code intel ranges requests [#13746](https://github.com/sourcegraph/sourcegraph/pull/13746) :shipit:\n- [x] codeintel: Wrap index commands in a firecracker VM [#13421](https://github.com/sourcegraph/sourcegraph/pull/13421) :shipit:\n\u003c!-- END ASSIGNEE --\u003e\n\n\u003c!-- BEGIN ASSIGNEE: gbrik --\u003e\n@gbrik: __5.00d__\n\n- [ ] 🚚 LSIF-clang Delivery [#12349](https://github.com/sourcegraph/sourcegraph/issues/12349) __4d__ \n- [ ] Investigate effort for Bazel integration [#13202](https://github.com/sourcegraph/sourcegraph/issues/13202) __1d__ 🕵️\n- [ ] no output produced for seemingly well-formed compile_commands.json [#4](https://github.com/sourcegraph/lsif-clang/issues/4) 🐛\n- [ ] doesn't build on ubuntu 18.04 [#3](https://github.com/sourcegraph/lsif-clang/issues/3) 🐛\n- [ ] doesn't work on arch linux [#1](https://github.com/sourcegraph/lsif-clang/issues/1) 🐛\n- [x] get cmake to find LLVM and Clang library paths automatically [#10](https://github.com/sourcegraph/lsif-clang/issues/10) \n- [x] bug: files with no content other than namespaces produces invalid lsif output [#9](https://github.com/sourcegraph/lsif-clang/issues/9) 🐛\n- [x] clean up the repo structure and structure the documentation [#11](https://github.com/sourcegraph/lsif-clang/issues/11) \n- [ ] github.com/gabime/spdlog doesn't produce LSIF output for template definitions [#14](https://github.com/sourcegraph/lsif-clang/issues/14) 🐛\n- [ ] github.com/nlohmann/json on macOS fails [#13](https://github.com/sourcegraph/lsif-clang/issues/13) 🐛\n- [ ] infer project root automatically if not specified [#15](https://github.com/sourcegraph/lsif-clang/issues/15) \n- [ ] Create successful and reproducible indexes of 20 OSS repos [#12](https://github.com/sourcegraph/lsif-clang/issues/12) \n\u003c!-- END ASSIGNEE --\u003e\n\u003c!-- END WORK --\u003e\r\n\r\n#### Legend\r\n\r\n- 👩 Customer issue\r\n- 🐛 Bug\r\n- 🧶 Technical debt\r\n- 🛠️ [Roadmap](https://docs.google.com/document/d/1cBsE9801DcBF9chZyMnxRdolqM_1c2pPyGQz15QAvYI/edit#heading=h.5nwl5fv52ess)\r\n- 🕵️ [Spike](https://en.wikipedia.org/wiki/Spike_(software_development))\r\n- 🔒 Security issue\r\n- :shipit: Pull Request\r\n","Number":13063,"URL":"https://github.com/sourcegraph/sourcegraph/issues/13063","State":"CLOSED","Repository":"sourcegraph/sourcegraph","Private":false,"Labels":["team/code-intelligence","tracking"],"Assignees":["efritz","aidaeology","gbrik","Strum355"],"Milestone":"3.20","Author":"aidaeology","CreatedAt":"2020-08-17T15:16:47Z","UpdatedAt":"0001-01-01T00:00:00Z","ClosedAt":"2020-09-21T15:37:33Z"},{"ID":"MDU6SXNzdWU2NzUwMDQ0ODE=","Title":"Distribution 3.20 Tracking issue","Body":"### Plan\r\n\r\n#### [Support new and existing deployments](https://github.com/orgs/sourcegraph/projects/74)\r\n\r\nThis is an ongoing expense, we anticipate this taking no more than 10d of work spread across the entire team.\r\n\r\n#### [Support teams migration to per-team alerts](https://github.com/orgs/sourcegraph/projects/73)\r\n\r\nWe have enabled per-team alerts and on-call rotations on [3.19](https://github.com/sourcegraph/sourcegraph/issues/11954), as teams onboard to this new workflow we will need to provide support and guide them through the transition.\r\n\r\n#### [Reduce upgrade overhead](https://github.com/orgs/sourcegraph/projects/71)\r\n\r\nWe decided to move forward with the Dhall implementation and we will work on defining a roadmap for it **(spike)**. Additionally, we will work on a \"`yaml-to-dhall`\" and define a Dhall architecture that supports customizations **(spike)**.\r\n\r\n- @ggilmore \r\n- @uwedeportivo \r\n- @davejrt \r\n- @bobheadxi \r\n\r\n#### [Enable failed e2e test notifications and blocking the pipeline](https://github.com/orgs/sourcegraph/projects/72)\r\nAlthough we run the e2e tests daily, their failures are not visible to all which means at the end of the iteration we must ask teams to pitch in on short notice.\r\nWe will inline our e2e tests and notify engineers when a merge breaks our e2e tests to ensure our `main` branch is always in a working state.\r\n\r\n- @slimsag \r\n- @davejrt \r\n- @pecigonzalo \r\n\r\n#### [Dogfood Kubernetes deployments](https://github.com/orgs/sourcegraph/projects/83)\r\n\r\nDeployments to dogfood-k8s are automated from our latest images and reflect our customer’s workflow. [deploy-sourcegraph](https://github.com/sourcegraph/deploy-sourcegraph) is kept up to date with our latest images. \r\n\r\n- @bobheadxi\r\n- @pecigonzalo\r\n- @ggilmore\r\n- @slimsag\r\n\r\n### Availability\r\n\r\nPeriod is from **August 20th** to **September 19th (22 working days)**. Please write the days you won't be working and the number of working days for the period.\r\n\r\n- **Gonza**: 22d\r\n\r\n### Tracked issues\r\n\r\n\u003c!-- BEGIN WORK --\u003e\n\u003c!-- BEGIN ASSIGNEE: bobheadxi --\u003e\n@bobheadxi\n\n- [x] RFC-189: follow up with distribution, cloud, code-intel, search to set up opsgenie rotations [#12899](https://github.com/sourcegraph/sourcegraph/issues/12899) \n- [x] monitoring: remove custom alertmanager from cloud [#12160](https://github.com/sourcegraph/sourcegraph/issues/12160) \n- [x] monitoring: align ObservableOwners with current teams [#13075](https://github.com/sourcegraph/sourcegraph/issues/13075) \n- [x] k8s.sgdev.org: automate pull requests from deploy-sourcegraph [#13121](https://github.com/sourcegraph/sourcegraph/issues/13121) \n- [x] bundled alertmanager does not start up correctly in some environments with clustering enabled [#13079](https://github.com/sourcegraph/sourcegraph/issues/13079) 🐛\n- [x] cadvisor: investigate collecting IO metrics [#12163](https://github.com/sourcegraph/sourcegraph/issues/12163) \n- [x] deploy-sourcegraph: have Renovate apply image updates as soon as they are built [#13122](https://github.com/sourcegraph/sourcegraph/issues/13122) \n- [ ] ~on-call: document actions to follow up on critical alerts~ [#1468](https://github.com/sourcegraph/about/issues/1468) \n- [ ] ~dogfood-k8s: finalize migration over to new cluster~ [#13792](https://github.com/sourcegraph/sourcegraph/issues/13792) \n- [x] k8s.sgdev.org: reset deploy-sourcegraph-dogfood-k8s using deploy-sourcegraph [#13120](https://github.com/sourcegraph/sourcegraph/issues/13120) \n\u003c!-- END ASSIGNEE --\u003e\n\n\u003c!-- BEGIN ASSIGNEE: davejrt --\u003e\n@davejrt\n\n- [x] baremetal buildkite agent networking / instability issues [#12996](https://github.com/sourcegraph/sourcegraph/issues/12996) \n- [x] Bare-metal Buildkite agents capable of running Docker and VMs [#12101](https://github.com/sourcegraph/sourcegraph/issues/12101) \n- [x] dhall: create \"base\" version of records and explicitly import into templating logic [#13336](https://github.com/sourcegraph/sourcegraph/issues/13336) \n- [x] dhall: customization architecture discussion [#13335](https://github.com/sourcegraph/sourcegraph/issues/13335) \n\u003c!-- END ASSIGNEE --\u003e\n\n\u003c!-- BEGIN ASSIGNEE: daxmc99 --\u003e\n@daxmc99\n\n- [x] sourcegraph/security-issues [#95](https://github.com/sourcegraph/security-issues/issues/95) \n\u003c!-- END ASSIGNEE --\u003e\n\n\u003c!-- BEGIN ASSIGNEE: ggilmore --\u003e\n@ggilmore\n\n- [ ] ~ci: build and pin tool apks in CI for release~ [#13297](https://github.com/sourcegraph/sourcegraph/issues/13297) 🧶\n- [x] dhall: create \"base\" version of records and explicitly import into templating logic [#13336](https://github.com/sourcegraph/sourcegraph/issues/13336) \n- [x] dhall: customization architecture discussion [#13335](https://github.com/sourcegraph/sourcegraph/issues/13335) \n\u003c!-- END ASSIGNEE --\u003e\n\n\u003c!-- BEGIN ASSIGNEE: keegancsmith --\u003e\n@keegancsmith\n\n- [x] sourcegraph/customer [#96](https://github.com/sourcegraph/customer/issues/96) 👩\n\u003c!-- END ASSIGNEE --\u003e\n\n\u003c!-- BEGIN ASSIGNEE: pecigonzalo --\u003e\n@pecigonzalo\n\n- [x] Document and pin Git version requirement [#13168](https://github.com/sourcegraph/sourcegraph/issues/13168) 🎩\n- [x] Reduce the impact of unplanned work [#11904](https://github.com/sourcegraph/sourcegraph/issues/11904) \n- [x] k8s.sgdev.org: reset deploy-sourcegraph-dogfood-k8s using deploy-sourcegraph [#13120](https://github.com/sourcegraph/sourcegraph/issues/13120) \n- [x] Codecov coverage checks taking a long time [#13695](https://github.com/sourcegraph/sourcegraph/issues/13695) \n- [ ] ~dogfood-k8s: finalize migration over to new cluster~ [#13792](https://github.com/sourcegraph/sourcegraph/issues/13792) \n\u003c!-- END ASSIGNEE --\u003e\n\n\u003c!-- BEGIN ASSIGNEE: slimsag --\u003e\n@slimsag\n\n- [ ] ~sourcegraph/customer~ [#71](https://github.com/sourcegraph/customer/issues/71) 👩\n- [x] Update all images to alpine:3.12 [#13035](https://github.com/sourcegraph/sourcegraph/issues/13035) 🧶\n- [x] sourcegraph/customer [#94](https://github.com/sourcegraph/customer/issues/94) 👩\n- [x] Prevent usages of `alpine` with a linter [#13247](https://github.com/sourcegraph/sourcegraph/issues/13247) 🎩\n- [ ] ~sourcegraph/customer~ [#90](https://github.com/sourcegraph/customer/issues/90) 🐛👩\n- [x] sourcegraph/customer [#74](https://github.com/sourcegraph/customer/issues/74) 👩\n- [ ] ~Run e2e tests on bare-metal Buildkite agents on every commit to master (non-blocking)~ [#12339](https://github.com/sourcegraph/sourcegraph/issues/12339) \n- [ ] ~Run e2e \"regression\" tests on bare-metal Buildkite agents on every commit to master (non-blocking)~ [#12340](https://github.com/sourcegraph/sourcegraph/issues/12340) \n- [x] Put plan forward: Push site admins to use Docker Compose or Kubernetes for production deployments [#11828](https://github.com/sourcegraph/sourcegraph/issues/11828) \n- [ ] ~License report for syntect_server \u0026 its dependencies; remove syntaxes with questionable licenses~ [#11269](https://github.com/sourcegraph/sourcegraph/issues/11269) __1d__ 👩\n- [ ] ~sourcegraph/customer~ [#97](https://github.com/sourcegraph/customer/issues/97) 👩\n- [x] Stephen's Dhall PoC [#13798](https://github.com/sourcegraph/sourcegraph/issues/13798) \n- [x] sourcegraph/customer [#101](https://github.com/sourcegraph/customer/issues/101) 👩\n- [x] sourcegraph/customer [#96](https://github.com/sourcegraph/customer/issues/96) 👩\n- [x] sourcegraph/customer [#95](https://github.com/sourcegraph/customer/issues/95) 👩\n- [x] managed instances: overhaul / clarify / update customer-facing docs [#13705](https://github.com/sourcegraph/sourcegraph/pull/13705) :shipit:\n- [x] distribution: answer \"Why is there not a stable or latest Docker image tag?\" [#1435](https://github.com/sourcegraph/about/pull/1435) :shipit:\n\u003c!-- END ASSIGNEE --\u003e\n\n\u003c!-- BEGIN ASSIGNEE: uwedeportivo --\u003e\n@uwedeportivo: __2.00d__\n\n- [x] sourcegraph/customer [#95](https://github.com/sourcegraph/customer/issues/95) 👩\n- [ ] ~Repo-updater component always outputs debug logs~ [#13191](https://github.com/sourcegraph/sourcegraph/issues/13191) __1d__ [👩](https://app.hubspot.com/contacts/2762526/company/1712883009)🎩\n- [x] create deploy-sourcegraph to dhall record migration tool [#13306](https://github.com/sourcegraph/sourcegraph/issues/13306) __2d__ \n- [x] docker compose deployment ssh configuration docs [#13465](https://github.com/sourcegraph/sourcegraph/issues/13465) \n- [x] dhall: create \"base\" version of records and explicitly import into templating logic [#13336](https://github.com/sourcegraph/sourcegraph/issues/13336) \n- [x] dhall: customization architecture discussion [#13335](https://github.com/sourcegraph/sourcegraph/issues/13335) \n- [x] sourcegraph/customer [#82](https://github.com/sourcegraph/customer/issues/82) 👩\n- [x] sourcegraph/customer [#96](https://github.com/sourcegraph/customer/issues/96) 👩\n\u003c!-- END ASSIGNEE --\u003e\n\u003c!-- END WORK --\u003e\r\n\r\n#### Legend\r\n\r\n- 👩 Customer issue\r\n- 🐛 Bug\r\n- 🧶 Technical debt\r\n- 🎩 Quality of life\r\n- 🛠️ [Roadmap](https://docs.google.com/document/d/1cBsE9801DcBF9chZyMnxRdolqM_1c2pPyGQz15QAvYI/edit#heading=h.5nwl5fv52ess)\r\n- 🕵️ [Spike](https://en.wikipedia.org/wiki/Spike_(software_development))\r\n- 🔒 Security issue\r\n- :shipit: Pull Request\r\n","Number":12836,"URL":"https://github.com/sourcegraph/sourcegraph/issues/12836","State":"CLOSED","Repository":"sourcegraph/sourcegraph","Private":false,"Labels":["team/distribution","tracking"],"Assignees":["uwedeportivo","davejrt","slimsag","ggilmore","pecigonzalo","bobheadxi"],"Milestone":"3.20","Author":"pecigonzalo","CreatedAt":"2020-08-07T13:08:11Z","UpdatedAt":"0001-01-01T00:00:00Z","ClosedAt":"2020-09-21T14:21:49Z"},{"ID":"MDU6SXNzdWU2MTg0MzA1MTA=","Title":"Code intelligence: 3.17 tracking issue","Body":"### Status\r\n\r\n**Milestone Focus**: We are trying to increase adoption of precise code intelligence by implementing an auto-indexing strategy, improving the UI related to codeintel, and increasing performance of queries and index conversion, and expanding indexer support. We are improving stability of the precise code intel backend and ensuring it does not regress by implementing a set of integration tests. We are also expanding the code intel API surface with diagnostics, which is a critical part of code insights.\r\n\r\n### Availability\r\n\r\nPeriod is from **2020-05-20** to **2020-06-20**. Please write the days you won't be working and the number of working days for the period.\r\n\r\n- Eric: 21d (off memorial day 5/25)\r\n- Garo: 14d\r\n\r\n### Workload\r\n\r\n\u003c!-- LABEL: planning --\u003e\r\n\u003c!-- LABEL: in progress --\u003e\r\n\u003c!-- LABEL: blocked --\u003e\r\n\u003c!-- LABEL: review --\u003e\r\n\u003c!-- LABEL: not started --\u003e\r\n\u003c!-- LABEL: docs --\u003e\r\n\u003c!-- LABEL: specced --\u003e\r\n\u003c!-- LABEL: design --\u003e\r\n\u003c!-- LABEL: tracking --\u003e\r\n\u003c!-- BEGIN WORK --\u003e\n\u003c!-- BEGIN ASSIGNEE: efritz --\u003e\n@efritz\n\n- [x] Codeintel xrepo data is not updated properly [#11003](https://github.com/sourcegraph/sourcegraph/issues/11003) 🐛\n- [x] Add basic support for LSIF diagnostics [#10838](https://github.com/sourcegraph/sourcegraph/issues/10838) \n- [x] Infinitely processing malignant uploads [#10755](https://github.com/sourcegraph/sourcegraph/issues/10755) \n- [x] LSIF plaintext hover support [#7099](https://github.com/sourcegraph/sourcegraph/issues/7099) \n- [x] Improve LSIF root boundaries [#8383](https://github.com/sourcegraph/sourcegraph/issues/8383) \n- [ ] Create docs page for codeintel showcase repos [#9609](https://github.com/sourcegraph/sourcegraph/issues/9609) `docs` \n- [ ] Code intelligence integration tests [#10832](https://github.com/sourcegraph/sourcegraph/issues/10832) \n- [x] Update worker transaction bookkeeping [#10831](https://github.com/sourcegraph/sourcegraph/issues/10831) \n- [x] Connection between bundle manager and worker is flaky [#10913](https://github.com/sourcegraph/sourcegraph/issues/10913) 🐛\n- [x] Collapse precise-code-intel-api-server into frontend [#10873](https://github.com/sourcegraph/sourcegraph/issues/10873) \n- [x] Document LSIF data expectations [#9719](https://github.com/sourcegraph/sourcegraph/issues/9719) `docs` \n- [x] Automatic LSIF indexing [#10833](https://github.com/sourcegraph/sourcegraph/issues/10833) \n- [x] API for LSIF auto index records [#10834](https://github.com/sourcegraph/sourcegraph/issues/10834) \n- [x] UI for LSIF uploads (global scope) [#10835](https://github.com/sourcegraph/sourcegraph/issues/10835) \n- [x] UI for automatic LSIF indexing (repo scope) [#10836](https://github.com/sourcegraph/sourcegraph/issues/10836) \n- [x] UI for automatic LSIF indexing (global scope) [#10837](https://github.com/sourcegraph/sourcegraph/issues/10837) \n- [x] RFC 122: Integrate LSIF indexing into supportive Go and TypeScript repositories [#9288](https://github.com/sourcegraph/sourcegraph/issues/9288) \n- [x] Update and expand the code intelligence team roadmap [#9922](https://github.com/sourcegraph/sourcegraph/issues/9922) 🛠️\n- [x] Bundle manager janitor: do not stop on first error [#11006](https://github.com/sourcegraph/sourcegraph/issues/11006) \n- [ ] ~TypeScript cross-repository go to definition broken with LSIF~ [#9952](https://github.com/sourcegraph/sourcegraph/issues/9952) 🐛\n\u003c!-- END ASSIGNEE --\u003e\n\n\u003c!-- BEGIN ASSIGNEE: gbrik --\u003e\n@gbrik\n\n- [x] Write RFC for precise code intel mono repo support [#10087](https://github.com/sourcegraph/sourcegraph/issues/10087) `planning` \n- [ ] Prototype a new LSIF indexer for C++ based on clangd-indexer [#10175](https://github.com/sourcegraph/sourcegraph/issues/10175) `in progress` \n- [ ] ~Minor: Retry lsif index upload when clone is in progress~ [#9700](https://github.com/sourcegraph/sourcegraph/issues/9700) `in progress` \n- [ ] Index a super cool Go repo and its transitive dependencies [#9746](https://github.com/sourcegraph/sourcegraph/issues/9746) `blocked` \n- [x] Improve visual clarity and add CTAs re code intel [#10083](https://github.com/sourcegraph/sourcegraph/issues/10083) `planning` \n\u003c!-- END ASSIGNEE --\u003e\n\u003c!-- END WORK --\u003e\r\n\r\n#### Legend\r\n\r\n- 👩 Customer issue\r\n- 🐛 Bug\r\n- 🧶 Technical debt\r\n- 🛠️ [Roadmap](https://docs.google.com/document/d/1cBsE9801DcBF9chZyMnxRdolqM_1c2pPyGQz15QAvYI/edit#heading=h.5nwl5fv52ess)\r\n- 🕵️ [Spike](https://en.wikipedia.org/wiki/Spike_(software_development))\r\n- 🔒 Security issue\r\n- :shipit: Pull Request\r\n","Number":10687,"URL":"https://github.com/sourcegraph/sourcegraph/issues/10687","State":"CLOSED","Repository":"sourcegraph/sourcegraph","Private":false,"Labels":["team/code-intelligence","tracking"],"Assignees":["efritz","gbrik"],"Milestone":"3.17","Author":"efritz","CreatedAt":"2020-05-14T18:00:26Z","UpdatedAt":"0001-01-01T00:00:00Z","ClosedAt":"2020-06-18T21:24:47Z"},{"ID":"MDU6SXNzdWU2MjIxNTQ3NDk=","Title":"RFC 158: Code Intel UI Tracking Issue","Body":"Tracks work on [RFC 158](https://docs.google.com/document/d/1LkliTY4l-_S63hObBuiZ6g_izfF9IKrxnA9gEMK1FqA/edit#)\r\n\u003c!-- LABEL: design --\u003e\r\n\u003c!-- LABEL: specced --\u003e\r\n\u003c!-- BEGIN WORK --\u003e\u003c!-- END WORK --\u003e","Number":10891,"URL":"https://github.com/sourcegraph/sourcegraph/issues/10891","State":"OPEN","Repository":"sourcegraph/sourcegraph","Private":false,"Labels":["RFC-158","team/code-intelligence","tracking"],"Assignees":["gbrik"],"Milestone":"Backlog","Author":"gbrik","CreatedAt":"2020-05-20T23:55:21Z","UpdatedAt":"0001-01-01T00:00:00Z","ClosedAt":"0001-01-01T00:00:00Z"},{"ID":"MDU6SXNzdWU1NDk1MjA4MjM=","Title":"Core Services: 3.13 Tracking Issue","Body":"### Status\r\n\r\nThis tracking issue is **approved**.\r\n\r\n### Availability\r\n\r\nPeriod is the January 21st until February 17th. Please put in the days you won't be working and the number of working days for the period.\r\n\r\n- @keegancsmith **Not working:** 4th \u0026 5th February, **Availability:** 18d\r\n- @kzh **Availability** 20d\r\n- @mrnugget - **Not working:** 6th \u0026 7th February (presumably), **Availability:** 18d\r\n- @rvantonder 19d\r\n- @ryanslade **Availability** 20d\r\n- @tsenart 5d (for coding)\r\n- @unknwon **Not working:** Jan 24th (Chinese New Year), **Availability:** 19d\r\n\r\n### Planned work\r\n\r\n\u003c!-- BEGIN PLANNED WORK --\u003e\n@keegancsmith: __8.00d__\n\n- [x] e2e: log all e2e failures into central location for triage [#8026](https://github.com/sourcegraph/sourcegraph/issues/8026) __1d__ \n- [x] gitserver: Correctly report if repos are cloning after rebalance [#7970](https://github.com/sourcegraph/sourcegraph/issues/7970) __1d__ 🐛🕵️\n- [x] download button not shown for images [#7924](https://github.com/sourcegraph/sourcegraph/issues/7924) __0.5d__ \n- [x] gitserver: implement back-off on reclone operation [#7804](https://github.com/sourcegraph/sourcegraph/issues/7804) __1d__ [👩](https://app.hubspot.com/contacts/2762526/company/555146901)🐛\n- [x] Test and document src-expose on ec2 with docker-compose and startup [#7803](https://github.com/sourcegraph/sourcegraph/issues/7803) __1d__ [👩](https://app.hubspot.com/contacts/2762526/company/947819054)\n- [x] gitserver should auto-recover from corrupt repository clones [#6676](https://github.com/sourcegraph/sourcegraph/issues/6676) __1d__ [👩](https://app.hubspot.com/contacts/2762526/company/407948923)🐛🕵️\n- [x] repos: Stop reading repo.enabled [#3971](https://github.com/sourcegraph/sourcegraph/issues/3971) __0.5d__ 🧶\n- [x] Support internal CA or self-signed TLS certificates for all external communication [#71](https://github.com/sourcegraph/sourcegraph/issues/71) __2d__ 👩\n- [ ] ~zoekt: support indexing multiple branches in zoekt-archive-index~ [#7930](https://github.com/sourcegraph/sourcegraph/issues/7930) __2d__ [👩](https://app.hubspot.com/contacts/2762526/company/554338610)🕵️\n- [ ] ~Ref glob search perf followups~ [#7642](https://github.com/sourcegraph/sourcegraph/issues/7642) __2d__ 🧶\n- [ ] ~Code host fingerprinter~ [#7464](https://github.com/sourcegraph/sourcegraph/issues/7464) __1d__ 🕵️\n- [ ] ~Exclude directories from search results~ [#6870](https://github.com/sourcegraph/sourcegraph/issues/6870) __2d__ [👩](https://app.hubspot.com/contacts/2762526/company/464956351)\n- [ ] ~Gitlab OAuth certificate signed by unknown authority~ [#4652](https://github.com/sourcegraph/sourcegraph/issues/4652) __0.5d__ 🐛👩\n- [ ] ~Support SSH key credentials directly in external service configs~ [#3924](https://github.com/sourcegraph/sourcegraph/issues/3924) __2d__ 👩\n- [ ] ~docs: Ensure new arch for repo-updater is reflected in dev docs~ [#3911](https://github.com/sourcegraph/sourcegraph/issues/3911) __0.5d__ 🧶\n- [ ] ~docs: Document using an alternate clone URL for repos~ [#658](https://github.com/sourcegraph/sourcegraph/issues/658) __0.5d__ 🧶\n\n@kzh: __6.50d__\n\n- [x] Add BitBucket build status support in bitbucket-server-plugin [#8386](https://github.com/sourcegraph/sourcegraph/issues/8386) __?d__ 👩\n- [x] a8n/core: Support updating changesets on BitbucketServer [#7762](https://github.com/sourcegraph/sourcegraph/issues/7762) __1d__ 🛠️\n- [x] a8n: Move \"default branch\" check to execution of CampaignJob [#7725](https://github.com/sourcegraph/sourcegraph/issues/7725) __2d__ 🛠️\n- [x] a8n/core: Extend CreateCampaignInput to accept Branch and persist it [#7687](https://github.com/sourcegraph/sourcegraph/issues/7687) __2d__ 🛠️\n- [x] Password-reset link not rendered for non-admin users [#7520](https://github.com/sourcegraph/sourcegraph/issues/7520) __0.5d__ 🐛\n- [x] Error fetching commit author info from GraphQL API [#5335](https://github.com/sourcegraph/sourcegraph/issues/5335) __1d__ [👩](https://app.hubspot.com/contacts/2762526/company/814799425)🐛\n- [ ] ~Simplify Bitbucket Server plugin interaction with Sourcegraph~ [#7824](https://github.com/sourcegraph/sourcegraph/issues/7824) __3d__ \n- [ ] ~Forbidden - CSRF token invalid~ [#7368](https://github.com/sourcegraph/sourcegraph/issues/7368) __2d__ 🐛\n- [ ] ~Address repohascommitafter search filter performance bottleneck~ [#6745](https://github.com/sourcegraph/sourcegraph/issues/6745) __0.5d__ \n\n@mrnugget: __10.00d__\n\n- [x] a8n: failed creating PRs because 'assignee' doesn't exist [#8113](https://github.com/sourcegraph/sourcegraph/issues/8113) __1d__ 🐛\n- [x] Creating a manual campaign -\u003e unexpected draft mode [#8009](https://github.com/sourcegraph/sourcegraph/issues/8009) __?d__ [👩](https://app.hubspot.com/contacts/2762526/company/608245740)\n- [x] a8n: Updating partially published Campaigns is not supported [#7915](https://github.com/sourcegraph/sourcegraph/issues/7915) __2d__ 🐛\n- [x] Automation should never miss search results [#7861](https://github.com/sourcegraph/sourcegraph/issues/7861) __3d__ 🐛🧶\n- [x] a8n: Finish implementation of `src actions exec` [#7850](https://github.com/sourcegraph/sourcegraph/issues/7850) __3d__ 🛠️\n- [x] Send pings about Automation usage to Sourcegraph [#7711](https://github.com/sourcegraph/sourcegraph/issues/7711) __1d__ \n- [ ] ~Write C# LSIF indexer~ [#7760](https://github.com/sourcegraph/sourcegraph/issues/7760) __?d__ 🛠️\n- [x] ~a8n Spike: Add ability to \"stack diffs\" (RFC 92)~ [#7721](https://github.com/sourcegraph/sourcegraph/issues/7721) __3d__ 🛠️\n\n@rvantonder: __6.00d__\n\n- [x] Trailing backslash at end of expression: `` when searching for valid regexp [#7604](https://github.com/sourcegraph/sourcegraph/issues/7604) __1d__ 🐛👩\n- [x] Enforce warnings for unsupported parameters and filters in structural search [#7293](https://github.com/sourcegraph/sourcegraph/issues/7293) __1d__ 🧶\n- [x] Backend returns invalid filter chip with space \"lang:ignore list\" [#6498](https://github.com/sourcegraph/sourcegraph/issues/6498) __2d__ [👩](https://app.hubspot.com/contacts/2762526/company/419771425)🐛\n- [x] Impossible to search for colons in literal search [#6490](https://github.com/sourcegraph/sourcegraph/issues/6490) __2d__ 🐛\n- [x] ~search: design proposals for AND / OR / NOT expressions~ [#8346](https://github.com/sourcegraph/sourcegraph/issues/8346) __4d__ \n- [ ] ~Extract and dump type information for Dart LSIF~ [#7908](https://github.com/sourcegraph/sourcegraph/issues/7908) __4d__ 🛠️\n- [ ] ~search: Implement AND / OR / NOT for file contents~ [#7823](https://github.com/sourcegraph/sourcegraph/issues/7823) __?d__ \n- [ ] ~search filter `archived`/`fork` \"yes/no/only\" values are confusing~ [#7003](https://github.com/sourcegraph/sourcegraph/issues/7003) __4d__ [👩](https://app.hubspot.com/contacts/2762526/company/1749284052)🛠️\n\n@ryanslade: __8.00d__\n\n- [x] a8n: exposed token in the error message if create campaign failed [#8105](https://github.com/sourcegraph/sourcegraph/issues/8105) __?d__ 🐛\n- [x] sourcegraph/security-issues [#60](https://github.com/sourcegraph/security-issues/issues/60) __?d__ 🐛🔒\n- [x] Redact GitLab access token from error log message [#8078](https://github.com/sourcegraph/sourcegraph/issues/8078) __?d__ 🐛\n- [x] Add setting to enable read-only mode for automation for all Sourcegraph users [#8013](https://github.com/sourcegraph/sourcegraph/issues/8013) __?d__ [👩](https://app.hubspot.com/contacts/2762526/company/608245740)\n- [x] a8n/auth: Regex search/replace doesn't work in private repos [#7914](https://github.com/sourcegraph/sourcegraph/issues/7914) __1d__ 🐛\n- [x] Remove published_at fields from Campaign and ChangesetJob [#7782](https://github.com/sourcegraph/sourcegraph/issues/7782) __2d__ 🧶\n- [x] a8n/core: GraphQL API for an extended campaign list view [#7553](https://github.com/sourcegraph/sourcegraph/issues/7553) __2d__ 🛠️\n- [x] a8n/core: Expose labels of all changesets in campaign in GraphQL API [#7549](https://github.com/sourcegraph/sourcegraph/issues/7549) __1d__ \n- [x] a8n/core: Expose CI status on changesets [#7093](https://github.com/sourcegraph/sourcegraph/issues/7093) __2d__ 🛠️\n- [ ] ~a8n/core: Extend GraphQL API to include participant users involved in the campaign~ [#7552](https://github.com/sourcegraph/sourcegraph/issues/7552) __1d__ 🛠️\n- [ ] ~a8n/core: Expose comments of all changesets in campaign in GraphQL API~ [#7548](https://github.com/sourcegraph/sourcegraph/issues/7548) __2d__ 🛠️\n- [ ] ~Diagnose and fix slow /.api/registry/extensions endpoint~ [#7544](https://github.com/sourcegraph/sourcegraph/issues/7544) __1d__ 🧶\n- [ ] ~a8n: Heuristic syncing of Changesets and ChangesetEvents~ [#6388](https://github.com/sourcegraph/sourcegraph/issues/6388) __3d__ 🧶\n\n@tsenart: __3.50d__\n\n- [x] Use basic auth instead of query params for auth in github-proxy  [#8310](https://github.com/sourcegraph/sourcegraph/issues/8310) __0.5d__ 🧶\n- [ ] Core Services: 3.13 Tracking Issue [#7719](https://github.com/sourcegraph/sourcegraph/issues/7719) __?d__ \n- [x] Prevent upgrading more than one minor version at a time [#7702](https://github.com/sourcegraph/sourcegraph/issues/7702) __1d__ 🐛\n- [x] Redis AOF file grows unbounded due to frequent container restarts [#3300](https://github.com/sourcegraph/sourcegraph/issues/3300) __2d__ \n- [x] redis: Log spam warning when redis is loading the dataset in memory [#2904](https://github.com/sourcegraph/sourcegraph/issues/2904) __?d__ 🐛👩\n- [ ] ~Reject invalid externalURL with non-/ path~ [#7884](https://github.com/sourcegraph/sourcegraph/issues/7884) __0.5d__ 🐛\n\n@unknwon: __16.00d__\n\n- [x] External services documentation needs to be updated [#8288](https://github.com/sourcegraph/sourcegraph/issues/8288) __0.5d__ \n- [x] Make read:org permissions optional / dependent upon whether `allowOrgs` is specified [#8163](https://github.com/sourcegraph/sourcegraph/issues/8163) __1d__ [👩](https://app.hubspot.com/contacts/2762526/company/768958849)\n- [x] sourcegraph/security-issues [#61](https://github.com/sourcegraph/security-issues/issues/61) __0.5d__ 👩🔒\n- [x] Bitbucket Cloud external service doesn't respect custom URLs [#7990](https://github.com/sourcegraph/sourcegraph/issues/7990) __1d__ [👩](https://app.hubspot.com/contacts/2762526/company/557475593)\n- [x] authz code logs warnings about Redis returning nil values [#7912](https://github.com/sourcegraph/sourcegraph/issues/7912) __0.5d__ 🐛\n- [x] RFC 40: Move call to the Authz methods into application layer [#7878](https://github.com/sourcegraph/sourcegraph/issues/7878) __1d__ 🧶\n- [x] sourcegraph/security-issues [#55](https://github.com/sourcegraph/security-issues/issues/55) __1d__ 🔒\n- [x] RFC 40: Add unit tests for GraphQL APIs [#7748](https://github.com/sourcegraph/sourcegraph/issues/7748) __1d__ 🧶\n- [x] sourcegraph/security-issues [#54](https://github.com/sourcegraph/security-issues/issues/54) __1d__ 🔒\n- [x] Enable HTTP Strict Transport Security (HSTS) on sourcegraph.com (and all subdomains) [#7660](https://github.com/sourcegraph/sourcegraph/issues/7660) __0.5d__ 🔒\n- [x] It is not clear how to configure Sourcegraph to just access public repositories [#7587](https://github.com/sourcegraph/sourcegraph/issues/7587) __0.5d__ 🐛\n- [x] Enforce minimum password requirements [#7521](https://github.com/sourcegraph/sourcegraph/issues/7521) __0.5d__ 🔒\n- [x] RFC 40: Handle user deletion [#7302](https://github.com/sourcegraph/sourcegraph/issues/7302) __1d__ \n- [x] Match highlight at the end of a long result snippet freezes browser tab [#6489](https://github.com/sourcegraph/sourcegraph/issues/6489) __1d__ 🐛\n- [x] Querying repository by name with github.com prefix always returns empty string for name [#5125](https://github.com/sourcegraph/sourcegraph/issues/5125) __1.5d__ 🐛\n- [x] unused site setting git.cloneURLToRepositoryName [#3768](https://github.com/sourcegraph/sourcegraph/issues/3768) __0.5d__ 🧶\n- [x] postgresql: (Auto)tune DB pool sizes based on max_connections [#3473](https://github.com/sourcegraph/sourcegraph/issues/3473) __3d__ [👩](https://app.hubspot.com/contacts/2762526/company/419771425)\n- [ ] ~Make new pricing tiers reflected in feature access~ [#7927](https://github.com/sourcegraph/sourcegraph/issues/7927) __1d__ 🐛\n- [x] ~RFC 40: Add Prometheus metrics~ [#7827](https://github.com/sourcegraph/sourcegraph/issues/7827) __1d__ 🛠️\n- [x] ~sourcegraph/security-issues~ [#53](https://github.com/sourcegraph/security-issues/issues/53) __?d__ 🔒\n- [ ] ~Auth: explicit session invalidation~ [#1126](https://github.com/sourcegraph/sourcegraph/issues/1126) __2d__ 🔒\n\u003c!-- END PLANNED WORK --\u003e\r\n\r\n#### Legend\r\n\r\n- 👩 Customer issue\r\n- 🐛 Bug\r\n- 🧶 Technical debt\r\n- 🛠️ [Roadmap](https://docs.google.com/document/d/1cBsE9801DcBF9chZyMnxRdolqM_1c2pPyGQz15QAvYI/edit#heading=h.5nwl5fv52ess)\r\n- 🕵️ [Spike](https://en.wikipedia.org/wiki/Spike_(software_development))\r\n- 🔒 Security issue","Number":7719,"URL":"https://github.com/sourcegraph/sourcegraph/issues/7719","State":"CLOSED","Repository":"sourcegraph/sourcegraph","Private":false,"Labels":["planned/3.13","team/cloud","tracking"],"Assignees":["tsenart"],"Milestone":"3.13","Author":"tsenart","CreatedAt":"2020-01-14T11:59:17Z","UpdatedAt":"0001-01-01T00:00:00Z","ClosedAt":"2020-02-21T18:22:32Z"},{"ID":"MDU6SXNzdWU2ODQ3MjY2MzY=","Title":"Web: 3.20 Tracking issue","Body":"### Plan\r\n\r\n\u003c!--\r\nSummarize what the team wants to achieve this iteration.\r\n- What are the problems we want to solve or what information do we want to gather?\r\n- Why is solving those problems or gathering that information important?\r\n- How do we plan to solve those problems or gather that information?\r\n--\u003e\r\n\r\nFor 3.20, the web team continues on their focus started last iteration to improve UI/UX, consistency and discoverability in the web app. We want to implement @quinnkeast's improvements of the sign-in/sign-out flow. In the theme of improving discoverability, we want to kick off the project to improve browser extension discoverability ([RFC 221](https://docs.google.com/document/d/19f4xleYBU1zZZdqMmXlLmFxeR-fwEpOwTOgViOFOnyo/edit#heading=h.trqab8y0kufp)) so we can implement it in 3.21. This needs to be designed first, but from our retrospective learnings we will involve ourselves in the design process from the start.\r\n\r\nLeading to our medium term goal (2) of bringing the extensions platform into shape while connecting it with UI/UX improvements of the webapp, we will improve the UI/UX of the extensions registry, a project @AlicjaSuska has worked on and @tjkandala has done some work on as part of his onboarding. This is part of [RFC 209](https://docs.google.com/document/d/1I5BMEGp3QuB81AjSzLCQwq_XJV1sXevlU0lpB4O1pj8/edit#heading=h.trqab8y0kufp).\r\n\r\nWe also need to follow-up with a solution to test extensions with our new integration test suite, which is a prerequisite to have anything to test in the browser extension, important for our long-term goal around extensions and to allow other teams (code intel) to build on well-tested code.\r\n\r\n### Availability\r\n\r\nIf you have planned unavailability this iteration (e.g., vacation), you can note that here.\r\n\r\n- Felix: 2 weeks vacation 2020-09-07 - 2020-09-18\r\n\r\n### Tracked issues\r\n\r\n\u003c!-- BEGIN WORK --\u003e\n\u003c!-- BEGIN ASSIGNEE: Unassigned --\u003e\n@Unassigned\n\n- [ ] RFC 221 Tracking issue: Improve discoverability/awareness of the browser extension ([#14165](https://github.com/sourcegraph/sourcegraph/issues/14165)) \n\u003c!-- END ASSIGNEE --\u003e\n\n\u003c!-- BEGIN ASSIGNEE: felixfbecker --\u003e\n@felixfbecker: __1.00d__\n\n\nCompleted: __1.00d__\n- [x] (🏁 28 days ago) 'About Sourcegraph' and 'Help' pages should be opened in the separate tab ([~#12286~](https://github.com/sourcegraph/sourcegraph/issues/12286)) __0.5d__ \n- [x] (🏁 26 days ago) Rendering of Directory Children With Single Folder Is Confusing ([~#13231~](https://github.com/sourcegraph/sourcegraph/issues/13231)) __0.5d__ 🐛👩\n\u003c!-- END ASSIGNEE --\u003e\n\n\u003c!-- BEGIN ASSIGNEE: marekweb --\u003e\n@marekweb: __1.00d__\n\n- [ ] Investigate creation of Safari browser extension ([#13499](https://github.com/sourcegraph/sourcegraph/issues/13499)) __1d__ 🕵️\n\nCompleted\n- [x] (🏁 20 days ago) Add opt-in option for Firefox browser extension telemetry ([~#13377~](https://github.com/sourcegraph/sourcegraph/issues/13377)) \n- [x] (🏁 10 days ago) Produce a source code zip of Firefox add-on to faciliate compliance review ([~#12918~](https://github.com/sourcegraph/sourcegraph/issues/12918); PRs: ~[#12099](https://github.com/sourcegraph/sourcegraph/pull/12099)~) \n\u003c!-- END ASSIGNEE --\u003e\n\n\u003c!-- BEGIN ASSIGNEE: quinnkeast --\u003e\n@quinnkeast\n\n- [ ] Adding a repository with improper credentials does not properly warn the user.  ([#13634](https://github.com/sourcegraph/sourcegraph/issues/13634)) \n\u003c!-- END ASSIGNEE --\u003e\n\n\u003c!-- BEGIN ASSIGNEE: tjkandala --\u003e\n@tjkandala: __15.00d__\n\n- [ ] Implement UI changes on sign-in/sign-up form ([#13443](https://github.com/sourcegraph/sourcegraph/issues/13443)) __2d__ \n- [ ] Show error messages from third-party auth on sign-in page instead of on a plain text, white background plain HTML page ([#13442](https://github.com/sourcegraph/sourcegraph/issues/13442)) __2d__ \n- [ ] Remove sign out page ([#13440](https://github.com/sourcegraph/sourcegraph/issues/13440)) __0.5d__ \n- [ ] Create extensions for opening in additional editors - Atom, IntelliJ and Sublime Text ([#13270](https://github.com/sourcegraph/sourcegraph/issues/13270)) __0.5d__ \n\nCompleted: __10.00d__\n- [x] (🏁 20 days ago) Disable other extensions when sideloading (~[#13586](https://github.com/sourcegraph/sourcegraph/pull/13586)~) :shipit:\n- [x] (🏁 16 days ago) Improve command palette (~[#13305](https://github.com/sourcegraph/sourcegraph/pull/13305)~) :shipit:\n- [x] (🏁 16 days ago) Update toggle with new styling, add big toggle ([~#13272~](https://github.com/sourcegraph/sourcegraph/issues/13272)) __2.5d__ \n- [x] (🏁 14 days ago) Change language from \"Sign in with $AUTH_PROVIDER\" to \"Continue with $AUTH_PROVIDER\" ([~#13441~](https://github.com/sourcegraph/sourcegraph/issues/13441)) __0.5d__ \n- [x] (🏁 13 days ago) Improve the open-in-editor extension ([~#13474~](https://github.com/sourcegraph/sourcegraph/issues/13474)) \n- [x] (🏁 13 days ago) Last breadcrumb should not be a link on non-repo pages ([~#13651~](https://github.com/sourcegraph/sourcegraph/issues/13651)) __0.5d__ \n- [x] (🏁 today) Add custom confirmation popup when enabling the extension ([~#13664~](https://github.com/sourcegraph/sourcegraph/issues/13664)) __1d__ \n- [x] (🏁 today) Toggles on the extensions registry are higher on the z-axis than the command palette ([~#13781~](https://github.com/sourcegraph/sourcegraph/issues/13781)) __0.5d__ 🐛\n- [x] (🏁 today) RFC 209: Extensions Discoverability ([~#13329~](https://github.com/sourcegraph/sourcegraph/issues/13329); PRs: ~[#12810](https://github.com/sourcegraph/sourcegraph/pull/12810)~, ~[#13699](https://github.com/sourcegraph/sourcegraph/pull/13699)~) __4d__ \n- [x] (🏁 today) Some extensions need a dark mode variant ([~#13666~](https://github.com/sourcegraph/sourcegraph/issues/13666)) __1d__ \n\u003c!-- END ASSIGNEE --\u003e\n\u003c!-- END WORK --\u003e\r\n\r\n#### Legend\r\n\r\n- 👩 Customer issue\r\n- 🐛 Bug\r\n- 🧶 Technical debt\r\n- 🛠️ [Roadmap](https://docs.google.com/document/d/1cBsE9801DcBF9chZyMnxRdolqM_1c2pPyGQz15QAvYI/edit#heading=h.5nwl5fv52ess)\r\n- 🕵️ [Spike](https://en.wikipedia.org/wiki/Spike_(software_development))\r\n- 🔒 Security issue\r\n- :shipit: Pull Request\r\n","Number":13290,"URL":"https://github.com/sourcegraph/sourcegraph/issues/13290","State":"CLOSED","Repository":"sourcegraph/sourcegraph","Private":false,"Labels":["team/web","tracking"],"Assignees":null,"Milestone":"3.20","Author":"felixfbecker","CreatedAt":"2020-08-24T14:40:08Z","UpdatedAt":"0001-01-01T00:00:00Z","ClosedAt":"2020-09-28T10:52:34Z"},{"ID":"MDU6SXNzdWU2NTY3NTkxMDg=","Title":"RFC 196 Tracking Issue","Body":"Tracks work on [RFC 196](https://docs.google.com/document/d/1e10UPwmI16VAQleBK81EQMMGTRBgihI1vwL5I6kicrA)\r\n### Workload\r\n\r\n\u003c!-- BEGIN WORK --\u003e\u003c!-- END WORK --\u003e\r\n\r\n#### Legend\r\n\r\n- 👩 Customer issue\r\n- 🐛 Bug\r\n- 🧶 Technical debt\r\n- 🛠️ [Roadmap](https://docs.google.com/document/d/1cBsE9801DcBF9chZyMnxRdolqM_1c2pPyGQz15QAvYI/edit#heading=h.5nwl5fv52ess)\r\n- 🕵️ [Spike](https://en.wikipedia.org/wiki/Spike_(software_development))\r\n- 🔒 Security issue\r\n- :shipit: Pull Request\r\n","Number":12166,"URL":"https://github.com/sourcegraph/sourcegraph/issues/12166","State":"CLOSED","Repository":"sourcegraph/sourcegraph","Private":false,"Labels":["RFC-196","planned/3.19","tracking"],"Assignees":["chayim"],"Milestone":"","Author":"chayim","CreatedAt":"2020-07-14T16:55:29Z","UpdatedAt":"0001-01-01T00:00:00Z","ClosedAt":"2020-07-23T13:59:58Z"},{"ID":"MDU6SXNzdWU1NjkxMDkzOTM=","Title":"Core Services: 3.14 Tracking Issue","Body":"### Status\r\n\r\nThis tracking issue is active.\r\n\r\n### Availability\r\n\r\nPeriod is the February 21st until March 17th. Please put in the days you won't be working and the number of working days for the period.\r\n\r\n- @keegancsmith: 17d. Not working 24th February.\r\n- @mrnugget: 18d\r\n- @rvantonder: 18d\r\n- @ryanslade: 18d\r\n- @tsenart: 5d\r\n- @unknwon: 18d\r\n\r\n### Planned work\r\n\r\n\u003c!-- BEGIN PLANNED WORK --\u003e\n@keegancsmith: __0.50d__\n\n- [ ] indexed-search: more prometheus metrics for search [#9111](https://github.com/sourcegraph/sourcegraph/issues/9111) __?d__ \n- [ ] allow cloning a specific branch only [#8875](https://github.com/sourcegraph/sourcegraph/issues/8875) __?d__ 👩\n- [x] sourcegraph/customer [#32](https://github.com/sourcegraph/customer/issues/32) __?d__ 👩\n- [x] Search became slower [#8589](https://github.com/sourcegraph/sourcegraph/issues/8589) __?d__ \n- [x] repohascommitafter:'1 week ago' type:repo .+ returns empty result set [#8568](https://github.com/sourcegraph/sourcegraph/issues/8568) __?d__ 👩\n- [x] sourcegraph/customer [#19](https://github.com/sourcegraph/customer/issues/19) __?d__ [👩](https://app.hubspot.com/contacts/2762526/company/554275594)\n- [x] db: drop repos.enabled column in 3.15 [#7815](https://github.com/sourcegraph/sourcegraph/issues/7815) __0.5d__ 🧶\n- [x] CLA bot broken [#5839](https://github.com/sourcegraph/sourcegraph/issues/5839) __?d__ 🐛\n- [ ] ~simple traces for search~ [#8655](https://github.com/sourcegraph/sourcegraph/issues/8655) __?d__ \n- [ ] ~Update docs for \"Adding repositories already cloned to disk\"~ [#8412](https://github.com/sourcegraph/sourcegraph/issues/8412) __2d__ [👩](https://app.hubspot.com/contacts/2762526/company/554275594)🐛\n- [ ] ~Docs page for \"using Sourcegraph with a monorepo\"~ [#8411](https://github.com/sourcegraph/sourcegraph/issues/8411) __1d__ [👩](https://app.hubspot.com/contacts/2762526/company/554275594)\n- [ ] ~docs: Ensure new arch for repo-updater is reflected in dev docs~ [#3911](https://github.com/sourcegraph/sourcegraph/issues/3911) __0.5d__ 🧶\n- [ ] ~docs: Document using an alternate clone URL for repos~ [#658](https://github.com/sourcegraph/sourcegraph/issues/658) __0.5d__ 🧶\n\n@mrnugget: __3.00d__\n\n- [x] Updating a Campaign with same diff/base-branch for already-merged changeset fails [#8846](https://github.com/sourcegraph/sourcegraph/issues/8846) __2d__ 🐛\n- [x] Webhook always initialized with example.com [#8827](https://github.com/sourcegraph/sourcegraph/issues/8827) __0.5d__ 🐛\n- [x] Handle Campaigns with description = NULL in database [#8772](https://github.com/sourcegraph/sourcegraph/issues/8772) __0.5d__ 🐛\n- [x] sourcegraph/customer [#24](https://github.com/sourcegraph/customer/issues/24) __?d__ 👩\n- [ ] sourcegraph/customer [#18](https://github.com/sourcegraph/customer/issues/18) __?d__ 👩\n- [ ] ~a8n: Support Bitbucket build status webhooks~ [#8480](https://github.com/sourcegraph/sourcegraph/issues/8480) __1d__ \n- [ ] ~campaigns: Improve UX of using the src CLI with Automation~ [#8479](https://github.com/sourcegraph/sourcegraph/issues/8479) __3d__ 🛠️\n- [ ] ~campaigns Spike: Executing src actions on a server~ [#7723](https://github.com/sourcegraph/sourcegraph/issues/7723) __4d__ 🛠️\n\n@rvantonder: __7.00d__\n\n- [x] Use search index when @commit is specified and matches HEAD [#9022](https://github.com/sourcegraph/sourcegraph/issues/9022) __1d__ 👩\n- [x] Add search metrics for time-to-first-result [#8306](https://github.com/sourcegraph/sourcegraph/issues/8306) __3d__ \n- [x] Should archives and forks be excluded by default? [#7004](https://github.com/sourcegraph/sourcegraph/issues/7004) __3d__ 👩\n- [ ] ~search: Implement AND / OR for file contents~ [#8567](https://github.com/sourcegraph/sourcegraph/issues/8567) __12d__ 👩🛠️\n- [ ] ~Address repohascommitafter search filter performance bottleneck~ [#6745](https://github.com/sourcegraph/sourcegraph/issues/6745) __1d__ 👩🕵️\n\n@ryanslade: __10.50d__\n\n- [x] Newly created changesets are not synced for hours [#8909](https://github.com/sourcegraph/sourcegraph/issues/8909) __?d__ 🐛\n- [x] GitHub changeset CI status not consistently correct [#8787](https://github.com/sourcegraph/sourcegraph/issues/8787) __0.5d__ 🐛\n- [x] Changeset syncing should not occur on the frontend [#8587](https://github.com/sourcegraph/sourcegraph/issues/8587) __1.5d__ 🧶\n- [x] Redactor can be too aggressive [#8586](https://github.com/sourcegraph/sourcegraph/issues/8586) __0.5d__ 🐛\n- [x] campaigns: Allow filtering/sorting of campaigns and changesets in campaigns [#8462](https://github.com/sourcegraph/sourcegraph/issues/8462) __3d__ \n- [x] Diagnose and fix slow /.api/registry/extensions endpoint [#7544](https://github.com/sourcegraph/sourcegraph/issues/7544) __1d__ 🧶\n- [x] campaigns: Heuristic syncing of Changesets and ChangesetEvents [#6388](https://github.com/sourcegraph/sourcegraph/issues/6388) __4d__ 🧶\n- [ ] ~Instrument changeset syncing~ [#8588](https://github.com/sourcegraph/sourcegraph/issues/8588) __1.5d__ \n- [ ] ~Use shared and configurable rate limiter~ [#8546](https://github.com/sourcegraph/sourcegraph/issues/8546) __1d__ \n\n@tsenart: __0.00d__\n\n- [x] RFC 113: Implement `PermsFetcher` interface for Bitbucket Server authz provider [#8891](https://github.com/sourcegraph/sourcegraph/issues/8891) __?d__ \n- [x] Core Services: 3.14 Tracking Issue [#8552](https://github.com/sourcegraph/sourcegraph/issues/8552) __?d__ \n- [ ] ~Reject invalid externalURL with non-/ path~ [#7884](https://github.com/sourcegraph/sourcegraph/issues/7884) __0.5d__ 🐛\n\n@unknwon: __9.50d__\n\n- [x] Filter out soft-deleted repositories when syncing permissions [#9076](https://github.com/sourcegraph/sourcegraph/issues/9076) __0.5d__ \n- [ ] ~RFC 113: Implement `PermsFetcher` interface for GitHub authz provider~ [#8890](https://github.com/sourcegraph/sourcegraph/issues/8890) __?d__ \n- [x] RFC 113: Implement `authz.PermsScheduler` [#8708](https://github.com/sourcegraph/sourcegraph/issues/8708) __1d__ 🛠️\n- [x] RFC 113: Change `authzFilter` to adopt new ways to check permissions [#8630](https://github.com/sourcegraph/sourcegraph/issues/8630) __1d__ 🛠️\n- [x] \"head\u003e\" string shows up in long-line search results [#8619](https://github.com/sourcegraph/sourcegraph/issues/8619) __?d__ 🐛\n- [ ] RFC 113: Instrumenting `PermsSyncer` [#8612](https://github.com/sourcegraph/sourcegraph/issues/8612) __0.5d__ 🛠️\n- [x] RFC 113: Schedule permissions syncing for new repositories added [#8609](https://github.com/sourcegraph/sourcegraph/issues/8609) __0.5d__ 🛠️\n- [x] RFC 113: Make `provider` column nullable for perms table [#8608](https://github.com/sourcegraph/sourcegraph/issues/8608) __0.5d__ 🛠️\n- [x] RFC 113: Implement `authz.PermsStore.SetUserPermissions` method [#8607](https://github.com/sourcegraph/sourcegraph/issues/8607) __0.5d__ 🛠️\n- [x] Ambiguous association between permissions and authz provider [#8597](https://github.com/sourcegraph/sourcegraph/issues/8597) __0.5d__ \n- [x] repo-updater: Updates every repository on every syncer sync [#8501](https://github.com/sourcegraph/sourcegraph/issues/8501) __1d__ 🐛👩\n- [x] RFC 113: Implement `PermsFetcher` interface for GitLab authz provider [#8492](https://github.com/sourcegraph/sourcegraph/issues/8492) __1d__ 🛠️\n- [x] RFC 113: Implement `authz.PermsSyncer` [#8376](https://github.com/sourcegraph/sourcegraph/issues/8376) __2d__ 🛠️\n- [x] Issue using SAML auth provider with Jumpcloud [#2143](https://github.com/sourcegraph/sourcegraph/issues/2143) __0.5d__ \n- [x] ~RFC 113: Change default user mapping bind type to username~ [#8611](https://github.com/sourcegraph/sourcegraph/issues/8611) __0.5d__ 🛠️\n- [ ] ~RFC 113: Schedule permissions syncing upon user log in~ [#8610](https://github.com/sourcegraph/sourcegraph/issues/8610) __0.5d__ 🛠️\n- [ ] ~Use serializable transactions for updating permissions~ [#7877](https://github.com/sourcegraph/sourcegraph/issues/7877) __2d__ 🕵️\n- [ ] ~Forbidden - CSRF token invalid~ [#7368](https://github.com/sourcegraph/sourcegraph/issues/7368) __2d__ 🐛\n\n@uwedeportivo: __4.00d__\n\n- [x] kubernetes: admin service debug page discovers endpoints [#8654](https://github.com/sourcegraph/sourcegraph/issues/8654) __4d__ \n\u003c!-- END PLANNED WORK --\u003e\r\n\r\n#### Legend\r\n\r\n- 👩 Customer issue\r\n- 🐛 Bug\r\n- 🧶 Technical debt\r\n- 🛠️ [Roadmap](https://docs.google.com/document/d/1cBsE9801DcBF9chZyMnxRdolqM_1c2pPyGQz15QAvYI/edit#heading=h.5nwl5fv52ess)\r\n- 🕵️ [Spike](https://en.wikipedia.org/wiki/Spike_(software_development))\r\n- 🔒 Security issue","Number":8552,"URL":"https://github.com/sourcegraph/sourcegraph/issues/8552","State":"CLOSED","Repository":"sourcegraph/sourcegraph","Private":false,"Labels":["planned/3.14","team/cloud","tracking"],"Assignees":["tsenart"],"Milestone":"3.14","Author":"tsenart","CreatedAt":"2020-02-21T18:18:51Z","UpdatedAt":"0001-01-01T00:00:00Z","ClosedAt":"2020-03-18T12:09:16Z"}],"Issues":[{"ID":"MDU6SXNzdWU3MDM3MzM2NzY=","Title":"Move the single container dogfood deployment to the dogfood k8s cluster","Body":"Having an entire cluster for this deployment should not be required, we can deploy this resource in its own namespace or even in separate nodes in the same cluster if required.\r\n\r\n\r\n#### Tasks\r\n- [x] Deploy to new `dogfood` cluster\r\n- [x] Migrate database\r\n- [x] Migrate config\r\n- [x] Update DNS\r\n- [x] Update docs\r\n- [x] Remove old deployment\r\n","Number":13916,"URL":"https://github.com/sourcegraph/sourcegraph/issues/13916","State":"CLOSED","Repository":"sourcegraph/sourcegraph","Private":false,"Labels":["estimate/2d","team/distribution"],"Assignees":["pecigonzalo"],"Milestone":"3.21","Author":"pecigonzalo","CreatedAt":"2020-09-17T16:23:21Z","UpdatedAt":"0001-01-01T00:00:00Z","ClosedAt":"2020-09-29T12:06:19Z"},{"ID":"MDU6SXNzdWU3MDM3NDE2MzM=","Title":"Delete the big data clusters","Body":"The big data clusters are quite expensive and currently share space with our production clusters.\r\nWe want to separate these clusters to the shared dev project or a specific project for them.\r\n\r\nThere are 2 clusters:\r\n- bigdata\r\n- megakube\r\n\r\n#### Tasks\r\n- [x] Delete megakube\r\n- [x] ~~Create a new cluster with Terraform~~\r\n- [x] Backup bigdata cluster volumes\r\n- [x] Migrate bigdata snapshot to the new cluster location\r\n- [x] ~~Add documentation on how to bootstrap a bigdata cluster~~\r\n- [x] ~~Test docs~~\r\n- [x] Delete old cluster\r\n- [x] Cleanup any lingering volumes, snapshots or images","Number":13918,"URL":"https://github.com/sourcegraph/sourcegraph/issues/13918","State":"CLOSED","Repository":"sourcegraph/sourcegraph","Private":false,"Labels":["estimate/5d","planned/3.21","team/distribution"],"Assignees":["pecigonzalo"],"Milestone":"3.21","Author":"pecigonzalo","CreatedAt":"2020-09-17T16:35:22Z","UpdatedAt":"0001-01-01T00:00:00Z","ClosedAt":"2020-09-29T15:50:37Z"},{"ID":"MDU6SXNzdWU2OTI1MjY2MDc=","Title":"infer project root automatically if not specified","Body":"Right now users are required to specify the project root using the --project-root command line flag, but this is almost always $(pwd). If not supplied, we should use the working directory.","Number":15,"URL":"https://github.com/sourcegraph/lsif-clang/issues/15","State":"CLOSED","Repository":"sourcegraph/lsif-clang","Private":false,"Labels":["enhancement","planned/3.20","team/code-intelligence"],"Assignees":["gbrik"],"Milestone":"3.21","Author":"gbrik","CreatedAt":"2020-09-03T23:58:59Z","UpdatedAt":"0001-01-01T00:00:00Z","ClosedAt":"2020-10-01T16:26:02Z"},{"ID":"MDU6SXNzdWU3MTE3ODAxNDU=","Title":"Sourcegraph should log and email important encryption events","Body":"Part of security audit requirements involves process tracking.  These practices require at a minimum the following emails should be sent out as part of these operations - indicating events of interest.\r\n\r\n**Job submission** - Once an encryption (including key rotation) job has been submitted, an email will be sent to the site admin, confirming this operation has been scheduled.  The email would include a link to the administration page allowing cancelling this job. The reason for this need, is to solve the security concern whereby a bad actor might gain authentication to Sourcegraph. This event should also be logged as an event_log.\r\n\r\n**Job start** - At the beginning of the encryption process itself, an email is sent to the site-admin. This event should also be logged as an event_log.\r\n\r\n**Job completion** - Upon the completion of the encryption operation, an email would similarly be sent to the site-admin.  The added advantage of this element, is that it supports site-admins opting to re-encrypt data immediately in the rare need where this is occurring. This event should also be logged as an event_log.","Number":14303,"URL":"https://github.com/sourcegraph/sourcegraph/issues/14303","State":"OPEN","Repository":"sourcegraph/sourcegraph","Private":false,"Labels":["RFC-214","team/cloud","team/security"],"Assignees":null,"Milestone":"","Author":"chayim","CreatedAt":"2020-09-30T09:19:03Z","UpdatedAt":"0001-01-01T00:00:00Z","ClosedAt":"0001-01-01T00:00:00Z"},{"ID":"MDU6SXNzdWU3MDI5ODMyODk=","Title":"release steps: automate CHANGELOG version header creation","Body":"Today our release process https://github.com/sourcegraph/sourcegraph/issues/13374 requires we manually edit the CHANGELOG to change \"Unreleased\" to the current version and add a new section for \"Unreleased\" that is empty:\r\n\r\n\u003e - [x] Add a new section `## 3.MINOR` to [CHANGELOG.md](https://github.com/sourcegraph/sourcegraph/blob/main/CHANGELOG.md#unreleased) immediately under `## Unreleased changes`. Add new empty sections under `## Unreleased changes` ([example](https://github.com/sourcegraph/sourcegraph/pull/2323)).\r\n\u003e - [x] Commit this CHANGELOG edit to `main` using a PR. \r\n\u003e - [x] Create the `3.20` branch off the CHANGELOG commit in the previous step: `git branch 3.20 \u0026\u0026 git push origin 3.20`.\r\n\r\nThese steps should be automated as part of our release scripts.","Number":13873,"URL":"https://github.com/sourcegraph/sourcegraph/issues/13873","State":"OPEN","Repository":"sourcegraph/sourcegraph","Private":false,"Labels":["estimate/2d","planned/3.21","team/distribution"],"Assignees":["bobheadxi"],"Milestone":"3.21","Author":"slimsag","CreatedAt":"2020-09-16T18:28:25Z","UpdatedAt":"0001-01-01T00:00:00Z","ClosedAt":"0001-01-01T00:00:00Z"},{"ID":"MDU6SXNzdWU3MDMwNjYyNTU=","Title":"RFC 201: Use auto-configurator","Body":"This is part of [RFC 201: Auto-indexer build configuration](https://docs.google.com/document/d/1NPQs1s814LZjNXjPuavqC1N7hZR192DNtmSBmAeH9UY).\r\n\r\nRun the auto-indexer written in https://github.com/sourcegraph/sourcegraph/issues/13897 in the index scheduler to replace the old \"has a go.mod\" heuristic. This should only be used when there is not an explicit configuration in the repository.","Number":13898,"URL":"https://github.com/sourcegraph/sourcegraph/issues/13898","State":"OPEN","Repository":"sourcegraph/sourcegraph","Private":false,"Labels":["RFC-201","team/code-intelligence"],"Assignees":["efritz"],"Milestone":"3.21","Author":"efritz","CreatedAt":"2020-09-16T20:51:50Z","UpdatedAt":"0001-01-01T00:00:00Z","ClosedAt":"0001-01-01T00:00:00Z"},{"ID":"MDU6SXNzdWU3MDYzNTY0MTc=","Title":"dbworker: Pass sql options to TransactableHandle","Body":"It would be nice if there was a way to customize how the transaction is created by the worker.\r\nWe have a case where we need to change the serialization level of that transaction to `Read Committed` instead of `Serializable`.\r\nUnless perhaps the dbworker package is sensitive to transaction isolation levels?","Number":14044,"URL":"https://github.com/sourcegraph/sourcegraph/issues/14044","State":"CLOSED","Repository":"sourcegraph/sourcegraph","Private":false,"Labels":["team/code-intelligence"],"Assignees":["efritz"],"Milestone":"3.21","Author":"asdine","CreatedAt":"2020-09-22T12:51:43Z","UpdatedAt":"0001-01-01T00:00:00Z","ClosedAt":"2020-09-24T14:12:23Z"},{"ID":"MDU6SXNzdWU3MDI5Nzk0Mzg=","Title":"release steps: stop posting milestone triage messages ","Body":"Today our release process has us posting these messages to most GitHub issues before the release https://github.com/sourcegraph/sourcegraph/issues/13792#issuecomment-692254942\r\n\r\n\u003e Dear all,\r\n\u003e \r\n\u003e This is your release captain speaking. 🚂🚂🚂\r\n\u003e \r\n\u003e Branch cut for the 3.20 release is scheduled for tomorrow.\r\n\u003e \r\n\u003e Is this issue / PR going to make it in time? Please change the milestone accordingly.\r\n\u003e When in doubt, reach out!\r\n\u003e \r\n\u003e Thank you\r\n\r\nI have multiple issues with this:\r\n\r\n1. It makes releases eventful and the wording appears to be putting pressure to land a change ASAP (\"release is tomorrow, is this going to make it?\") which is not what I want.\r\n2. It is spammy, and I do not think many people take action on it.\r\n\r\nMy proposal is to stop posting these messages all together and remove that step/script from our release process:\r\n\r\n\u003e - [x] Use `./dev/release-ping.sh` to ping teammates who have open issues or PRs in the milestone to ask them to triage those that won't make it into the release.\r\n\u003e ...\r\n\u003e - [ ] Review [all other open issues in the milestone](https://github.com/issues?utf8=%E2%9C%93\u0026q=is%3Aopen+is%3Aissue+archived%3Afalse+org%3Asourcegraph+-label%3Arelease-blocker+milestone%3A3.20) and ask assignees to triage them to a different milestone (preferring Backlog).\r\n\r\nIndividual teams are then responsible for updating milestones on issues are part of their planning - which they are (or are not) already doing today.\r\n\r\n---\r\n\r\nRelated Slack thread https://sourcegraph.slack.com/archives/C02FSM7DU/p1600112057111500\r\n\r\n@efritz says:\r\n\r\n\u003e Have/do engineers find the branch-cut-imminent reminder being posted to each open issue in the milestone useful?\r\n\r\n@rvantonder says:\r\n\r\n\u003e No.\r\n\r\n@unknwon says:\r\n\r\n\u003e For individual issues, it is useful, but the email spam it causes outweighs the usefulness for me.\r\n\r\n@efritz says:\r\n\r\n\u003e How do you find it useful? I’d like to understand the benefit others see in it.\r\n\r\n@unknwon says:\r\n\r\n\u003e Personally I use it as a signal to post a status update comment, basically decide should I\r\n\u003e 1. Put into backlog if priority dropped\r\n\u003e 2. Move to candidate list for next iteration if still a priority but no bandwidth\r\n\u003e 3. I'm currently working on it as last few items for the iteration, confident to ship, ignore the comment (also true for items only meaningful for Sourcegraph Cloud, which doesn't really care the branch cut).\r\n\u003e With that said, current \"reminder comments\"  is not the only way to achieve what I've been using it for. (so if it annoys most of us, I'm positive to remove it)\r\n\r\n@efritz says:\r\n\r\n\u003e That makes sense. Do you think it’s a better reminder on the issue rather than having some other signal (branch cut is on calendar, announced in slack, etc) that won’t necessarily stick itself inside of an issue discussion? \r\n\r\n@keegancsmith says:\r\n\r\n\u003e I think in theory the idea is if your issue was supposed to be completed in that milestone, you should hopefully have everyone closed or just one or two that get commented on. So this encourages breaking down longer issues into smaller issues which just target a single milestone. The downside of this is it somewhat dictates how you manage and plan your issues, the upside is when looking at the issues as an outsider for a milestone you can be confident is the expectation is to actually get all that work done.\r\n\r\ncc @sourcegraph/distribution please discuss","Number":13871,"URL":"https://github.com/sourcegraph/sourcegraph/issues/13871","State":"CLOSED","Repository":"sourcegraph/sourcegraph","Private":false,"Labels":["estimate/2d","team/distribution"],"Assignees":["bobheadxi"],"Milestone":"3.21","Author":"slimsag","CreatedAt":"2020-09-16T18:21:37Z","UpdatedAt":"0001-01-01T00:00:00Z","ClosedAt":"2020-09-29T12:39:50Z"},{"ID":"MDU6SXNzdWU3MDMwNDI2MTA=","Title":"RFC 235: Cleanup","Body":"This is part of [RFC 235: Move LSIF data to Postgres](https://docs.google.com/document/d/1Y9p29hK8xrPUTvBdWqP9uAHDg3JLV-HCaxsbCo9-YHQ).\r\n\r\nRemove code that is dead after all of the observable changes described in the RFC have been merged.","Number":13890,"URL":"https://github.com/sourcegraph/sourcegraph/issues/13890","State":"OPEN","Repository":"sourcegraph/sourcegraph","Private":false,"Labels":["RFC-235","estimate/1d","team/code-intelligence"],"Assignees":["efritz"],"Milestone":"3.21","Author":"efritz","CreatedAt":"2020-09-16T20:11:53Z","UpdatedAt":"0001-01-01T00:00:00Z","ClosedAt":"0001-01-01T00:00:00Z"},{"ID":"MDU6SXNzdWU3MDYzNjc0NzM=","Title":"RFC 211: Add alert if repo sync jobs are not consumed","Body":"RFC211: Add an alert if the number of queued jobs in our external_service_sync_jobs table grows too large\r\n\r\nTBD whether this should be a hard limit (easy) or when it is trending upwards for some period of time (harder)\r\n\r\n","Number":14045,"URL":"https://github.com/sourcegraph/sourcegraph/issues/14045","State":"OPEN","Repository":"sourcegraph/sourcegraph","Private":false,"Labels":["RFC-211","estimate/1d","team/cloud","team/cloud/milestone-1"],"Assignees":["asdine"],"Milestone":"Cloud 2020-09-23","Author":"ryanslade","CreatedAt":"2020-09-22T13:06:13Z","UpdatedAt":"0001-01-01T00:00:00Z","ClosedAt":"0001-01-01T00:00:00Z"},{"ID":"MDU6SXNzdWU3MDMwMzU4NzA=","Title":"RFC 235: Add migration infrastructure to codeintel database","Body":"This is part of [RFC 235: Move LSIF data to Postgres](https://docs.google.com/document/d/1Y9p29hK8xrPUTvBdWqP9uAHDg3JLV-HCaxsbCo9-YHQ).\r\n\r\nCopy the infrastructure to migrate the frontend database for use on the codeintel database.","Number":13885,"URL":"https://github.com/sourcegraph/sourcegraph/issues/13885","State":"CLOSED","Repository":"sourcegraph/sourcegraph","Private":false,"Labels":["RFC-235","estimate/1d","team/code-intelligence"],"Assignees":["efritz"],"Milestone":"3.21","Author":"efritz","CreatedAt":"2020-09-16T20:00:11Z","UpdatedAt":"0001-01-01T00:00:00Z","ClosedAt":"2020-10-02T14:56:50Z"},{"ID":"MDU6SXNzdWU3MDI1MDY5NDM=","Title":"renovate-downstream: refine action trigger","Body":"These conditions don't seem sufficient to express \"run this action when buildkite passes\":\r\n\r\nhttps://github.com/sourcegraph/sourcegraph/blob/main/.github/workflows/renovate-downstream.yml#L2-L11\r\n\r\nIt seems to be running _way_ more frequently than actual pushes, I suspect other actions are causing github to indicate that a commit status has changed. It's also causing the sourcegraph bot user to hit api limits","Number":13842,"URL":"https://github.com/sourcegraph/sourcegraph/issues/13842","State":"CLOSED","Repository":"sourcegraph/sourcegraph","Private":false,"Labels":["planned/3.21","team/distribution"],"Assignees":["bobheadxi"],"Milestone":"3.21","Author":"bobheadxi","CreatedAt":"2020-09-16T06:53:31Z","UpdatedAt":"0001-01-01T00:00:00Z","ClosedAt":"2020-09-16T12:48:07Z"},{"ID":"MDU6SXNzdWU2NjgyNTY3NjE=","Title":"sourcegraph/customer","Body":"REDACTED","Number":71,"URL":"https://github.com/sourcegraph/customer/issues/71","State":"OPEN","Repository":"sourcegraph/customer","Private":true,"Labels":["planned/3.20","planned/3.21"],"Assignees":["slimsag"],"Milestone":"3.21","Author":"slimsag","CreatedAt":"2020-07-30T00:31:56Z","UpdatedAt":"0001-01-01T00:00:00Z","ClosedAt":"0001-01-01T00:00:00Z"},{"ID":"MDU6SXNzdWU3MDMwNDE4MDU=","Title":"RFC 235: Update worker to write to Postgres","Body":"This is part of [RFC 235: Move LSIF data to Postgres](https://docs.google.com/document/d/1Y9p29hK8xrPUTvBdWqP9uAHDg3JLV-HCaxsbCo9-YHQ).\r\n\r\nTarget postgres for writes from within the code intel worker.\r\n\r\nThis issue must follow https://github.com/sourcegraph/sourcegraph/issues/13886 and https://github.com/sourcegraph/sourcegraph/issues/13887.","Number":13889,"URL":"https://github.com/sourcegraph/sourcegraph/issues/13889","State":"OPEN","Repository":"sourcegraph/sourcegraph","Private":false,"Labels":["RFC-235","estimate/0.5d","team/code-intelligence"],"Assignees":["efritz"],"Milestone":"3.21","Author":"efritz","CreatedAt":"2020-09-16T20:10:31Z","UpdatedAt":"0001-01-01T00:00:00Z","ClosedAt":"0001-01-01T00:00:00Z"},{"ID":"MDU6SXNzdWU2NzkyODc5MTc=","Title":"🚚 LSIF-Go Delivery","Body":"The goal of this task is to ship LSIF-go v1.0 to customers:\r\n\r\n\u003c!--\r\nThis is unrelated to lsif-go, it's about dependency building\r\n1. [Index 5 OSS Go repos](https://github.com/sourcegraph/sourcegraph/issues/9746)\r\n--\u003e\r\n\r\n1. Fix any outstanding bugs and issues for LSIF-go.\r\n1. Benchmark and test LSIF-go for performance, determine if there are any bottlenecks that need to be resolved.\r\n1. Work with the three existing customers below to deploy LSIF-go successfully and work out any potential technical blockers or usability issues so that LSIF-go can be used by all customers as part of a wide release.\r\n\r\n- [ ] Customer 1:  https://github.com/sourcegraph/customer/issues/76\r\n- [ ] Customer 2: https://github.com/sourcegraph/customer/issues/77\r\n- [x] Customer 3: https://github.com/sourcegraph/customer/issues/78\r\n\r\nOnce this is complete for all three we will mark LSIF-go as stable and ready for general availability.","Number":13015,"URL":"https://github.com/sourcegraph/sourcegraph/issues/13015","State":"OPEN","Repository":"sourcegraph/sourcegraph","Private":false,"Labels":["estimate/5d","lsif-go","planned/3.20","team/code-intelligence"],"Assignees":["efritz","aidaeology"],"Milestone":"3.21","Author":"aidaeology","CreatedAt":"2020-08-14T17:06:43Z","UpdatedAt":"0001-01-01T00:00:00Z","ClosedAt":"0001-01-01T00:00:00Z"},{"ID":"MDU6SXNzdWU3MTE3NzcwNjI=","Title":"Sourcegraph should encrypt rotate customer token encrypted data","Body":"Once customers have their [key rotation token](https://github.com/sourcegraph/sourcegraph/issues/14299) to Sourcegraph, we should re-encrypt their data in the background, using the new encryption key.","Number":14302,"URL":"https://github.com/sourcegraph/sourcegraph/issues/14302","State":"OPEN","Repository":"sourcegraph/sourcegraph","Private":false,"Labels":["RFC-214","team/cloud","team/security"],"Assignees":null,"Milestone":"","Author":"chayim","CreatedAt":"2020-09-30T09:15:05Z","UpdatedAt":"0001-01-01T00:00:00Z","ClosedAt":"0001-01-01T00:00:00Z"},{"ID":"MDU6SXNzdWU3MDc3NTQ0MzE=","Title":"add \"symbols\" to service deploy-sourcegraph-dhall, with support for sourcegraph.com customizations","Body":"Part of https://github.com/sourcegraph/sourcegraph/issues/13340","Number":14130,"URL":"https://github.com/sourcegraph/sourcegraph/issues/14130","State":"OPEN","Repository":"sourcegraph/sourcegraph","Private":false,"Labels":["dhall","planned/3.21","team/distribution"],"Assignees":["ggilmore"],"Milestone":"3.21","Author":"ggilmore","CreatedAt":"2020-09-23T23:57:31Z","UpdatedAt":"0001-01-01T00:00:00Z","ClosedAt":"0001-01-01T00:00:00Z"},{"ID":"MDU6SXNzdWU3MTA4NDE2Nzc=","Title":"RFC 211: Number of concurrent syncers should be configurable","Body":"Currently the number is hardcoded to 3.\r\n\r\nWe could use the config package to configure this but we need to investigate whether this could cause a deadlock on service startup. Config is loaded via an http endpoint on `frontend` however `frontend` communicates with `repo-updater`. Does this cause a circular dependency?\r\n","Number":14268,"URL":"https://github.com/sourcegraph/sourcegraph/issues/14268","State":"CLOSED","Repository":"sourcegraph/sourcegraph","Private":false,"Labels":["RFC-211","estimate/0.5d","team/cloud"],"Assignees":["ryanslade"],"Milestone":"Cloud 2020-09-23","Author":"ryanslade","CreatedAt":"2020-09-29T07:31:09Z","UpdatedAt":"0001-01-01T00:00:00Z","ClosedAt":"2020-10-01T10:35:05Z"},{"ID":"MDU6SXNzdWU2ODMyMDM0MjI=","Title":"Investigate effort for Bazel integration","Body":"Many prospects and customers (such as ....) rely on Bazel broadly across their organization to build and manage their projects, and we need to build an integration that can support the more complex monorepos structures and workflows. Bazel support also opens the door to two other important features: remote development and automated refactoring. \r\n\r\nThis spike is for researching the development effort required for building integration with code intelligence tools.  To start we will limit the scope of this work to basic code intelligence. Specifically we need to know how Bazel transitive dependencies/dependents info can be used to provide cross-repository/package references in basic code intel.\r\n\r\n","Number":13202,"URL":"https://github.com/sourcegraph/sourcegraph/issues/13202","State":"OPEN","Repository":"sourcegraph/sourcegraph","Private":false,"Labels":["estimate/1d","feature-request","planned/3.20","spike","team/code-intelligence"],"Assignees":["gbrik"],"Milestone":"3.21","Author":"aidaeology","CreatedAt":"2020-08-21T02:01:54Z","UpdatedAt":"0001-01-01T00:00:00Z","ClosedAt":"0001-01-01T00:00:00Z"},{"ID":"MDU6SXNzdWU3MTMwNTg3ODU=","Title":"Code Intel - LSIF Indexing CNCF effort tracking","Body":"Our goal is to make our best effort with the tools we have today to index as many repos as possible to give CNCF a great code intel experience. This issue will serve as a central point to track our efforts for this project.\r\n\r\n- [ ] Index all Go repos by 2020-10-05\r\n\r\n- [ ] Index all C++ repos by 2020-10-05\r\n\r\n- [ ] Index all Typescript repos by 2020-10-05\r\n\r\n\r\nRelated issues:\r\n[#14318](https://github.com/sourcegraph/sourcegraph/issues/14318)\r\n[#14343 ](https://github.com/sourcegraph/sourcegraph/issues/14343)\r\n\r\nList of repos and their status: [https://docs.google.com/spreadsheets/d/125x9ayF7irnQGnWSwRg5nFoU23fsIt37bIeBmpjYNBY/edit#gid=0](https://docs.google.com/spreadsheets/d/125x9ayF7irnQGnWSwRg5nFoU23fsIt37bIeBmpjYNBY/edit#gid=0)\r\n","Number":14348,"URL":"https://github.com/sourcegraph/sourcegraph/issues/14348","State":"OPEN","Repository":"sourcegraph/sourcegraph","Private":false,"Labels":["partner","team/code-intelligence","unplanned"],"Assignees":["aidaeology"],"Milestone":"3.21","Author":"macraig","CreatedAt":"2020-10-01T17:48:48Z","UpdatedAt":"0001-01-01T00:00:00Z","ClosedAt":"0001-01-01T00:00:00Z"},{"ID":"MDU6SXNzdWU3MDM2NTYxNDU=","Title":"RFC 235: Add code intel postgres image","Body":"This is part of [RFC 235: Move LSIF data to Postgres](https://docs.google.com/document/d/1Y9p29hK8xrPUTvBdWqP9uAHDg3JLV-HCaxsbCo9-YHQ).\r\n\r\nTag a new postgres image to use as the code intel database.","Number":13912,"URL":"https://github.com/sourcegraph/sourcegraph/issues/13912","State":"CLOSED","Repository":"sourcegraph/sourcegraph","Private":false,"Labels":["RFC-235","estimate/0.5d","team/code-intelligence"],"Assignees":["efritz"],"Milestone":"3.21","Author":"efritz","CreatedAt":"2020-09-17T14:44:30Z","UpdatedAt":"0001-01-01T00:00:00Z","ClosedAt":"2020-09-18T15:12:44Z"},{"ID":"MDU6SXNzdWU3MDM5NjM0OTQ=","Title":"Remove syntax highlighting for GraphQL, INI file, TOML, and Perforce","Body":"## Why remove syntax highlighting for these languages?\r\n\r\n[A review](https://github.com/sourcegraph/sourcegraph/issues/11269) of syntect_servers' included syntax definitions found the syntaxes we include for four languages have questionable licenses:\r\n\r\n- **GraphQL**: No license. Cannot legally use/include, period. https://github.com/dncrews/GraphQL-SublimeText3/issues/11\r\n- **INI files**: No traceable authorship/license. Cannot legally use/include, period. https://github.com/clintberry/sublime-text-2-ini#credits\r\n- **TOML**: Trail of authorship, but not open-source / has no license. Cannot legally use/include under any circumstances. https://github.com/lmno/TOML/issues/4\r\n- **Perforce**: GPLv2 licensed. Could include, but would require a fair amount of engineering effort to not statically link syntax definitions OR would require licensing syntect_server itself under GPLv2, which I am strongly opposed to. https://github.com/textmate/perforce.tmbundle#licensing\r\n\r\n## How we plan to add them back\r\n\r\nI fully recognize that losing syntax highlighting for these languages, particularly the first three, sucks.\r\n\r\nIt is my hope that anyone will take up the task of writing a syntax definition for these languages - which could be quite fun and can be done completely independently of Sourcegraph either in TextMate or Sublime Text. Once one exists that has a standard license used in every other syntax definition out there ([Apache, BSD, MIT, or the Common License used in TextMate grammars](https://github.com/slimsag/Packages#license)), then we can include it in syntect_server and Sourcegraph easily.\r\n\r\nTo add syntax highlighting for one of these languages, you will need to write one of the following:\r\n\r\n- A `.sublime-syntax` grammar https://www.sublimetext.com/docs/3/syntax.html\r\n- Or a TextMate `.tmLanguage` grammar https://macromates.com/manual/en/language_grammars\r\n\r\nThere are many resources online for how to develop and test these right in Sublime or TextMate, and you can find many examples in the syntaxes we currently include in https://github.com/slimsag/Packages#license","Number":13933,"URL":"https://github.com/sourcegraph/sourcegraph/issues/13933","State":"OPEN","Repository":"sourcegraph/sourcegraph","Private":false,"Labels":["planned/3.21","team/distribution"],"Assignees":["slimsag"],"Milestone":"3.21","Author":"slimsag","CreatedAt":"2020-09-17T23:03:31Z","UpdatedAt":"0001-01-01T00:00:00Z","ClosedAt":"0001-01-01T00:00:00Z"},{"ID":"MDU6SXNzdWU3MDYzODAzNDU=","Title":"RFC 211: Remove completed jobs from external_service_sync_jobs table","Body":"We should clean up old jobs occasionally\r\n\r\nInvestigate whether this can be done in SQL or via a background process running in repo-updater.\r\n\r\nWe don't need old completed jobs all.\r\nWe should perhaps keep the most recent error for each external service.\r\n","Number":14048,"URL":"https://github.com/sourcegraph/sourcegraph/issues/14048","State":"CLOSED","Repository":"sourcegraph/sourcegraph","Private":false,"Labels":["RFC-211","estimate/0.5d","team/cloud","team/cloud/milestone-1"],"Assignees":["asdine"],"Milestone":"Cloud 2020-09-23","Author":"ryanslade","CreatedAt":"2020-09-22T13:22:22Z","UpdatedAt":"0001-01-01T00:00:00Z","ClosedAt":"2020-09-30T15:04:41Z"},{"ID":"MDU6SXNzdWU2NzAwOTY3ODE=","Title":"codeintel: git diffing fails graphql requests related to force-pushed commits","Body":"The LSIF GraphQL resolvers have the following high-level flow:\r\n\r\n- Based on the repository, path, commit C1, and requested indexer name, determine the set of uploads/dumps that can answer these queries. Suppose this returns a single upload at commit C2 (this can return zero or more uploads in practice).\r\n- Transform the request path and position wrt C1 into the path and position wrt C2 by running it backwards through the diff of C1...C2.\r\n- Query the bundle with the adjusted path\r\n- Adjust the resulting paths and positions wrt C2 into the path and position wrt C1 by running it forwards through the diff of C1...C2.\r\n\r\nIf there was a force-push that removes commit C2 from the code host between the index and the query, we will make a request to gitserver for a commit that doesn't exist. This will cause an error to be returned by the resolver. We should instead eat this error during step 2 and move on to the next candidate bundle.","Number":12588,"URL":"https://github.com/sourcegraph/sourcegraph/issues/12588","State":"OPEN","Repository":"sourcegraph/sourcegraph","Private":false,"Labels":["debt","good first issue","team/code-intelligence"],"Assignees":["efritz"],"Milestone":"3.21","Author":"efritz","CreatedAt":"2020-07-31T18:33:14Z","UpdatedAt":"0001-01-01T00:00:00Z","ClosedAt":"0001-01-01T00:00:00Z"},{"ID":"MDU6SXNzdWU3MDMwMzUzNTA=","Title":"RFC 235: Configure connection to codeintel database","Body":"This is part of [RFC 235: Move LSIF data to Postgres](https://docs.google.com/document/d/1Y9p29hK8xrPUTvBdWqP9uAHDg3JLV-HCaxsbCo9-YHQ).\r\n\r\nUpdate the database utilities to connect to _either_ the existing frontend database or the code intel database. Connect to the code intel database as well as the existing frontend database from the following services to ensure that environments configured in https://github.com/sourcegraph/sourcegraph/issues/13883 were done so correctly.\r\n\r\n- enterprise/precise-code-intel-bundle-manager\r\n- enterprise/precise-code-intel-worker\r\n- enterprise/frontend\r\n\r\nThis issue must follow https://github.com/sourcegraph/sourcegraph/issues/13883.","Number":13884,"URL":"https://github.com/sourcegraph/sourcegraph/issues/13884","State":"CLOSED","Repository":"sourcegraph/sourcegraph","Private":false,"Labels":["RFC-235","estimate/0.5d","team/code-intelligence"],"Assignees":["efritz"],"Milestone":"3.21","Author":"efritz","CreatedAt":"2020-09-16T19:59:18Z","UpdatedAt":"0001-01-01T00:00:00Z","ClosedAt":"2020-10-02T23:49:25Z"},{"ID":"MDU6SXNzdWU3MDMwMzM2MDc=","Title":"RFC 235: Add code intel postgres container","Body":"This is part of [RFC 235: Move LSIF data to Postgres](https://docs.google.com/document/d/1Y9p29hK8xrPUTvBdWqP9uAHDg3JLV-HCaxsbCo9-YHQ).\r\n\r\nUpdate the following environments to configure a new database container, and ensure that the frontend has credentials to the new database. This needs to be done before we change code to read the new variables.\r\n\r\n- [x] server environment\r\n- [x] pure docker\r\n- [x] docker-compose environment\r\n- [x] k8s template environment\r\n- [x] configure postgres in cloud environment\r\n\r\nThis issue must follow https://github.com/sourcegraph/sourcegraph/issues/13912.","Number":13883,"URL":"https://github.com/sourcegraph/sourcegraph/issues/13883","State":"CLOSED","Repository":"sourcegraph/sourcegraph","Private":false,"Labels":["RFC-235","estimate/1d","team/code-intelligence"],"Assignees":["efritz"],"Milestone":"3.21","Author":"efritz","CreatedAt":"2020-09-16T19:56:21Z","UpdatedAt":"0001-01-01T00:00:00Z","ClosedAt":"2020-10-02T22:07:53Z"},{"ID":"MDU6SXNzdWU3MDMwNTM4ODc=","Title":"RFC 201: Write a JSONC index configuration format parser","Body":"This is part of [RFC 201: Auto-indexer build configuration](https://docs.google.com/document/d/1NPQs1s814LZjNXjPuavqC1N7hZR192DNtmSBmAeH9UY).\r\n\r\nWrite the datatypes for the index configuration as well as unmarshalling routines to convert from JSONC to these types.","Number":13892,"URL":"https://github.com/sourcegraph/sourcegraph/issues/13892","State":"CLOSED","Repository":"sourcegraph/sourcegraph","Private":false,"Labels":["RFC-201","team/code-intelligence"],"Assignees":["efritz"],"Milestone":"3.21","Author":"efritz","CreatedAt":"2020-09-16T20:31:01Z","UpdatedAt":"0001-01-01T00:00:00Z","ClosedAt":"2020-10-01T21:30:54Z"},{"ID":"MDU6SXNzdWU3MDMwMzgxNjU=","Title":"RFC 235: Update bundle manager to read from Postgres","Body":"This is part of [RFC 235: Move LSIF data to Postgres](https://docs.google.com/document/d/1Y9p29hK8xrPUTvBdWqP9uAHDg3JLV-HCaxsbCo9-YHQ).\r\n\r\nUpdate the bundle manager database layer to read from postgres, then fall back to data on disk. This should be done before actually writing to Postgres so that we can ensure that _someone_ is reading the new data instead of blackholing writes.\r\n\r\nThis issue must follow https://github.com/sourcegraph/sourcegraph/issues/13884.","Number":13886,"URL":"https://github.com/sourcegraph/sourcegraph/issues/13886","State":"OPEN","Repository":"sourcegraph/sourcegraph","Private":false,"Labels":["RFC-235","estimate/0.5d","team/code-intelligence"],"Assignees":["efritz"],"Milestone":"3.21","Author":"efritz","CreatedAt":"2020-09-16T20:04:01Z","UpdatedAt":"0001-01-01T00:00:00Z","ClosedAt":"0001-01-01T00:00:00Z"},{"ID":"MDU6SXNzdWU3MTE3NzIzMzc=","Title":"Customers should be able to specify their key rotation encryption token","Body":"For Sourcegraph Cloud, a customer should be able to specify a second token, via the Sourcegraph UI, for key rotation. This token will is to be stored, encrypted in the database, using the existing Sourcegraph token to encrypt this customer-specific token. ","Number":14299,"URL":"https://github.com/sourcegraph/sourcegraph/issues/14299","State":"OPEN","Repository":"sourcegraph/sourcegraph","Private":false,"Labels":["RFC-214","team/cloud","team/security"],"Assignees":null,"Milestone":"","Author":"chayim","CreatedAt":"2020-09-30T09:08:40Z","UpdatedAt":"0001-01-01T00:00:00Z","ClosedAt":"0001-01-01T00:00:00Z"},{"ID":"MDU6SXNzdWU3MDc3NTY4Njc=","Title":"sourcegraph.com: write bot to incorporate image tag updates in dhall pipeline","Body":"Part of https://github.com/sourcegraph/sourcegraph/issues/13340\r\n\r\nWe can't regress on sourcegraph.com running the latest sourcegraph/sourcegraph images. However, currently Renovate only updates YAML, but we want to enforce that the dhall generation pipeline is the source of truth.\r\n\r\nWe'll need to write a small tool that translates Kubernetes image definitions into the structured dhall representation (needed for modifications) e.x: \r\n\r\n```\r\n\"index.sourcegraph.net/sourcegraph/frontend:insiders@sha256:123tsf\"` -\u003e \r\n\r\n{ name = \"sourcegraph/frontend\", tag = \"insiders\", digest = Some \"123tsf\", index = Some \"index.sourcegraph.net\" }`\r\n```\r\n\r\nWe'll need to run this tool after every commit to https://github.com/sourcegraph/deploy-sourcegraph-dot-com. It'll need to:\r\n\r\n1) pick up the image tag changes (if Renovate made a commit)\r\n2) modify the dhall generation pipeline file to pick up this change (this be achieved by importing the dhall expression from a relative file, or use environment variables)\r\n3) commit this change back to the repository (will be a no-op if the images don't change - this is how we avoid an endless loop) \r\n4) re-run the entire dhall generation pipeline to create the modified Kubernetes YAML files","Number":14133,"URL":"https://github.com/sourcegraph/sourcegraph/issues/14133","State":"OPEN","Repository":"sourcegraph/sourcegraph","Private":false,"Labels":["dhall","estimate/1.5d","planned/3.21","team/distribution"],"Assignees":["uwedeportivo"],"Milestone":"3.21","Author":"ggilmore","CreatedAt":"2020-09-24T00:04:35Z","UpdatedAt":"0001-01-01T00:00:00Z","ClosedAt":"0001-01-01T00:00:00Z"},{"ID":"MDU6SXNzdWU2ODMwMTc4MDI=","Title":"Repo-updater component always outputs debug logs","Body":"https://app.hubspot.com/contacts/2762526/company/1712883009\r\nhttps://sourcegraph.atlassian.net/jira/servicedesk/projects/SG/queues/custom/1/SG-313\r\n\r\nWe deploy sourcegraph to kubernetes, similar to https://github.com/sourcegraph/deploy-sourcegraph\r\nOne component of this deployment, is repo-updater https://github.com/sourcegraph/sourcegraph/tree/master/cmd/repo-updater\r\n\r\nThis depends on a log library log15 https://github.com/inconshreveable/log15 which:\r\n\r\n1. Logs all levels by default\r\n2. Logs non-info levels to stderr\r\n\r\nThis means that repo-updater always writes its debug-level logs to stderr\r\nA side effect of this is that when sending logs from our k8s deployment to stackdriver, all the debug messages are logged with 'ERROR' severity, since they appear on stderr and stackdriver has no other way to get insight into the severity.\r\nThis causes our logging dashboards to show 100,000s of errors each day.\r\n\r\nThere are two solutions that would work really well for us either seperately or together, with the first being the easiest to implement:\r\n\r\n1. Allow configuring log level for repo-updater via a flag (so we can suppress debug output in our deployment, and generally save on logging expenses)\r\n2. Use structured (json) logging, with a valid severity field (which stackdriver and other logging systems can parse) (https://cloud.google.com/run/docs/logging#special-fields)","Number":13191,"URL":"https://github.com/sourcegraph/sourcegraph/issues/13191","State":"CLOSED","Repository":"sourcegraph/sourcegraph","Private":false,"Labels":["customer","estimate/1d","planned/3.20","planned/3.21","quality-of-life","team/distribution"],"Assignees":["uwedeportivo"],"Milestone":"3.21","Author":"christinelovett","CreatedAt":"2020-08-20T18:48:24Z","UpdatedAt":"0001-01-01T00:00:00Z","ClosedAt":"2020-09-30T17:22:51Z"},{"ID":"MDU6SXNzdWU3MTE3NzE0MDA=","Title":"Customers should be able to specify their own encryption token","Body":"For Sourcegraph Cloud, a customer should have the ability to specify their own encryption token, in the Sourcegraph UI. This token will is to be stored, encrypted in the database, using the existing Sourcegraph token to encrypt this customer-specific token.","Number":14298,"URL":"https://github.com/sourcegraph/sourcegraph/issues/14298","State":"OPEN","Repository":"sourcegraph/sourcegraph","Private":false,"Labels":["RFC-214","team/cloud","team/security"],"Assignees":null,"Milestone":"","Author":"chayim","CreatedAt":"2020-09-30T09:07:18Z","UpdatedAt":"0001-01-01T00:00:00Z","ClosedAt":"0001-01-01T00:00:00Z"},{"ID":"MDU6SXNzdWU3MDc3NTkyMzQ=","Title":"write instructions for how to modify sourcegraph.com's dhall generation pipleine","Body":"- dev environment setup\r\n- structure of configuration object \r\n- how to modify individual fields with `with` statements","Number":14136,"URL":"https://github.com/sourcegraph/sourcegraph/issues/14136","State":"OPEN","Repository":"sourcegraph/sourcegraph","Private":false,"Labels":["dhall","planned/3.21","team/distribution"],"Assignees":["ggilmore"],"Milestone":"3.21","Author":"ggilmore","CreatedAt":"2020-09-24T00:11:30Z","UpdatedAt":"0001-01-01T00:00:00Z","ClosedAt":"0001-01-01T00:00:00Z"},{"ID":"MDU6SXNzdWU3MDI2MzAxMjM=","Title":"RFC-214: Transparent encryption and decryption for all tables that contain secrets or tokens","Body":"This is a placeholder issue for tracking implementing transparent encryption and decryption for all tables.\r\n\r\nTODO:\r\n- [x] secrets: add scanners for transparent encryption and decryption #14191\r\n- [x] Package rename #14213\r\n- [ ] ~~DB migration~~ (@unknwon: Not worth it because extra ephemeral changes need to be made just for DB migration to work)\r\n- [x] Transparent encryption and decryption for all tables that contain secrets or tokens #14214","Number":13851,"URL":"https://github.com/sourcegraph/sourcegraph/issues/13851","State":"CLOSED","Repository":"sourcegraph/sourcegraph","Private":false,"Labels":["RFC-214","estimate/1d","team/cloud","team/cloud/milestone-1","team/security"],"Assignees":["unknwon","daxmc99"],"Milestone":"Cloud 2020-09-23","Author":"unknwon","CreatedAt":"2020-09-16T10:02:43Z","UpdatedAt":"0001-01-01T00:00:00Z","ClosedAt":"2020-09-30T04:06:45Z"},{"ID":"MDU6SXNzdWU2ODA2MDI4NDY=","Title":"doesn't build on ubuntu 18.04","Body":"after successfully configuring the project, running make yields the following errors\r\n```\r\nCMakeFiles/lsif-clang.dir/IndexerMain.cpp.o:(.data.rel.ro._ZTIN4llvm2cl15OptionValueCopyINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEEE[_ZTIN4llvm2cl15OptionValueCopyINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEEE]+0x10): undefined reference to `typeinfo for llvm::cl::GenericOptionValue'\r\nCMakeFiles/lsif-clang.dir/IndexerMain.cpp.o:(.data.rel.ro+0x10): undefined reference to `typeinfo for clang::tooling::FrontendActionFactory'\r\n../libclangDaemonFork.a(IndexAction.cpp.o):(.data.rel.ro+0x10): undefined reference to `typeinfo for clang::PPCallbacks'\r\n../libclangDaemonFork.a(IndexAction.cpp.o):(.data.rel.ro+0x28): undefined reference to `typeinfo for clang::ASTFrontendAction'\r\n../libclangDaemonFork.a(SourceCode.cpp.o):(.data.rel.ro._ZTIN4llvm13FormatAdapterINS_5ErrorEEE[_ZTIN4llvm13FormatAdapterINS_5ErrorEEE]+0x10): undefined reference to `typeinfo for llvm::detail::format_adapter'\r\n../libclangDaemonFork.a(SourceCode.cpp.o):(.data.rel.ro._ZTIN4llvm6detail23provider_format_adapterIRiEE[_ZTIN4llvm6detail23provider_format_adapterIRiEE]+0x10): undefined reference to `typeinfo for llvm::detail::format_adapter'\r\n../libclangDaemonFork.a(SourceCode.cpp.o):(.data.rel.ro._ZTIN4llvm6detail30stream_operator_format_adapterIN5clang6clangd14OffsetEncodingEEE[_ZTIN4llvm6detail30stream_operator_format_adapterIN5clang6clangd14OffsetEncodingEEE]+0x10): undefined reference to `typeinfo for llvm::detail::format_adapter'\r\n../libclangDaemonFork.a(SourceCode.cpp.o):(.data.rel.ro._ZTIN4llvm6detail23provider_format_adapterIRNS_11SmallStringILj128EEEEE[_ZTIN4llvm6detail23provider_format_adapterIRNS_11SmallStringILj128EEEEE]+0x10): undefined reference to `typeinfo for llvm::detail::format_adapter'\r\n../libclangDaemonFork.a(SourceCode.cpp.o):(.data.rel.ro._ZTIN4llvm6detail23provider_format_adapterINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEEE[_ZTIN4llvm6detail23provider_format_adapterINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEEE]+0x10): undefined reference to `typeinfo for llvm::detail::format_adapter'\r\n../libclangDaemonFork.a(SourceCode.cpp.o):(.data.rel.ro._ZTIN4llvm6detail23provider_format_adapterIRNS_9StringRefEEE[_ZTIN4llvm6detail23provider_format_adapterIRNS_9StringRefEEE]+0x10): more undefined references to `typeinfo for llvm::detail::format_adapter' follow\r\n../libclangDaemonFork.a(FuzzyMatch.cpp.o):(.data.rel.ro._ZTIN4llvm13format_objectIJiEEE[_ZTIN4llvm13format_objectIJiEEE]+0x10): undefined reference to `typeinfo for llvm::format_object_base'\r\n../libclangDaemonFork.a(FuzzyMatch.cpp.o):(.data.rel.ro._ZTIN4llvm13format_objectIJicEEE[_ZTIN4llvm13format_objectIJicEEE]+0x10): undefined reference to `typeinfo for llvm::format_object_base'\r\n../libclangDaemonFork.a(Logger.cpp.o):(.data.rel.ro._ZTIN4llvm6detail23provider_format_adapterIcEE[_ZTIN4llvm6detail23provider_format_adapterIcEE]+0x10): undefined reference to `typeinfo for llvm::detail::format_adapter'\r\n../libclangDaemonFork.a(Logger.cpp.o):(.data.rel.ro._ZTIN4llvm6detail23provider_format_adapterIRNSt6chrono10time_pointINS2_3_V212system_clockENS2_8durationIlSt5ratioILl1ELl1000000000EEEEEEEE[_ZTIN4llvm6detail23provider_format_adapterIRNSt6chrono10time_pointINS2_3_V212system_clockENS2_8durationIlSt5ratioILl1ELl1000000000EEEEEEEE]+0x10): undefined reference to `typeinfo for llvm::detail::format_adapter'\r\n../libclangDaemonFork.a(Logger.cpp.o):(.data.rel.ro._ZTIN4llvm6detail30stream_operator_format_adapterIRKNS_19formatv_object_baseEEE[_ZTIN4llvm6detail30stream_operator_format_adapterIRKNS_19formatv_object_baseEEE]+0x10): undefined reference to `typeinfo for llvm::detail::format_adapter'\r\n../libclangDaemonFork.a(URI.cpp.o):(.data.rel.ro._ZTIN4llvm6detail23provider_format_adapterIRNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEEE[_ZTIN4llvm6detail23provider_format_adapterIRNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEEE]+0x10): undefined reference to `typeinfo for llvm::detail::format_adapter'\r\n../libclangDaemonFork.a(CanonicalIncludes.cpp.o):(.data.rel.ro+0x10): undefined reference to `typeinfo for clang::CommentHandler'\r\n../libclangDaemonFork.a(Headers.cpp.o):(.data.rel.ro+0x10): undefined reference to `typeinfo for clang::PPCallbacks'\r\ncollect2: error: ld returned 1 exit status\r\nindexer/CMakeFiles/lsif-clang.dir/build.make:146: recipe for target 'bin/lsif-clang' failed\r\nmake[2]: *** [bin/lsif-clang] Error 1\r\nCMakeFiles/Makefile2:197: recipe for target 'indexer/CMakeFiles/lsif-clang.dir/all' failed\r\nmake[1]: *** [indexer/CMakeFiles/lsif-clang.dir/all] Error 2\r\nMakefile:148: recipe for target 'all' failed\r\nmake: *** [all] Error 2\r\n```\r\n\r\ni was unable to reproduce this on a fresh ubuntu 18.04 docker image, waiting on user to provide more environment information","Number":3,"URL":"https://github.com/sourcegraph/lsif-clang/issues/3","State":"CLOSED","Repository":"sourcegraph/lsif-clang","Private":false,"Labels":["bug","team/code-intelligence"],"Assignees":["gbrik"],"Milestone":"3.21","Author":"gbrik","CreatedAt":"2020-08-18T00:25:22Z","UpdatedAt":"0001-01-01T00:00:00Z","ClosedAt":"2020-10-01T16:27:01Z"},{"ID":"MDU6SXNzdWU3MDM4Nzg0OTI=","Title":"sourcegraph/customer","Body":"REDACTED","Number":103,"URL":"https://github.com/sourcegraph/customer/issues/103","State":"OPEN","Repository":"sourcegraph/customer","Private":true,"Labels":null,"Assignees":["slimsag"],"Milestone":"3.21","Author":"slimsag","CreatedAt":"2020-09-17T20:11:31Z","UpdatedAt":"0001-01-01T00:00:00Z","ClosedAt":"0001-01-01T00:00:00Z"},{"ID":"MDU6SXNzdWU2ODA2MDExMjA=","Title":"doesn't work on arch linux","Body":"arch linux installation simply provides a `clang` binary and a single shared library, which doesn't work with the current CMake file. we need to modify the cmake file to also support arch linux.\r\n\r\nalso, the compile_commands generated on arch linux have a wonky system include path, which precludes any code intelligence from standard library functions.","Number":1,"URL":"https://github.com/sourcegraph/lsif-clang/issues/1","State":"OPEN","Repository":"sourcegraph/lsif-clang","Private":false,"Labels":["bug","planned/3.20","team/code-intelligence"],"Assignees":["gbrik"],"Milestone":"3.21","Author":"gbrik","CreatedAt":"2020-08-18T00:19:58Z","UpdatedAt":"0001-01-01T00:00:00Z","ClosedAt":"0001-01-01T00:00:00Z"},{"ID":"MDU6SXNzdWU2NzcyOTc1MDE=","Title":"504 Gateway Timeouts when mousing over after the page has loaded for a while","Body":"- **Sourcegraph version:** 3.18.0\r\n- **Platform information:** Firefox 79.0 on macOS 10.15.5\r\n\r\n#### Steps to reproduce:\r\n\r\n1. Load a source file in Sourcegraph, and mouse over an element to get a code intelligence popup.\r\n2. Move your mouse away to dismiss the popup.\r\n3. Leave the page alone for 5 minutes.\r\n4. Go back to the page and mouse over another element.\r\n\r\n#### Expected behavior:\r\nA code intelligence popup appears.\r\n#### Actual behavior:\r\nNothing happens. Errors show up in the console, and I've attached a screenshot of one set of errors.\r\n\u003cimg width=\"1011\" alt=\"Screen Shot 2020-08-11 at 8 54 50 PM\" src=\"https://user-images.githubusercontent.com/15042336/89963449-a510ff80-dc15-11ea-8919-1d915384a6c4.png\"\u003e\r\n","Number":12930,"URL":"https://github.com/sourcegraph/sourcegraph/issues/12930","State":"CLOSED","Repository":"sourcegraph/sourcegraph","Private":false,"Labels":["bug","extensions","team/code-intelligence"],"Assignees":["efritz"],"Milestone":"3.21","Author":"lawrence-tan","CreatedAt":"2020-08-12T01:00:15Z","UpdatedAt":"0001-01-01T00:00:00Z","ClosedAt":"2020-09-21T17:20:24Z"},{"ID":"MDU6SXNzdWU3MDI2MzEyNTA=","Title":"RFC-214: Repository Settings \u003e Mirroring should not display token in the UI","Body":"We currently display the full clone URL (including the token) in the repository **Settings \u003e Mirroring** page, we should stop doing that.\r\n\r\nI didn't verify, but it feels like we need to:\r\n1. Find where the backend returns the value of this field in GraphQL.\r\n2. Use `url.Parse` and wipe out the _username_ and _password_ portion, which effectively makes it a normal-looking URL (in a browser address bar).","Number":13852,"URL":"https://github.com/sourcegraph/sourcegraph/issues/13852","State":"CLOSED","Repository":"sourcegraph/sourcegraph","Private":false,"Labels":["RFC-214","estimate/1d","team/cloud","team/cloud/milestone-1","team/security"],"Assignees":["ryanslade","flying-robot"],"Milestone":"Cloud 2020-09-23","Author":"unknwon","CreatedAt":"2020-09-16T10:04:18Z","UpdatedAt":"0001-01-01T00:00:00Z","ClosedAt":"2020-09-25T13:21:22Z"},{"ID":"MDU6SXNzdWU2ODA2MDQ2MjA=","Title":"no output produced for seemingly well-formed compile_commands.json","Body":"technical details are private, but the gist is that the tool builds successfully, and a compile_commands is generated by the user's distributed build system. when the tool is run, no frontend compilation occurs and the output dump.lsif contains only a meta and project vertex. nothing looks suspicious in the compile_commands.json, but some details to note:\r\n- the same file is compiled multiple times with different options\r\n- the file may not have been generated on the same machine the tool is being run on","Number":4,"URL":"https://github.com/sourcegraph/lsif-clang/issues/4","State":"OPEN","Repository":"sourcegraph/lsif-clang","Private":false,"Labels":["bug","planned/3.20","team/code-intelligence"],"Assignees":["gbrik"],"Milestone":"3.21","Author":"gbrik","CreatedAt":"2020-08-18T00:30:56Z","UpdatedAt":"0001-01-01T00:00:00Z","ClosedAt":"0001-01-01T00:00:00Z"},{"ID":"MDU6SXNzdWU2OTI0NTkxMjk=","Title":"definitions aren't output for templates","Body":"For example, see https://sourcegraph.com/github.com/envoyproxy/envoy@670a4a6/-/blob/source/common/common/cleanup.h#L30:26\r\n\r\n![image](https://user-images.githubusercontent.com/3411715/94837855-c5be3000-03e2-11eb-8bb2-72a0fdfeb8e0.png)\r\n\r\nhover and references are all computed correctly, but no definition vertex is output.\r\n\r\nhttps://sourcegraph.com/github.com/envoyproxy/envoy@670a4a6/-/blob/source/common/http/conn_manager_impl.cc#L127:31 is another good example, it even correctly infers the type of the `auto` variable, just the j2d is missing.","Number":14,"URL":"https://github.com/sourcegraph/lsif-clang/issues/14","State":"OPEN","Repository":"sourcegraph/lsif-clang","Private":false,"Labels":["bug","planned/3.20","team/code-intelligence"],"Assignees":["gbrik"],"Milestone":"3.21","Author":"gbrik","CreatedAt":"2020-09-03T22:38:41Z","UpdatedAt":"0001-01-01T00:00:00Z","ClosedAt":"0001-01-01T00:00:00Z"},{"ID":"MDU6SXNzdWU3MDU5MjE1MTI=","Title":"Write announcement post for Postgres change","Body":"There is a large-ish change coming to the distribution of Sourcegraph 3.21+: The introduction of a second database. I think it could be a good opportunity for a blog post to both document the change in architecture, our reasons for doing so, and instructions on what to do if you are already heavily involved with our own primary database (of course this is not a substitute for actual distribution instructions).","Number":14009,"URL":"https://github.com/sourcegraph/sourcegraph/issues/14009","State":"OPEN","Repository":"sourcegraph/sourcegraph","Private":false,"Labels":["team/code-intelligence"],"Assignees":["efritz"],"Milestone":"3.21","Author":"efritz","CreatedAt":"2020-09-21T21:14:54Z","UpdatedAt":"0001-01-01T00:00:00Z","ClosedAt":"0001-01-01T00:00:00Z"},{"ID":"MDU6SXNzdWU2OTEwOTAxOTE=","Title":"managed-instances: deploy a demo instance","Body":"after https://github.com/sourcegraph/sourcegraph/issues/13120 and [related changes](https://github.com/orgs/sourcegraph/projects/83) dogfood will likely become a rather unstable deployment. it might be valuable to add a more stable deployment that actually tracks releases for demo purposes (probably useful for @sourcegraph/customer-engineering)\r\n\r\nThis could be a good chance to take @slimsag 's extensive [managed instances documentation](https://about.sourcegraph.com/handbook/engineering/distribution/managed) for a spin too, and hopefully won't be too much overhead. I imagine it might work as a mini-testbed to try out changes before changing customer deployments too.\r\n\r\ncc @pecigonzalo ","Number":13604,"URL":"https://github.com/sourcegraph/sourcegraph/issues/13604","State":"OPEN","Repository":"sourcegraph/sourcegraph","Private":false,"Labels":["estimate/1d","planned/3.21","team/distribution"],"Assignees":["bobheadxi"],"Milestone":"3.21","Author":"bobheadxi","CreatedAt":"2020-09-02T14:54:09Z","UpdatedAt":"0001-01-01T00:00:00Z","ClosedAt":"0001-01-01T00:00:00Z"},{"ID":"MDU6SXNzdWU3MDU5MjIyNDA=","Title":"Write architecture docs for precise code intel indexer","Body":"We have good documentation for the (code intel portion of the) enterprise frontend, the bundle manager, and the worker. We need similar documentation for the indexer service.","Number":14010,"URL":"https://github.com/sourcegraph/sourcegraph/issues/14010","State":"OPEN","Repository":"sourcegraph/sourcegraph","Private":false,"Labels":["team/code-intelligence"],"Assignees":["efritz"],"Milestone":"3.21","Author":"efritz","CreatedAt":"2020-09-21T21:16:16Z","UpdatedAt":"0001-01-01T00:00:00Z","ClosedAt":"0001-01-01T00:00:00Z"},{"ID":"MDU6SXNzdWU2OTcyMzkzOTk=","Title":"Slow Precise Code-Intel Tooltips in C/C++ Code","Body":"- **Sourcegraph version:** 3.19\r\n\r\n#### Steps to reproduce:\r\n\r\n1. Find a public repo that has c/cpp code and has lsif uploaded. For example: https://sourcegraph.com/github.com/protocolbuffers/protobuf@f5bdd7cd56aa86612e166706ed8ef139db06edf2/-/tree/src/google/protobuf/compiler/cpp\r\n2. Open a .cc/.cpp/.hpp file and hover over several identifiers. Observe that the time it takes to populate the code-intel tooltip ranges from instant  to \u003e10s\r\n\r\n#### Expected behavior:\r\nTIme to load the tooltips should be near instant (within a few seconds)\r\n\r\n#### Actual behavior:\r\nSee sporadic cases where the time to load the tooltip can take upwards of 60s. In the worst case, it never loads at all and the spinning icon remains with an eventual gateway timeout HTTP error in the browser dev tools.","Number":13733,"URL":"https://github.com/sourcegraph/sourcegraph/issues/13733","State":"OPEN","Repository":"sourcegraph/sourcegraph","Private":false,"Labels":["in progress","team/code-intelligence"],"Assignees":["efritz"],"Milestone":"3.21","Author":"tistru","CreatedAt":"2020-09-09T23:37:51Z","UpdatedAt":"0001-01-01T00:00:00Z","ClosedAt":"0001-01-01T00:00:00Z"},{"ID":"MDU6SXNzdWU3MDYzNTIyNDc=","Title":"RFC 211: We should apply a per user and total limit to user added repos","Body":"We should limit the number of repos that can be added by users\r\n\r\n- [x] Limit the number of repos per user\r\n- [x] Limit the total number of user added repos\r\n- [ ] Fire an alert when we are approaching the total limit\r\n\r\nThe above limits will need to be enforced during sync and should be included both during streaming insertion of repos and batch syncing.\r\n\r\nIt should be configurable but include sane defaults. The point of this is to protect an instance against abuse so the number should be high enough that they are not hit based on normal usage.\r\n\r\nUser repos from code hosts should be ordered deterministically so that once they are over the limit we don't randomly add and remove repos on each sync.\r\n\r\nThe discussion around how we notify end users can begin here but we will not implement it as part of this issue.","Number":14043,"URL":"https://github.com/sourcegraph/sourcegraph/issues/14043","State":"OPEN","Repository":"sourcegraph/sourcegraph","Private":false,"Labels":["RFC-211","estimate/1.5d","team/cloud","team/cloud/milestone-1"],"Assignees":["ryanslade"],"Milestone":"Cloud 2020-09-23","Author":"ryanslade","CreatedAt":"2020-09-22T12:45:46Z","UpdatedAt":"0001-01-01T00:00:00Z","ClosedAt":"0001-01-01T00:00:00Z"},{"ID":"MDU6SXNzdWU3MDI2NjEyMjg=","Title":"RFC-214: Eyeball validate data being encrypted in the database","Body":"","Number":13854,"URL":"https://github.com/sourcegraph/sourcegraph/issues/13854","State":"CLOSED","Repository":"sourcegraph/sourcegraph","Private":false,"Labels":["RFC-214","estimate/0.5d","team/cloud","team/cloud/milestone-1","team/security"],"Assignees":["unknwon"],"Milestone":"Cloud 2020-09-23","Author":"unknwon","CreatedAt":"2020-09-16T10:50:31Z","UpdatedAt":"0001-01-01T00:00:00Z","ClosedAt":"2020-09-25T03:36:39Z"},{"ID":"MDU6SXNzdWU3MDI5OTEwMTY=","Title":"release steps: stop announcing release candidates","Body":"Today our release process https://github.com/sourcegraph/sourcegraph/issues/13374 has us announce to #dev-announce in Slack that release candidates have been created. This makes releases eventful and, I believe, gives the impression that there is some extensive testing of release candidates going on when in practice it is just basic smoke tests and all extensive testing should've been done before any change was merged.\r\n\r\nI also believe that most team members do not actually care for or act on these messages, so they are spammy. We should stop sending them, remove the associated scripts (`yarn run release release-candidate:dev-announce 3.20.0-rc.1`) and steps from the release process tracking issue.","Number":13875,"URL":"https://github.com/sourcegraph/sourcegraph/issues/13875","State":"OPEN","Repository":"sourcegraph/sourcegraph","Private":false,"Labels":["estimate/0.5d","team/distribution"],"Assignees":null,"Milestone":"3.21","Author":"slimsag","CreatedAt":"2020-09-16T18:42:10Z","UpdatedAt":"0001-01-01T00:00:00Z","ClosedAt":"0001-01-01T00:00:00Z"},{"ID":"MDU6SXNzdWU0MzM1MDg0NzY=","Title":"Find references to common Java class method name without false-positives","Body":"(If you already know the state of code intel today, and understand the use case here, skip to the last section for what this issue is)\r\n\r\n## Code intelligence today\r\n\r\nToday, Sourcegraph sports two types of code intelligence:\r\n\r\n- **Basic code intelligence**: Provided by smart / language aware regex-search operations.\r\n    - Pros: Very fast, works well in like 70% of cases.\r\n    - Cons: Can turn up false-positive matches when e.g. doing 'Find references' (the other 30% of cases).\r\n- **Precise code intelligence**: Supported by a separate language server, acting as e.g. a compiler would.\r\n    - Pros: Does type-checking of code as a compiler would, results are accurate in 100% of cases (effectively).\r\n    - Cons: Very resource hungry, and very slow in general (effectively waiting for the project to compile before seeing results).\r\n\r\nSourcegraph by default comes with basic code intelligence easily accessible, and precise code intelligence requiring additional setup / configuration (must deploy language server, secure it behind auth proxy, etc.)\r\n\r\n## A common use case\r\n\r\nA very common user story is asking Sourcegraph a question like:\r\n\r\n\u003e Where are all of the callers of my deprecated method `MyClass.foobar()`?\r\n\r\nBoth basic and precise code intelligence can answer this question via `Find references`, but each with different drawbacks:\r\n\r\n- basic code intelligence:\r\n    - Provides many false positives (if `foobar` is a common method name, basic code intelligence is not class-aware and does not know that e.g. `myClassInstance.foobar()` is of type `MyClass` and therefor simply finds all results where a `foobar` method is invoked).\r\n    - Many false positives are too vast when searching over thousands of repositories.\r\n- precise code intelligence:\r\n    - We don't currently have Java precise code intelligence. \r\n    - Requires extra setup on the instance administrator's part.\r\n    - Requires significantly more resources, is slow, requires additional configuration (e.g. even repo-level configuration to explain to language server how to build project).\r\n    - Deploying this is a heavy burden both for site admins and a user who asks their site admin to do it.\r\n\r\nBoth approaches _can_ solve the problem, but each have significant drawbacks.\r\n\r\n## This issue\r\n\r\n**This issue is merely to publicly track that this is a problem we want to solve.**\r\n\r\n**Possible ways we may solve the problem include:**\r\n\r\n- An experiment we may try with basic code intel in which we index all tokens and their corresponding type in order to make find refs more accurate (perhaps using tree-sitter).\r\n\r\n**Possible ways we would mitigate the issue:**\r\n\r\n- Add Java precise code intelligence, then have the option to choose between basic and precise references when you execute a `Find references` action.\r\n\r\nNone of the above are concrete and we (currently) do not have a concrete timeline for this as it is a very difficult problem to solve. We'll provide updates on this issue as we learn more.\r\n\r\nCustomers: https://app.hubspot.com/contacts/2762526/company/407948923 ","Number":3418,"URL":"https://github.com/sourcegraph/sourcegraph/issues/3418","State":"OPEN","Repository":"sourcegraph/sourcegraph","Private":false,"Labels":["feature-request","planned/3.20","team/code-intelligence"],"Assignees":["Strum355"],"Milestone":"3.21","Author":"slimsag","CreatedAt":"2019-04-15T22:41:26Z","UpdatedAt":"0001-01-01T00:00:00Z","ClosedAt":"0001-01-01T00:00:00Z"},{"ID":"MDU6SXNzdWU3MDMwNjA5ODk=","Title":"RFC 201: Create index record based on configuration file","Body":"This is part of [RFC 201: Auto-indexer build configuration](https://docs.google.com/document/d/1NPQs1s814LZjNXjPuavqC1N7hZR192DNtmSBmAeH9UY).\r\n\r\nIf a repo contains an index configuration file, this should be read and used instead of the canned configuration published for _any_ repository. This may result in many index records per repository as this will respect branches and roots, of which multiple can be defined.","Number":13896,"URL":"https://github.com/sourcegraph/sourcegraph/issues/13896","State":"OPEN","Repository":"sourcegraph/sourcegraph","Private":false,"Labels":["RFC-201","team/code-intelligence"],"Assignees":["efritz"],"Milestone":"3.21","Author":"efritz","CreatedAt":"2020-09-16T20:42:57Z","UpdatedAt":"0001-01-01T00:00:00Z","ClosedAt":"0001-01-01T00:00:00Z"},{"ID":"MDU6SXNzdWU2ODU5MDg1MTI=","Title":"dhall: use dhall on sourcegraph.com","Body":"- [ ] add \"symbols\" to service deploy-sourcegraph-dhall, with support for sourcegraph.com customizations: https://github.com/sourcegraph/sourcegraph/issues/14130\r\n- [ ] add gitserver to deploy-sourcegraph-dhall, with support for sourcegraph.com customizations: https://github.com/sourcegraph/sourcegraph/issues/14131\r\n- [ ] add deploy-sourcegraph-dhall pipeline to deploy-sourcegraph-dot-com : https://github.com/sourcegraph/sourcegraph/issues/14132\r\n- [ ] sourcegraph.com: write bot to incorporate image tag updates in dhall pipeline: https://github.com/sourcegraph/sourcegraph/issues/14133","Number":13340,"URL":"https://github.com/sourcegraph/sourcegraph/issues/13340","State":"OPEN","Repository":"sourcegraph/sourcegraph","Private":false,"Labels":["dhall","planned/3.21","team/distribution"],"Assignees":["uwedeportivo","slimsag","ggilmore"],"Milestone":"3.21","Author":"ggilmore","CreatedAt":"2020-08-26T00:00:10Z","UpdatedAt":"0001-01-01T00:00:00Z","ClosedAt":"0001-01-01T00:00:00Z"},{"ID":"MDU6SXNzdWU2NDkyNTMzODY=","Title":"Remove -endpoint from src-cli usage","Body":"The endpoint flag has been deprecated and we should update all docker containers, github actions, and tools that depend on this flag to use the `SRC_ENDPOINT` envvar instead.","Number":11878,"URL":"https://github.com/sourcegraph/sourcegraph/issues/11878","State":"OPEN","Repository":"sourcegraph/sourcegraph","Private":false,"Labels":["debt","estimate/0.5d","planned/3.19","planned/3.20","team/code-intelligence"],"Assignees":["aidaeology"],"Milestone":"3.21","Author":"efritz","CreatedAt":"2020-07-01T19:29:31Z","UpdatedAt":"0001-01-01T00:00:00Z","ClosedAt":"0001-01-01T00:00:00Z"},{"ID":"MDU6SXNzdWU3MDMwNDAwNTc=","Title":"RFC 235: Migrate SQLite data to Postgres","Body":"This is part of [RFC 235: Move LSIF data to Postgres](https://docs.google.com/document/d/1Y9p29hK8xrPUTvBdWqP9uAHDg3JLV-HCaxsbCo9-YHQ).\r\n\r\nWrite a migration routine that will start on bundle manager startup (and run as long as necessary) that reads SQLite bundles on disk that are not yet present in Postgres and issue writes for the same data. After a SQLite bundle's data has been written to Postgres, it can be moved into a new directory. This new directory can serve as a backup directory. The operator can decide if they need to keep this data in case of a version downgrade, or explicitly delete it otherwise.\r\n\r\nThis issue must follow https://github.com/sourcegraph/sourcegraph/issues/13887.","Number":13888,"URL":"https://github.com/sourcegraph/sourcegraph/issues/13888","State":"OPEN","Repository":"sourcegraph/sourcegraph","Private":false,"Labels":["RFC-235","estimate/0.5d","team/code-intelligence"],"Assignees":["efritz"],"Milestone":"3.21","Author":"efritz","CreatedAt":"2020-09-16T20:07:22Z","UpdatedAt":"0001-01-01T00:00:00Z","ClosedAt":"0001-01-01T00:00:00Z"},{"ID":"MDU6SXNzdWU3MDY0ODE2NjY=","Title":"codeintel: No longer able to upload repos which are currently cloning","Body":"- **Sourcegraph version:** commit 29eabd2d\r\n\r\n#### Steps to reproduce:\r\n\r\nadd a new repo to the sourcegraph instance, and then run `src lsif upload` against that repo before sourcegraph finishes cloning it\r\n\r\n#### Expected behavior:\r\n\r\nthe lsif index is uploaded successfully\r\n\r\n#### Actual behavior:\r\n\r\nsrc-cli returns `failed to enqueue payload: pq: new row for relation \"lsif_uploads\" violates check constraint \"lsif_uploads_commit_valid_chars\"`","Number":14052,"URL":"https://github.com/sourcegraph/sourcegraph/issues/14052","State":"CLOSED","Repository":"sourcegraph/sourcegraph","Private":false,"Labels":["bug","regression","team/code-intelligence"],"Assignees":["efritz"],"Milestone":"3.21","Author":"gbrik","CreatedAt":"2020-09-22T15:24:48Z","UpdatedAt":"0001-01-01T00:00:00Z","ClosedAt":"2020-10-01T14:07:20Z"},{"ID":"MDU6SXNzdWU3MDU1NjMwODM=","Title":"Detect and delete public repository added-on-visit when it become private","Body":"Currently, we automatically add public repositories from GitHub.com and GitLab.com when a user visits it (either by directly viewing it on Sourcegraph.com or via browser extension). However, we don't have a mechanism to delete such repositories when they become private on the code host as they may not associate with any external service.\r\n\r\nRelated: https://github.com/sourcegraph/security-issues/issues/96","Number":13978,"URL":"https://github.com/sourcegraph/sourcegraph/issues/13978","State":"OPEN","Repository":"sourcegraph/sourcegraph","Private":false,"Labels":["estimate/1d","security","team/cloud"],"Assignees":["asdine"],"Milestone":"Cloud 2020-09-23","Author":"unknwon","CreatedAt":"2020-09-21T12:40:44Z","UpdatedAt":"0001-01-01T00:00:00Z","ClosedAt":"0001-01-01T00:00:00Z"},{"ID":"MDU6SXNzdWU2NjIwODY2ODM=","Title":"Run e2e tests on bare-metal Buildkite agents on every commit to master (non-blocking)","Body":"Every commit to master should run e2e tests on the bare-metal buildkite agents once https://github.com/sourcegraph/sourcegraph/issues/12101 is closed.\r\n\r\nIt should not block the build at all (adds no time to CI runs, and if it fails should not show the build as failed).","Number":12339,"URL":"https://github.com/sourcegraph/sourcegraph/issues/12339","State":"CLOSED","Repository":"sourcegraph/sourcegraph","Private":false,"Labels":["distribution-e2e-frequency","planned/3.19","planned/3.20","planned/3.21","team/distribution"],"Assignees":["davejrt","slimsag"],"Milestone":"3.21","Author":"slimsag","CreatedAt":"2020-07-20T17:45:38Z","UpdatedAt":"0001-01-01T00:00:00Z","ClosedAt":"2020-09-28T19:37:41Z"},{"ID":"MDU6SXNzdWU2NzkyOTQwNTk=","Title":"🚚 LSIF-Java Delivery ","Body":"The goal of this task is to ship LSIF-java v1.0 to customers:\r\n\r\n1. Fix any [outstanding bugs and issues](https://github.com/sourcegraph/lsif-java/issues?q=is%3Aopen+is%3Aissue+label%3Abug) for LSIF-java.\r\n1. Benchmark and test LSIF-java for performance, determine if there are any bottlenecks that need to be resolved.\r\n1. Work with three existing customers below to deploy LSIF-java successfully and work out any potential technical blockers or usability issues so that LSIF-java can be used by all customers as part of a wide release.\r\n\r\n- [ ] Customer 1: https://github.com/sourcegraph/customer/issues/79\r\n- [ ] Customer 2: https://github.com/sourcegraph/customer/issues/80\r\n- [ ] Customer 3: https://github.com/sourcegraph/customer/issues/81\r\n\r\nOnce this is complete for all three we will mark LSIF-java as stable and ready for general availability.","Number":13017,"URL":"https://github.com/sourcegraph/sourcegraph/issues/13017","State":"OPEN","Repository":"sourcegraph/sourcegraph","Private":false,"Labels":["lsif-java","planned/3.20","team/code-intelligence"],"Assignees":["Strum355"],"Milestone":"3.21","Author":"aidaeology","CreatedAt":"2020-08-14T17:19:14Z","UpdatedAt":"0001-01-01T00:00:00Z","ClosedAt":"0001-01-01T00:00:00Z"},{"ID":"MDU6SXNzdWU3MDI5OTU2NDg=","Title":"explore making it easier to run Kubernetes cluster smoke tests","Body":"Today our release process https://github.com/sourcegraph/sourcegraph/issues/13374 indicates you should create a Kubernetes cluster, deploy Sourcegraph on it, run the e2e test initializer on it, and run the regression test suite on it:\r\n\r\n\u003e   - [ ] New Sourcegraph Kubernetes cluster:\r\n\u003e     - Run the initializer on a new Sourcegraph Kubernetes cluster.\r\n\u003e     - Run the regression test suite.\r\n\r\nThere has to be a better way we can reduce the number of manual steps here, maybe using Pulumni or some other form of scripting for this. Let's investigate and find possible opportunities, even if we don't get around to actually implementing them in 3.21.","Number":13878,"URL":"https://github.com/sourcegraph/sourcegraph/issues/13878","State":"OPEN","Repository":"sourcegraph/sourcegraph","Private":false,"Labels":["estimate/4d","planned/3.21","team/distribution"],"Assignees":null,"Milestone":"3.21","Author":"slimsag","CreatedAt":"2020-09-16T18:49:48Z","UpdatedAt":"0001-01-01T00:00:00Z","ClosedAt":"0001-01-01T00:00:00Z"},{"ID":"MDU6SXNzdWU3MDU4OTc2NDk=","Title":"sourcegraph/customer","Body":"REDACTED","Number":104,"URL":"https://github.com/sourcegraph/customer/issues/104","State":"CLOSED","Repository":"sourcegraph/customer","Private":true,"Labels":["planned/3.21"],"Assignees":["slimsag"],"Milestone":"","Author":"slimsag","CreatedAt":"2020-09-21T20:34:55Z","UpdatedAt":"0001-01-01T00:00:00Z","ClosedAt":"2020-09-21T21:15:56Z"},{"ID":"MDU6SXNzdWU3MDk5MDcyMDQ=","Title":"Add overview and instructions for using campaigns to enable precise code intel","Body":"","Number":14224,"URL":"https://github.com/sourcegraph/sourcegraph/issues/14224","State":"CLOSED","Repository":"sourcegraph/sourcegraph","Private":false,"Labels":["docs","estimate/0.5d","planned/3.21","team/code-intelligence"],"Assignees":["aidaeology"],"Milestone":"3.21","Author":"aidaeology","CreatedAt":"2020-09-28T03:48:00Z","UpdatedAt":"0001-01-01T00:00:00Z","ClosedAt":"2020-09-28T04:14:30Z"},{"ID":"MDU6SXNzdWU3MDMwNjU2Njk=","Title":"RFC 201: Write auto-configurator","Body":"This is part of [RFC 201: Auto-indexer build configuration](https://docs.google.com/document/d/1NPQs1s814LZjNXjPuavqC1N7hZR192DNtmSBmAeH9UY).\r\n\r\nWe'd like to continue to **auto**-index repositories that haven't been explicitly configured to go very wide in our zero-effort open-source code intelligence coverage. This requires doing better than searching for repositories with a go.mod in the root. We need to instead be able to heuristically detect how to index a repository.\r\n\r\nWrite code that will walk a repository root and determine the roots, types of indexer, and necessary arguments to index as much of the source code as we know how to index today. This should be available in a separate library as we'll likely want to bundle this with src-cli in the future.","Number":13897,"URL":"https://github.com/sourcegraph/sourcegraph/issues/13897","State":"OPEN","Repository":"sourcegraph/sourcegraph","Private":false,"Labels":["RFC-201","team/code-intelligence"],"Assignees":["efritz"],"Milestone":"3.21","Author":"efritz","CreatedAt":"2020-09-16T20:50:45Z","UpdatedAt":"0001-01-01T00:00:00Z","ClosedAt":"0001-01-01T00:00:00Z"},{"ID":"MDU6SXNzdWU2NjIzNzg2ODU=","Title":"🚚 LSIF-clang Delivery","Body":"The goal of this task is to ship LSIF-clang v0.1 to customers:\r\n\r\n1. Fix any [outstanding bugs and issues](https://github.com/sourcegraph/lsif-clang/issues) for LSIF-clang.\r\n1. Benchmark and test LSIF-clang for performance, determine if there are any bottlenecks that need to be resolved.\r\n1. Validate lsif-clang works as expected for C and Objective C by [indexing OSS projects](https://github.com/sourcegraph/sourcegraph/issues/12773).\r\n1. Work with three existing customers below to deploy LSIF-java successfully and work out any potential technical blockers or usability issues so that LSIF-java can be used by all customers as part of a wide release.\r\n\r\n- [ ] Customer 1: https://github.com/sourcegraph/customer/issues/86\r\n- [ ] Customer 2: https://github.com/sourcegraph/customer/issues/87\r\n- [ ] Customer 3: https://github.com/sourcegraph/customer/issues/88\r\n\r\nOnce this is complete for all three update status for LSIF-clang as appropriate (beta? ready?) and indicate its readiness for general availability.","Number":12349,"URL":"https://github.com/sourcegraph/sourcegraph/issues/12349","State":"OPEN","Repository":"sourcegraph/sourcegraph","Private":false,"Labels":["estimate/4d","lsif-clang","planned/3.19","planned/3.20","team/code-intelligence"],"Assignees":["gbrik"],"Milestone":"3.21","Author":"aidaeology","CreatedAt":"2020-07-20T23:36:48Z","UpdatedAt":"0001-01-01T00:00:00Z","ClosedAt":"0001-01-01T00:00:00Z"},{"ID":"MDU6SXNzdWU2OTY3Nzk4Mjc=","Title":"Support efficient repository listing pagination in the GraphQL API","Body":"We currently only support listing more and more results with the `first` argument, but don't support passing in an `after` cursor, and don't fill in an `endCursor` in the returned [`PageInfo`](https://sourcegraph.com/github.com/sourcegraph/sourcegraph/-/blob/cmd/frontend/graphqlbackend/repositories.go#L224) (which we could do with [`graphqlutil.NextPageCursor`](https://sourcegraph.com/github.com/sourcegraph/sourcegraph/-/blob/cmd/frontend/graphqlbackend/graphqlutil/page_info.go?subtree=true#L16)).\r\n\r\n[Context (from Slack)](https://sourcegraph.slack.com/archives/C07KZF47K/p1599583106120900)\r\n\r\n\r\n\u003e Hi team,\r\nI have a question about fetching the list of repositories ingested in Sourcegraph via an API call. I was looking at the example in your docs here for the \"List the first 1,000 repositories\" API call. The problem I am encountering when using this to pull the entire list for all of our repositories (about 375k repos), the list is too long. As a result, I'm getting Gateway Timeout errors. I looked through the GraphQL docs to see if I can paginate through the list (i.e. get the first 10k repos, then make another API call to get the next 10k repos, and so on). However, I could not find in the docs that this is possible. So I just want to confirm that with you all before going with a different approach to fetching the list of all repositories.\r\n\r\n","Number":13715,"URL":"https://github.com/sourcegraph/sourcegraph/issues/13715","State":"OPEN","Repository":"sourcegraph/sourcegraph","Private":false,"Labels":["customer","debt","estimate/2d","perf","team/cloud"],"Assignees":["flying-robot"],"Milestone":"Cloud 2020-09-23","Author":"tsenart","CreatedAt":"2020-09-09T12:40:20Z","UpdatedAt":"0001-01-01T00:00:00Z","ClosedAt":"0001-01-01T00:00:00Z"},{"ID":"MDU6SXNzdWU3MDE0NDQzMDg=","Title":"Find reference \u0026 go to definition not showing up sometimes (sourcegraph.com)","Body":"- **Sourcegraph version:** Sourcegraph.com\r\n- **Platform information:** Seen on both Firefox 79 and Firefox 80\r\n\r\n#### Steps to reproduce:\r\nCustomer feedback\r\n1. \u003e The repo that I was having a little trouble with is [github.com/ray-project/ray](https://github.com/ray-project/ray), on Python functions. Sometimes the find reference \u0026 go to definition were not showing up. Browser is Firefox 79. I have since upgraded to FF 80, and have yet to reproduce the issue.\r\n\r\n2. \u003e additionally on https://sourcegraph.com/github.com/python-trio/trio/-/blob/trio/_channel.py#L111 I saw tooltip for a brief moment on that @attr decorator, but quickly disappeared. FF80.\r\n\r\n","Number":13802,"URL":"https://github.com/sourcegraph/sourcegraph/issues/13802","State":"OPEN","Repository":"sourcegraph/sourcegraph","Private":false,"Labels":["bug","estimate/0.5d","team/code-intelligence"],"Assignees":["aidaeology","macraig"],"Milestone":"3.21","Author":"poojaj-tech","CreatedAt":"2020-09-14T21:36:27Z","UpdatedAt":"0001-01-01T00:00:00Z","ClosedAt":"0001-01-01T00:00:00Z"},{"ID":"MDU6SXNzdWU3MTM4OTU0NzE=","Title":"sourcegraph/customer","Body":"REDACTED","Number":111,"URL":"https://github.com/sourcegraph/customer/issues/111","State":"OPEN","Repository":"sourcegraph/customer","Private":true,"Labels":null,"Assignees":["davejrt"],"Milestone":"3.21","Author":"uwedeportivo","CreatedAt":"2020-10-02T20:51:27Z","UpdatedAt":"0001-01-01T00:00:00Z","ClosedAt":"0001-01-01T00:00:00Z"},{"ID":"MDU6SXNzdWU2OTI0NTQyOTk=","Title":"github.com/nlohmann/json on macOS fails","Body":"Running commands\r\n\r\n```bash\r\ncmake -B build -S . -DCMAKE_EXPORT_COMPILE_COMMANDS=ON\r\ncp ./build/compile_commands.json .\r\nlsif-clang --extra-arg='-resource-dir=/Library/Developer/CommandLineTools/usr/lib/clang/11.0.3' --executor=all-TUs compile_commands.json \u003e dump.lsif\r\n```\r\n\r\nexits with status 138.\r\n\r\n```\r\n...\r\n[40/50] Processing file /Users/efritz/Downloads/cpptest/json/test/src/unit-to_chars.cpp\r\n[41/50] Processing file /Users/efritz/Downloads/cpptest/json/test/src/unit-inspection.cpp\r\n[42/50] Processing file /Users/efritz/Downloads/cpptest/json/test/src/unit-serialization.cpp\r\n[43/50] Processing file /Users/efritz/Downloads/cpptest/json/test/src/unit-ordered_json.cpp\r\n[44/50] Processing file /Users/efritz/Downloads/cpptest/json/test/src/unit-merge_patch.cpp\r\n[45/50] Processing file /Users/efritz/Downloads/cpptest/json/test/src/unit-reference_access.cpp\r\n[46/50] Processing file /Users/efritz/Downloads/cpptest/json/test/src/unit-assert_macro.cpp\r\n[1]    93496 bus error  lsif-clang  --executor=all-TUs compile_commands.json \u003e dump.lsif\r\n```\r\nThe same process produces a successful LSIF dump on Ubuntu 20.04.","Number":13,"URL":"https://github.com/sourcegraph/lsif-clang/issues/13","State":"OPEN","Repository":"sourcegraph/lsif-clang","Private":false,"Labels":["bug","planned/3.20","team/code-intelligence"],"Assignees":["gbrik"],"Milestone":"3.21","Author":"gbrik","CreatedAt":"2020-09-03T22:33:54Z","UpdatedAt":"0001-01-01T00:00:00Z","ClosedAt":"0001-01-01T00:00:00Z"},{"ID":"MDU6SXNzdWU3MDMwMDQ0MzI=","Title":"Improve reliability of \"e2e regression\" tests","Body":"Today we have \"e2e regression\" tests at https://sourcegraph.com/github.com/sourcegraph/sourcegraph/-/blob/web/src/regression/README.md which perform a number of QA tests.\r\n\r\nWe cannot release without these passing, yet a majority of the time these are failing by the end of the iteration.\r\n\r\nThis is a tracking issue for us to improve the reliability of them. We should identify ways to make certain they are reliable, even if it means they run slowly and e.g. have long sleep statements between steps.\r\n\r\nThis is a broad issue because the problem is broad - there are a lot of tests and this will need to be done on a case-by-case basis. This is a tracking issue for that work, which should be linked as an issue below:\r\n\r\n- [] TODO: link to other issues about improving reliability here.","Number":13880,"URL":"https://github.com/sourcegraph/sourcegraph/issues/13880","State":"OPEN","Repository":"sourcegraph/sourcegraph","Private":false,"Labels":["estimate/12d","team/distribution"],"Assignees":null,"Milestone":"3.21","Author":"slimsag","CreatedAt":"2020-09-16T19:04:12Z","UpdatedAt":"0001-01-01T00:00:00Z","ClosedAt":"0001-01-01T00:00:00Z"},{"ID":"MDU6SXNzdWU2OTIxMzI1NzI=","Title":"blackbox exporter \u0026 site 24/7 next steps","Body":"**Summary**\r\nHistorically we have used [site24x7](https://www.site24x7.com/) to monitor [sourcegraph.com](https://sourcegraph.com), however it has also been the source of some ephemeral alerts that has been cause for concern and reduced faith in its reliability see [here](https://github.com/sourcegraph/sourcegraph/issues/10742). In an effort to reduce our dependency on site24x7 and improve our on call experience and our monitoring reliability, [blackbox exporter](https://github.com/prometheus/blackbox_exporter) was deployed. At the time of raising this issue, each endpoint configured in site24x7 is replicated in blackbox exporter, all of which are configured to alert if a non 200 http status code is not received for 5 minutes. \r\n\r\n**Site 24x7**\r\nThe good:\r\n- Be default we get a bunch of useful metrics out of the box, without having to configure anything specific, aside from the endpoint itself (response time broken down into dns resolution, download, ssl etc)\r\n- The ui is relatively simple to use\r\n- Summary of outages and the RCA image is sometimes handy to see where things are breaking down. \r\n- Testing from multiple locations\r\n- Cost?\r\n\r\nThe bad: \r\n- We get  monitoring up until cloudflare, which is to say that there's no visibility of external vs internal issues in the same platform. As a result, it's hard to know if the issue is with cloudflare or with the sourcegraph frontend and where to look next. \r\n\r\n**Blackbox exporter**\r\nThe good:\r\n- There's a lot of knobs we can turn and tune here to gather exactly the information we find most useful.\r\n- We can easily see on the same grafana dashboard all of the endpoints we have configured per metric\r\n- We get internal and external monitoring of endpoints out of the same service (that is to say we can configure a ping to hit an exernal service as well as the services themselves)\r\n- Free\r\n\r\nThe bad: \r\n- There is some intitial setup required in order to determine what metrics we want, on which endpoints, all of which need to be configured manually in the various config files (blackbox exporter and prometheus, as well as any further alertmanager config that may be required). \r\n- We essentially only get one source of truth here, as we are testing from inside our own cluster, out to the world then back again. We do not get multiple locations like site24x7\r\n- There will be ongoing maintenance, which at this stage is hard to say what that will be, however one could assume the more metrics we gather, the more we need to maintain it and ensure they're up to date. \r\n\r\n**What's next**\r\n\r\nDetermine what we consider to be missing from blackbox exporter that we currently have in site24x7, considering the metrics out of the box that are displayed on site24x7 vs what we can and need to configure in blackbox exporter. \r\n\r\nEnsure that alerting is actually working from blackbox exporter, and that it's a trustworthy source. For example, a comparison in the most recent outage reported by site24x7 is [here](https://www.site24x7.com/app/client#/home/monitors/187445000000070268/OutageTroubleAlerts) and [here](https://sourcegraph.com/-/debug/grafana/explore?orgId=1\u0026left=%5B%221598367600000%22,%221598410800000%22,%22Prometheus%22,%7B%22expr%22:%22probe_http_status_code%7Binstance%3D%5C%22https:%2F%2Fsourcegraph.com%2F%5C%22%7D%22%7D,%7B%22expr%22:%22probe_http_status_code%7Binstance%3D%5C%22http:%2F%2Fsourcegraph-frontend.prod.svc.cluster.local:30080%5C%22%7D%22%7D,%7B%22ui%22:%5Btrue,true,true,%22none%22%5D%7D%5D) the same graph time period from blackbox exporter for both the external endpoint as well as the frontend service.\r\n\r\n","Number":13627,"URL":"https://github.com/sourcegraph/sourcegraph/issues/13627","State":"OPEN","Repository":"sourcegraph/sourcegraph","Private":false,"Labels":["debt","monitoring","planned/3.21","team/distribution"],"Assignees":["davejrt","pecigonzalo"],"Milestone":"3.21","Author":"davejrt","CreatedAt":"2020-09-03T16:59:16Z","UpdatedAt":"0001-01-01T00:00:00Z","ClosedAt":"0001-01-01T00:00:00Z"},{"ID":"MDU6SXNzdWU3MDkwNTQzOTY=","Title":"tracking-issue: Display intermediate tracking issues with disjoint labels","Body":"We need to display tracking issues that also track a visible sub item, even if that tracking issue is not labeled according to the parent tracking issue.","Number":14205,"URL":"https://github.com/sourcegraph/sourcegraph/issues/14205","State":"CLOSED","Repository":"sourcegraph/sourcegraph","Private":false,"Labels":["team/code-intelligence","tracking-issue"],"Assignees":["efritz"],"Milestone":"3.21","Author":"efritz","CreatedAt":"2020-09-25T16:02:23Z","UpdatedAt":"0001-01-01T00:00:00Z","ClosedAt":"2020-10-01T14:30:53Z"},{"ID":"MDU6SXNzdWU3MDM3NDM2MjE=","Title":"Move the CI e2e runner to the CI project","Body":"The E2E CI agent is currently deployed to a different project than CI, we should move this agent to the CI project and consolidate all CI infrastructure.\r\n\r\n#### Tasks\r\n- [x] ~~Deploy new agent~~\r\n- [x] ~~Shutdown the old agent~~\r\n- [x] ~~Verify it can run job and access all resources~~\r\n- [x] ~~Delete the old agent instance and volumes~~","Number":13919,"URL":"https://github.com/sourcegraph/sourcegraph/issues/13919","State":"CLOSED","Repository":"sourcegraph/sourcegraph","Private":false,"Labels":["estimate/1d","planned/3.21","team/distribution"],"Assignees":["pecigonzalo"],"Milestone":"3.21","Author":"pecigonzalo","CreatedAt":"2020-09-17T16:38:24Z","UpdatedAt":"0001-01-01T00:00:00Z","ClosedAt":"2020-09-24T15:11:13Z"},{"ID":"MDU6SXNzdWU3MDU5MjAwODI=","Title":"Update RFC 236","Body":"Update thoughts for [RFC 236: Code intel federation](https://docs.google.com/document/u/1/d/1QigoTPGbc5ztGRzeqBBFVM5sD_uLfT4yOO3qxch2kGE). Will likely involve a meeting including @gbrik and @Strum355 to bash our ideas until they look pretty much the same.\r\n\r\nNote: Title of RFC is subject to change as federation is an implementation detail (and one we might not even choose).","Number":14007,"URL":"https://github.com/sourcegraph/sourcegraph/issues/14007","State":"OPEN","Repository":"sourcegraph/sourcegraph","Private":false,"Labels":["team/code-intelligence"],"Assignees":["efritz"],"Milestone":"3.21","Author":"efritz","CreatedAt":"2020-09-21T21:12:19Z","UpdatedAt":"0001-01-01T00:00:00Z","ClosedAt":"0001-01-01T00:00:00Z"},{"ID":"MDU6SXNzdWU3MDU5MjA1OTk=","Title":"Fix retries in src-cli lsif upload","Body":"The retry mechanism in lsif upload will retry requests that will never be correct (400-level errors). src-cli should be updated so that users do not have to fail a handful of times before being shown the message.","Number":14008,"URL":"https://github.com/sourcegraph/sourcegraph/issues/14008","State":"CLOSED","Repository":"sourcegraph/sourcegraph","Private":false,"Labels":["team/code-intelligence"],"Assignees":["efritz"],"Milestone":"3.21","Author":"efritz","CreatedAt":"2020-09-21T21:13:13Z","UpdatedAt":"0001-01-01T00:00:00Z","ClosedAt":"2020-09-21T22:57:52Z"},{"ID":"MDU6SXNzdWU3MDMwNTkwNjk=","Title":"RFC 201: Update index scheduler to publish new payload","Body":"This is part of [RFC 201: Auto-indexer build configuration](https://docs.google.com/document/d/1NPQs1s814LZjNXjPuavqC1N7hZR192DNtmSBmAeH9UY).\r\n\r\nUpdate the index scheduler to include the payload needed to replace the _canned_ payload introduced in https://github.com/sourcegraph/sourcegraph/issues/13894.","Number":13895,"URL":"https://github.com/sourcegraph/sourcegraph/issues/13895","State":"OPEN","Repository":"sourcegraph/sourcegraph","Private":false,"Labels":["RFC-201","team/code-intelligence"],"Assignees":["efritz"],"Milestone":"3.21","Author":"efritz","CreatedAt":"2020-09-16T20:39:38Z","UpdatedAt":"0001-01-01T00:00:00Z","ClosedAt":"0001-01-01T00:00:00Z"},{"ID":"MDU6SXNzdWU3MDYzNDY5OTk=","Title":"RFC 211: Repos added by user owned external services should be indexed","Body":"Public repos added by user owned external services should always be synced.\r\n\r\nConfirm that listing default repos is only used by Zoekt on Cloud:\r\nhttps://github.com/sourcegraph/sourcegraph/blob/05db081805ef89db3f58c53bac3d4f0307e4d00d/internal/db/default_repos.go#L34\r\n\r\nIf so, update the query so that it also includes public repos added by users.","Number":14042,"URL":"https://github.com/sourcegraph/sourcegraph/issues/14042","State":"OPEN","Repository":"sourcegraph/sourcegraph","Private":false,"Labels":["RFC-211","estimate/1d","team/cloud","team/cloud/milestone-1"],"Assignees":["asdine"],"Milestone":"Cloud 2020-09-23","Author":"ryanslade","CreatedAt":"2020-09-22T12:38:31Z","UpdatedAt":"0001-01-01T00:00:00Z","ClosedAt":"0001-01-01T00:00:00Z"},{"ID":"MDU6SXNzdWU3MDYwMTY2Nzc=","Title":"RFC 167: Generate new licenses with versioned tags","Body":"We should start to be able to generate new licenses with new versioned tags on Sourcegraph Cloud for sales team to use.\r\n\r\nSome of the work has been done in this branch: https://github.com/sourcegraph/sourcegraph/compare/jc/enforce-product-tiers (i.e. define the new tags).\r\n\r\nPart of [RFC 167](https://docs.google.com/document/d/1XozQ4JINJqirdaG-XqGtboT2-PlIXPyBn6EwV7Q3pWI/edit).","Number":14021,"URL":"https://github.com/sourcegraph/sourcegraph/issues/14021","State":"OPEN","Repository":"sourcegraph/sourcegraph","Private":false,"Labels":["RFC-167","estimate/1d","subscriptions","team/cloud"],"Assignees":["unknwon"],"Milestone":"Cloud 2020-09-23","Author":"unknwon","CreatedAt":"2020-09-22T01:29:43Z","UpdatedAt":"0001-01-01T00:00:00Z","ClosedAt":"0001-01-01T00:00:00Z"},{"ID":"MDU6SXNzdWU1OTgwMTA5Mjg=","Title":"sourcegraph/customer","Body":"REDACTED","Number":49,"URL":"https://github.com/sourcegraph/customer/issues/49","State":"OPEN","Repository":"sourcegraph/customer","Private":true,"Labels":["estimate/0.5d","planned/3.21"],"Assignees":["slimsag"],"Milestone":"3.21","Author":"slimsag","CreatedAt":"2020-04-10T17:49:25Z","UpdatedAt":"0001-01-01T00:00:00Z","ClosedAt":"0001-01-01T00:00:00Z"},{"ID":"MDU6SXNzdWU3MTM5MzcyMjI=","Title":"RFC 201: Add disk size to VM","Body":"I think our high auto-index failure rate is due to a disk: out of quota error while indexing. Lsif go will fail if it cannot flush to disk.\r\n\r\nSee https://github.com/weaveworks/ignite/blob/master/docs/declarative-config.md if there is no disk size flag.","Number":14390,"URL":"https://github.com/sourcegraph/sourcegraph/issues/14390","State":"OPEN","Repository":"sourcegraph/sourcegraph","Private":false,"Labels":["RFC-201","team/code-intelligence"],"Assignees":["efritz"],"Milestone":"3.21","Author":"efritz","CreatedAt":"2020-10-02T22:39:11Z","UpdatedAt":"0001-01-01T00:00:00Z","ClosedAt":"0001-01-01T00:00:00Z"},{"ID":"MDU6SXNzdWU2OTY4MDk5MTk=","Title":"RFC 211: repo-updater new syncer doesn't use s.Logger","Body":"This is something I missed in my review. It is directly using log15 globals. But syncer has a Logger passed in that should be used instead.\r\n\r\nAdditionally the code now has a Info level log which is a bit spammy for info that isn't that useful. I suggest those should be Debug. See https://github.com/sourcegraph/sourcegraph/pull/13717","Number":13718,"URL":"https://github.com/sourcegraph/sourcegraph/issues/13718","State":"CLOSED","Repository":"sourcegraph/sourcegraph","Private":false,"Labels":["RFC-211","estimate/0.5d","team/cloud","team/cloud/milestone-1"],"Assignees":["ryanslade"],"Milestone":"Cloud 2020-09-23","Author":"keegancsmith","CreatedAt":"2020-09-09T13:20:57Z","UpdatedAt":"0001-01-01T00:00:00Z","ClosedAt":"2020-09-23T12:06:19Z"},{"ID":"MDU6SXNzdWU3MDc3NTg4MDE=","Title":"write developer friendly documentation for deploy-sourcegraph-dhall architecture","Body":"- general layout of repository\r\n- how do I add a new service?\r\n- dev environment setup \r\n- how do changes here get incorporated into sourcegraph.com","Number":14135,"URL":"https://github.com/sourcegraph/sourcegraph/issues/14135","State":"OPEN","Repository":"sourcegraph/sourcegraph","Private":false,"Labels":["dhall","planned/3.21","team/distribution"],"Assignees":["ggilmore"],"Milestone":"3.21","Author":"ggilmore","CreatedAt":"2020-09-24T00:10:18Z","UpdatedAt":"0001-01-01T00:00:00Z","ClosedAt":"0001-01-01T00:00:00Z"},{"ID":"MDU6SXNzdWU3MDYzNzUzNjU=","Title":"gqltest: code commit and bitbucket tests disabled","Body":"These tests are failing. I am going to disable them. It might be due to cycling of some of our access tokens. cc @davejrt ","Number":14046,"URL":"https://github.com/sourcegraph/sourcegraph/issues/14046","State":"CLOSED","Repository":"sourcegraph/sourcegraph","Private":false,"Labels":["estimate/0.5d","team/cloud"],"Assignees":["unknwon"],"Milestone":"Cloud 2020-09-23","Author":"keegancsmith","CreatedAt":"2020-09-22T13:16:16Z","UpdatedAt":"0001-01-01T00:00:00Z","ClosedAt":"2020-09-24T12:18:59Z"},{"ID":"MDU6SXNzdWU2ODQ4NDY3NDM=","Title":"ci: build and pin tool apks in CI for release","Body":"Some of our docker images (`sourcegraph/server`, `gitserver`), etc. rely on external tools provided alpine APKs. Examples include `git`, `postgres`, and `redis`. We've recently experienced severe issues cutting release when the versions of these tools are updated in the alpine repositories. \r\n\r\nWe can solve this by building the APKs for eaceh of the external tools at the exact version that we want. We can create `sourcegraph/alpine-builder-*` docker images that compile these APKs and store them under a known directory (like `/target`). People can trigger builds by pushing to `docker-image-build/[IMAGE]/`[VERSION]` branches on sourcegraph/sourcegraph. This will build and push a `sourcegraph/[IMAGE]:[VERSION]` docker image. \r\n\r\nDocker images that need these APKs can use `COPY --from=sourcegraph/alpine-builder-*:VERSION` statements in their dockerfile to fetch these APKS. \r\n\r\nhttps://github.com/sourcegraph/sourcegraph/pull/13158 (WIP) is an implementation of this PR. \r\n","Number":13297,"URL":"https://github.com/sourcegraph/sourcegraph/issues/13297","State":"OPEN","Repository":"sourcegraph/sourcegraph","Private":false,"Labels":["debt","planned/3.20","planned/3.21","team/distribution"],"Assignees":["ggilmore"],"Milestone":"3.21","Author":"ggilmore","CreatedAt":"2020-08-24T17:38:14Z","UpdatedAt":"0001-01-01T00:00:00Z","ClosedAt":"0001-01-01T00:00:00Z"},{"ID":"MDU6SXNzdWU3MDgzMDQ5OTY=","Title":"tracking-issue: Display partially nested items","Body":"The current behavior of nesting tracking issues doesn't work unless they are tagged in the same milestone. A feature tracking issue should not be required to be tagged in the same milestone as the parent as long as they share some issues/prs that _are_ tagged in the root tracking issue's milestone.","Number":14177,"URL":"https://github.com/sourcegraph/sourcegraph/issues/14177","State":"CLOSED","Repository":"sourcegraph/sourcegraph","Private":false,"Labels":["team/code-intelligence","tracking-issue"],"Assignees":["efritz"],"Milestone":"3.21","Author":"efritz","CreatedAt":"2020-09-24T16:18:33Z","UpdatedAt":"0001-01-01T00:00:00Z","ClosedAt":"2020-09-25T16:02:37Z"},{"ID":"MDU6SXNzdWU3MDMwNTY1ODk=","Title":"RFC 201: Update auto indexer execution","Body":"This is part of [RFC 201: Auto-indexer build configuration](https://docs.google.com/document/d/1NPQs1s814LZjNXjPuavqC1N7hZR192DNtmSBmAeH9UY).\r\n\r\nConvert the indexing process from being hard-coded to being parameterized by the types defined in https://github.com/sourcegraph/sourcegraph/issues/13892.\r\n\r\nFor the time being we will keep the effective parameters the same by only executing one instance of a configured task, which is hard-coded to behave as it does today.","Number":13894,"URL":"https://github.com/sourcegraph/sourcegraph/issues/13894","State":"CLOSED","Repository":"sourcegraph/sourcegraph","Private":false,"Labels":["RFC-201","team/code-intelligence"],"Assignees":["efritz"],"Milestone":"3.21","Author":"efritz","CreatedAt":"2020-09-16T20:35:23Z","UpdatedAt":"0001-01-01T00:00:00Z","ClosedAt":"2020-10-02T17:01:02Z"},{"ID":"MDU6SXNzdWU3MDM3NDU4NjE=","Title":"Move the CI cluster to the CI project","Body":"We want to consolidate all CI resources in the CI project, and we need to move the Kubernetes CI cluster for this.\r\n\r\n#### Tasks\r\n- [x] Deploy new GKE cluster\r\n- [x] Migrate all service accounts and secrets\r\n- [x] Verify agents can correctly run tasks\r\n- [x] Destroy old cluster","Number":13920,"URL":"https://github.com/sourcegraph/sourcegraph/issues/13920","State":"CLOSED","Repository":"sourcegraph/sourcegraph","Private":false,"Labels":["estimate/3d","planned/3.21","team/distribution"],"Assignees":["pecigonzalo"],"Milestone":"3.21","Author":"pecigonzalo","CreatedAt":"2020-09-17T16:41:55Z","UpdatedAt":"0001-01-01T00:00:00Z","ClosedAt":"2020-09-28T09:19:20Z"},{"ID":"MDU6SXNzdWU3MTI5Mjc0MDY=","Title":"RFC 201: Configure CNCF repositories for indexing","Body":"We introduced a hard-coded list of repositories which we submit to the auto-indexer. This doesn't mean that all of the CNCF target repos will index without configuration, though.\r\n\r\nThis issue tracks the follow-up effort to validate the outcome of the RFC 201 implementation by configuring all of the CNCF repos that fail the default indexing mechanism.","Number":14343,"URL":"https://github.com/sourcegraph/sourcegraph/issues/14343","State":"OPEN","Repository":"sourcegraph/sourcegraph","Private":false,"Labels":["RFC-201","team/code-intelligence"],"Assignees":["efritz"],"Milestone":"3.21","Author":"efritz","CreatedAt":"2020-10-01T15:01:29Z","UpdatedAt":"0001-01-01T00:00:00Z","ClosedAt":"0001-01-01T00:00:00Z"},{"ID":"MDU6SXNzdWU3MDI5NzU1NzI=","Title":"release steps: stop posting messages about branch cut in Slack","Body":"Today our release tracking issue has us always do the following step 5 work days before the release:\r\n\r\n\u003e - [x] Post to [#dev-announce](https://app.slack.com/client/T02FSM7DL/C0EPTDE9L) the following message:\r\n\u003e   ```\r\n\u003e   :captain: *Release captain announcement:*\r\n\u003e \r\n\u003e   Branch cut will be at the start of the next working day (2020-9-15).\r\n\u003e \r\n\u003e   All changes that will be part of `3.20` (and all associated CHANGELOG updates) should be in `main` by tomorrow. Otherwise, they will not be included in the release.\r\n\u003e   ```\r\n\r\nThis is redundant with what we post in GitHub issues already which spam's peoples email inboxes, and also makes releases eventful (\"you have one day to merge your changes!!!\") which I want to avoid. Let's stop doing this..","Number":13869,"URL":"https://github.com/sourcegraph/sourcegraph/issues/13869","State":"OPEN","Repository":"sourcegraph/sourcegraph","Private":false,"Labels":["estimate/0.5d","team/distribution"],"Assignees":null,"Milestone":"3.21","Author":"slimsag","CreatedAt":"2020-09-16T18:14:56Z","UpdatedAt":"0001-01-01T00:00:00Z","ClosedAt":"0001-01-01T00:00:00Z"},{"ID":"MDU6SXNzdWU3MDc2ODU1NDY=","Title":"sourcegraph/customer","Body":"REDACTED","Number":105,"URL":"https://github.com/sourcegraph/customer/issues/105","State":"OPEN","Repository":"sourcegraph/customer","Private":true,"Labels":["estimate/3d","planned/3.21"],"Assignees":["pecigonzalo"],"Milestone":"3.21","Author":"slimsag","CreatedAt":"2020-09-23T21:17:34Z","UpdatedAt":"0001-01-01T00:00:00Z","ClosedAt":"0001-01-01T00:00:00Z"},{"ID":"MDU6SXNzdWU2ODQ5NjExMTk=","Title":"sourcegraph/customer","Body":"REDACTED","Number":97,"URL":"https://github.com/sourcegraph/customer/issues/97","State":"OPEN","Repository":"sourcegraph/customer","Private":true,"Labels":["planned/3.20","planned/3.21"],"Assignees":["slimsag"],"Milestone":"3.21","Author":"slimsag","CreatedAt":"2020-08-24T20:57:42Z","UpdatedAt":"0001-01-01T00:00:00Z","ClosedAt":"0001-01-01T00:00:00Z"},{"ID":"MDU6SXNzdWU2ODU4OTgwMTg=","Title":"dhall: generate separate yaml files for each \"component\" instead of one large one","Body":"need a wrapper and dhall expressions","Number":13338,"URL":"https://github.com/sourcegraph/sourcegraph/issues/13338","State":"OPEN","Repository":"sourcegraph/sourcegraph","Private":false,"Labels":["dhall","estimate/2d","planned/3.21","team/distribution"],"Assignees":["uwedeportivo"],"Milestone":"3.21","Author":"ggilmore","CreatedAt":"2020-08-25T23:28:42Z","UpdatedAt":"0001-01-01T00:00:00Z","ClosedAt":"0001-01-01T00:00:00Z"},{"ID":"MDU6SXNzdWU3MDY1MTE3MzY=","Title":"LSIF-JVM Research Spike","Body":"### Plan\r\n\r\n~2hr research spike for a combined/aggregating lsif-jvm that provides support for multiple JVM languages under one :house: \r\nCandidate languages are: **Java, Kotlin, Scala, Groovy**. *Sorry, Clojure \u0026 Gosu.*\r\n\r\n","Number":14057,"URL":"https://github.com/sourcegraph/sourcegraph/issues/14057","State":"CLOSED","Repository":"sourcegraph/sourcegraph","Private":false,"Labels":["spike","team/code-intelligence"],"Assignees":["Strum355"],"Milestone":"3.21","Author":"Strum355","CreatedAt":"2020-09-22T16:05:43Z","UpdatedAt":"0001-01-01T00:00:00Z","ClosedAt":"2020-09-23T20:13:24Z"},{"ID":"MDU6SXNzdWU2ODgwNTA2OTU=","Title":"on-call: document actions to follow up on critical alerts","Body":"It's not currently very clear what to do with alerts coming through #opsgenie - for example, blob load latency alerts have been firing frequently (https://github.com/sourcegraph/sourcegraph/issues/12942) without follow-up\r\n\r\nEarlier today, a GitHub rate limit alert went off and was interpreted as a false-positive, which later turned out to be a real problem: https://sourcegraph.slack.com/archives/CMBA8F926/p1598615920060100\r\n\r\nThe current on-call page (https://about.sourcegraph.com/handbook/engineering/on_call) is a bit out of date and (IMO) could use a bit more detail relevant to how alerts work today - specifically, actions like:\r\n\r\n* silencing via PR to deploy-sourcegraph-dot-com + issue tracking investigation into the alert\r\n* adjusting alerts via a PR to sourcegraph (and/or reaching out to Distribution for help on how to better encapsulate the behaviour we want to alert on)\r\n* improving `PossibleSolutions` with actual solutions we take, and/or linking to relevant context (https://github.com/sourcegraph/sourcegraph/issues/13436)","Number":1468,"URL":"https://github.com/sourcegraph/about/issues/1468","State":"OPEN","Repository":"sourcegraph/about","Private":false,"Labels":["planned/3.20","planned/3.21","team/distribution"],"Assignees":["bobheadxi"],"Milestone":"3.21","Author":"bobheadxi","CreatedAt":"2020-08-28T12:47:30Z","UpdatedAt":"0001-01-01T00:00:00Z","ClosedAt":"0001-01-01T00:00:00Z"},{"ID":"MDU6SXNzdWU3MDM3MzYxNjY=","Title":"Remove the `-tooling` cluster from the production project","Body":"The tooling k8s cluster is currently in the production project, we should move this cluster to a separate project.\r\n\r\nWe could reuse and existing cluster or create a new cluster and project for this.\r\n\r\n#### Tasks\r\n- [x] Discover connecting resources\r\n- [x] Backups resources\r\n- [x] Decide if share a k8s cluster ~~or utilize a new one~~\r\n- [x] Migrate resources\r\n- [ ] Document these services\r\n  - [ ] https://about.sourcegraph.com/handbook/engineering/distribution/github_enterprise_testing_instance\r\n- [ ] Delete old resources","Number":13917,"URL":"https://github.com/sourcegraph/sourcegraph/issues/13917","State":"OPEN","Repository":"sourcegraph/sourcegraph","Private":false,"Labels":["estimate/3d","planned/3.21","team/distribution"],"Assignees":["pecigonzalo"],"Milestone":"3.21","Author":"pecigonzalo","CreatedAt":"2020-09-17T16:26:53Z","UpdatedAt":"0001-01-01T00:00:00Z","ClosedAt":"0001-01-01T00:00:00Z"},{"ID":"MDU6SXNzdWU1OTc1NzE3NTg=","Title":"sourcegraph/customer","Body":"REDACTED","Number":48,"URL":"https://github.com/sourcegraph/customer/issues/48","State":"OPEN","Repository":"sourcegraph/customer","Private":true,"Labels":["estimate/1d"],"Assignees":["asdine"],"Milestone":"Cloud 2020-09-23","Author":"slimsag","CreatedAt":"2020-04-09T21:45:42Z","UpdatedAt":"0001-01-01T00:00:00Z","ClosedAt":"0001-01-01T00:00:00Z"},{"ID":"MDU6SXNzdWU3MDI5ODIxODA=","Title":"release steps: do not verify CHANGELOG entries","Body":"Our current release process https://github.com/sourcegraph/sourcegraph/issues/13374 indicates that the release captain should:\r\n\r\n\u003e - [x] Verify for each CHANGELOG item the following (if any item does not have these, disable it,\r\n\u003e   notify the owner, and remove it from the CHANGELOG):\r\n\u003e   - It has an owner attached to it\r\n\u003e   - It has undergone manual QA (and the QA was done on k8s.sgdev.org or at scale if the feature requires it).\r\n\u003e   - It is covered by the regression test suite\r\n\r\nIn practice I do not think this is something the release captain can, or actually does, well. Yes it sounds ideal that every change is verified to have an owner, has undergone QA at scale, and is covered by regression tests - but I seriously doubt the release captain is actually able to effectively do this. Do they look at every commit since the last release and message every author? I doubt it.\r\n\r\nI propose removing this and leaving it up to individual teams and dev practices to ensure this has happened. We can update handbook docs to make it clear that we expect this to be done for all changes to a reasonable degree (but I think that is already assumed by most, and perhaps already documented.)","Number":13872,"URL":"https://github.com/sourcegraph/sourcegraph/issues/13872","State":"OPEN","Repository":"sourcegraph/sourcegraph","Private":false,"Labels":["estimate/0.5d","planned/3.21","team/distribution"],"Assignees":["bobheadxi"],"Milestone":"3.21","Author":"slimsag","CreatedAt":"2020-09-16T18:26:32Z","UpdatedAt":"0001-01-01T00:00:00Z","ClosedAt":"0001-01-01T00:00:00Z"},{"ID":"MDU6SXNzdWU3MDgyNDc4NzY=","Title":"sourcegraph/customer","Body":"REDACTED","Number":108,"URL":"https://github.com/sourcegraph/customer/issues/108","State":"OPEN","Repository":"sourcegraph/customer","Private":true,"Labels":["planned/3.21"],"Assignees":["pecigonzalo"],"Milestone":"3.21","Author":"tistru","CreatedAt":"2020-09-24T14:58:03Z","UpdatedAt":"0001-01-01T00:00:00Z","ClosedAt":"0001-01-01T00:00:00Z"},{"ID":"MDU6SXNzdWU3MDI5OTI4NDY=","Title":"run \"e2e regression tests\" in CI once/day, even if they fail all the time","Body":"We should be able to run the e2e regression tests described in our release process https://github.com/sourcegraph/sourcegraph/issues/13374 in our CI pipeline:\r\n\r\n\u003e - [ ] Run regression tests:\r\n\u003e   - [ ] Follow [README.md](https://github.com/sourcegraph/sourcegraph/blob/main/web/src/regression/README.md) to set up your e2e environment. \r\n\u003e         Run the tests from the `web` directory. A more complete set of env vars can be found in this\r\n\u003e         [1password](https://team-sourcegraph.1password.com/vaults/dnrhbauihkhjs5ag6vszsme45a/allitems/gm5dfflq6sfclmotneuayfdj5q) entry.\r\n\u003e   - [ ] New Sourcegraph Docker container:\r\n\u003e     - Run the initializer: `E2E_INIT=true SOURCEGRAPH_BASE_URL=http://localhost:7080 yarn run test:regression -t 'Initialize new Sourcegraph instance'`\r\n\u003e     - Run the regression test suite: `SOURCEGRAPH_BASE_URL=http://localhost:7080 yarn run test:regression`\r\n\r\nActually having these _pass_ is going to not be likely possible in 3.21, but we should aim to have them running (even if they fail all the time) in CI once per day.\r\n\r\nhttps://sourcegraph.com/github.com/sourcegraph/sourcegraph/-/blob/web/src/regression/README.md","Number":13876,"URL":"https://github.com/sourcegraph/sourcegraph/issues/13876","State":"OPEN","Repository":"sourcegraph/sourcegraph","Private":false,"Labels":["estimate/5d","team/distribution"],"Assignees":null,"Milestone":"3.21","Author":"slimsag","CreatedAt":"2020-09-16T18:45:03Z","UpdatedAt":"0001-01-01T00:00:00Z","ClosedAt":"0001-01-01T00:00:00Z"},{"ID":"MDU6SXNzdWU2ODY5ODA5MDU=","Title":"Drop the sources column from the repo table","Body":"https://github.com/sourcegraph/sourcegraph/pull/13176 introduces a new table called `external_service_repos` that is used to denormalize the content of the `sources` column of the repo table.\r\nDropping that column while migrating the data to the new table is taking too long when the `repo` table is big, this caused the migration to timeout on Sourcegraph cloud.\r\nWe decided instead to keep that column in 3.20, make it read-only with a trigger, and remove it in 3.21.\r\n","Number":13401,"URL":"https://github.com/sourcegraph/sourcegraph/issues/13401","State":"CLOSED","Repository":"sourcegraph/sourcegraph","Private":false,"Labels":["debt","estimate/0.5d","team/cloud"],"Assignees":["asdine"],"Milestone":"Cloud 2020-09-23","Author":"asdine","CreatedAt":"2020-08-27T06:30:26Z","UpdatedAt":"0001-01-01T00:00:00Z","ClosedAt":"2020-09-23T12:09:31Z"},{"ID":"MDU6SXNzdWU3MDQ0NzExMDY=","Title":"LSIF uploads fail with abbreviated OID","Body":"Uploading LSIF data with an abbreviated OID produces an error from src lsif upload:\r\n\r\n```\r\nfailed to enqueue payload: pq: new row for relation \"lsif_uploads\" violates check constraint \"lsif_uploads_commit_valid_chars\"\r\n```\r\n\r\nThis is the wrong error to display - we should be validating the hash before attempting to insert it. Best implementation would be able to disambiguate an abbreviated OID into a full one, as we need to ensure that the commit exists first anyway.","Number":13957,"URL":"https://github.com/sourcegraph/sourcegraph/issues/13957","State":"CLOSED","Repository":"sourcegraph/sourcegraph","Private":false,"Labels":["estimate/0.5d","team/code-intelligence"],"Assignees":["efritz"],"Milestone":"3.21","Author":"efritz","CreatedAt":"2020-09-18T15:32:09Z","UpdatedAt":"0001-01-01T00:00:00Z","ClosedAt":"2020-09-21T19:59:39Z"},{"ID":"MDU6SXNzdWU3MDY3NTAzNTg=","Title":"Create a dev/testing managed instance","Body":"Breakout issue from https://github.com/sourcegraph/sourcegraph/issues/13604","Number":14075,"URL":"https://github.com/sourcegraph/sourcegraph/issues/14075","State":"CLOSED","Repository":"sourcegraph/sourcegraph","Private":false,"Labels":["team/distribution"],"Assignees":["slimsag"],"Milestone":"3.21","Author":"slimsag","CreatedAt":"2020-09-22T23:17:42Z","UpdatedAt":"0001-01-01T00:00:00Z","ClosedAt":"2020-09-23T21:10:49Z"},{"ID":"MDU6SXNzdWU2ODMxNTE5MTQ=","Title":"Navigation to definition unavailable from occurrence/usage of symbol in source ","Body":"#### Steps to reproduce:\r\nCustomer feedback:\r\n\u003e I'm not finding navigation from an occurrence/usage of a symbol in the source to its definition. It may be something that either we didn't set up or I just haven't figured out, but either way it would be awesome if in my casual usage I experienced it.\r\n\r\nCompany: https://app.hubspot.com/contacts/2762526/company/693777177/\r\nCustomer: https://app.hubspot.com/contacts/2762526/contact/15781901/","Number":13200,"URL":"https://github.com/sourcegraph/sourcegraph/issues/13200","State":"OPEN","Repository":"sourcegraph/sourcegraph","Private":false,"Labels":["bug","estimate/0.5d","team/code-intelligence"],"Assignees":["aidaeology","macraig"],"Milestone":"3.21","Author":"poojaj-tech","CreatedAt":"2020-08-20T23:19:45Z","UpdatedAt":"0001-01-01T00:00:00Z","ClosedAt":"0001-01-01T00:00:00Z"},{"ID":"MDU6SXNzdWU3MTE3NzMzMDA=","Title":"Sourcegraph should encrypt customer data with their customer specific token","Body":"After submitting a [customer specific token](https://github.com/sourcegraph/sourcegraph/issues/14298), Sourcegraph should encrypt customer data with the new token, in a background task.","Number":14300,"URL":"https://github.com/sourcegraph/sourcegraph/issues/14300","State":"OPEN","Repository":"sourcegraph/sourcegraph","Private":false,"Labels":["RFC-214","team/cloud","team/security"],"Assignees":null,"Milestone":"","Author":"chayim","CreatedAt":"2020-09-30T09:10:03Z","UpdatedAt":"0001-01-01T00:00:00Z","ClosedAt":"0001-01-01T00:00:00Z"},{"ID":"MDU6SXNzdWU2NjY1NzE2OTk=","Title":"update lsif.dev","Body":"","Number":12501,"URL":"https://github.com/sourcegraph/sourcegraph/issues/12501","State":"OPEN","Repository":"sourcegraph/sourcegraph","Private":false,"Labels":["docs","planned/3.19","team/code-intelligence"],"Assignees":["aidaeology"],"Milestone":"3.21","Author":"gbrik","CreatedAt":"2020-07-27T20:41:54Z","UpdatedAt":"0001-01-01T00:00:00Z","ClosedAt":"0001-01-01T00:00:00Z"},{"ID":"MDU6SXNzdWU3MDQ0NzAzMTQ=","Title":"Show last ping data to admins on the Site-admin \u003e Pings page","Body":"https://app.hubspot.com/contacts/2762526/company/557692623 requires offline support for Sourcegraph, and we have agreed that they will simply email us a copy of the standard telemetry, but once per month (or on some other schedule). \r\n\r\nThis dovetails nicely with the desire to be more transparent about our ping telemetry. We have discussed in the past displaying the actual telemetry payloads to admins for full transparency, and that could solve this problem.\r\n\r\nProposal\r\n* On the Site-admin \u003e Pings page, add a box at the top (or bottom? or on another tab?) that illustrates the payload generated for the \"last\" ping (or if not exactly the last, some ping in the last 24 hours) that was sent.\r\n* Add a button to the top to download that payload (similar to the download button on https://sourcegraph.com/site-admin/usage-statistics).\r\n* Ensure that this whole flow works, even if the instance is not connected to the internet (so pings aren't actually going out). In this case, I believe we still generate the payload, but the post to sourcegraph.com fails, so just make sure everything is sequenced correctly...","Number":13956,"URL":"https://github.com/sourcegraph/sourcegraph/issues/13956","State":"OPEN","Repository":"sourcegraph/sourcegraph","Private":false,"Labels":["estimate/2d","site-admin","subscriptions","team/cloud","team/web"],"Assignees":["flying-robot"],"Milestone":"Cloud 2020-09-23","Author":"dadlerj","CreatedAt":"2020-09-18T15:30:53Z","UpdatedAt":"0001-01-01T00:00:00Z","ClosedAt":"0001-01-01T00:00:00Z"},{"ID":"MDU6SXNzdWU3MDI2MzI5MzI=","Title":"RFC-214: Encrypt secrets in user_external_accounts, external_services, saved_searches and external_service_repos","Body":"We need to encrypt existing data in `user_exernal_accounts.{auth_data, account_data}`, `external_services.{config}`, `saved_searches.query` and `external_service_repos.clone_url`.\r\n\r\nPrior art: https://github.com/sourcegraph/sourcegraph/pull/13093/files#diff-0d2a8ca7d4bdc94a4127a855a8a814b4R323\r\n\r\nTODO:\r\n- [ ] Come up a helper that accepts a table name, and list of columns to encrypt. #14231\r\n- [ ] Have a background worker in repo-updater to identify rows that are not encrypted by the current `primaryKey` (i.e. search rows that do not have expected `keyHash` prefix). This would cover both cases of encryption bootstrap and future key rotation.\r\n- [ ] Have a Prometheus metric to track how many rows are encrypted/unencrypted until we have good UI on this.\r\n- [ ] Decide if `ConfiguredToRotate` is worth keeping given the `Decrypt`/`RotateEncryption` method now does no-op if the ciphertext does not look like being encrypted.","Number":13853,"URL":"https://github.com/sourcegraph/sourcegraph/issues/13853","State":"OPEN","Repository":"sourcegraph/sourcegraph","Private":false,"Labels":["RFC-214","estimate/5d","team/cloud","team/cloud/milestone-1","team/security"],"Assignees":["unknwon","daxmc99"],"Milestone":"Cloud 2020-09-23","Author":"unknwon","CreatedAt":"2020-09-16T10:06:47Z","UpdatedAt":"0001-01-01T00:00:00Z","ClosedAt":"0001-01-01T00:00:00Z"},{"ID":"MDU6SXNzdWU3MDI5OTQxNDk=","Title":"add vagrant test for sourcegraph/server upgrades","Body":"Today our release process https://github.com/sourcegraph/sourcegraph/issues/13374 indicates we should do a manual test of upgrading Sourcegraph using the server image:\r\n\r\n\u003e   - [ ] Upgrade from previous release:\r\n\u003e     - Run the initializer on a Docker container running the last patch version of the previous major/minor release.\r\n\u003e     - Upgrade and run the regression test suite.\r\n\r\nWe should effectively copy what we did for https://github.com/sourcegraph/deploy-sourcegraph-docker/tree/master/test and have a Vagrant-based test for this that runs in CI.\r\n\r\nOne challenge here will be figuring out how to denote the \"old\" and \"new\" version - will probably have to fetch that info from Git tags?","Number":13877,"URL":"https://github.com/sourcegraph/sourcegraph/issues/13877","State":"OPEN","Repository":"sourcegraph/sourcegraph","Private":false,"Labels":["estimate/3d","team/distribution"],"Assignees":null,"Milestone":"3.21","Author":"slimsag","CreatedAt":"2020-09-16T18:47:09Z","UpdatedAt":"0001-01-01T00:00:00Z","ClosedAt":"0001-01-01T00:00:00Z"},{"ID":"MDU6SXNzdWU3MDYzNDAwMTY=","Title":"RFC 211: Repo updater should sync external services separately","Body":"repo-updater should sync each external service separately, backing off when no change has occurred.\r\n\r\nIt should use the workerutil package to schedule jobs that can be process by n syncers concurrently.\r\n\r\nWe should ensure that:\r\n\r\n- [x] Private code cannot by synced for user owned external services\r\n- [x] During long syncs, new repos appear in our db ASAP\r\n- [x] Sync performance is no worse than the previous syncer","Number":14041,"URL":"https://github.com/sourcegraph/sourcegraph/issues/14041","State":"CLOSED","Repository":"sourcegraph/sourcegraph","Private":false,"Labels":["RFC-211","estimate/2d","team/cloud","team/cloud/milestone-1"],"Assignees":["ryanslade","asdine"],"Milestone":"Cloud 2020-09-23","Author":"ryanslade","CreatedAt":"2020-09-22T12:28:21Z","UpdatedAt":"0001-01-01T00:00:00Z","ClosedAt":"2020-09-30T14:14:03Z"},{"ID":"MDU6SXNzdWU3MDI5NzA3NDA=","Title":"release steps: make Product team self-sufficient","Body":"The Distribution [release tracking issue](https://github.com/sourcegraph/sourcegraph/issues/13374) currently requires we notify the Product team on three different occasions:\r\n\r\n\u003e ...\r\n\u003e - [ ] Verify by posting in #product that there is a draft of the release blog post.\r\n\u003e ...\r\n\u003e - [ ] Post in #product and verify the blog post is ready to be merged.\r\n\u003e ...\r\n\u003e - [ ] Ask the product team to merge the blog post (example).\r\n\r\nOur releases occur on a single/static fixed date, the 20th, we should not be the ones to follow up on product/marketing posts and should find a way to make the Product team self sufficient in the release process.\r\n\r\nEffectively, I believe this just requires we confirm with them that we stop notifying them about this is OK (and they do it themselves internally the same as they would otherwise), and removing these steps from our release tracking issue template.","Number":13868,"URL":"https://github.com/sourcegraph/sourcegraph/issues/13868","State":"OPEN","Repository":"sourcegraph/sourcegraph","Private":false,"Labels":["estimate/0.5d","team/distribution"],"Assignees":["slimsag"],"Milestone":"3.21","Author":"sourcegraph-bot","CreatedAt":"2020-09-16T18:06:48Z","UpdatedAt":"0001-01-01T00:00:00Z","ClosedAt":"0001-01-01T00:00:00Z"},{"ID":"MDU6SXNzdWU2MzAzNzQxODc=","Title":"License report for syntect_server \u0026 its dependencies; remove syntaxes with questionable licenses","Body":"See https://github.com/sourcegraph/sourcegraph/pull/11116#discussion_r433355048","Number":11269,"URL":"https://github.com/sourcegraph/sourcegraph/issues/11269","State":"OPEN","Repository":"sourcegraph/sourcegraph","Private":false,"Labels":["customer","estimate/1d","important","planned/3.20","planned/3.21","team/distribution"],"Assignees":["slimsag"],"Milestone":"3.21","Author":"slimsag","CreatedAt":"2020-06-03T22:28:06Z","UpdatedAt":"0001-01-01T00:00:00Z","ClosedAt":"0001-01-01T00:00:00Z"},{"ID":"MDU6SXNzdWU3MDg2MTM4MzE=","Title":"RFC-214: Enable encryption on dogfood \u0026 cloud","Body":"As part of RFC-214, we need to test the encryption on dogfood and then Sourcegraph.com. \r\n\r\nNote: The only table that has performance implications is `external_services.config`  ","Number":14192,"URL":"https://github.com/sourcegraph/sourcegraph/issues/14192","State":"OPEN","Repository":"sourcegraph/sourcegraph","Private":false,"Labels":["RFC-214","estimate/3d","team/cloud","team/security"],"Assignees":["daxmc99"],"Milestone":"","Author":"daxmc99","CreatedAt":"2020-09-25T03:34:00Z","UpdatedAt":"0001-01-01T00:00:00Z","ClosedAt":"0001-01-01T00:00:00Z"},{"ID":"MDU6SXNzdWU3MDExODgzOTM=","Title":"dogfood-k8s: finalize migration over to new cluster","Body":"Move all configuration, licenses, etc from the current k8s.sgdev.org to the new cluster we've set up at https://github.com/sourcegraph/deploy-sourcegraph-dogfood-k8s-2 in `sourcegraph-dogfood`'s `dogfood` cluster.\r\n\r\n- [x] Move configuration, license =\u003e https://github.com/sourcegraph/sourcegraph/issues/13792#issuecomment-693140150\r\n- [x] Move DNS =\u003e https://github.com/sourcegraph/infrastructure/pull/2131\r\n- [x] Update handbook entry =\u003e https://github.com/sourcegraph/about/pull/1579\r\n- [x] Tear down old cluster","Number":13792,"URL":"https://github.com/sourcegraph/sourcegraph/issues/13792","State":"CLOSED","Repository":"sourcegraph/sourcegraph","Private":false,"Labels":["deploy-sourcegraph","estimate/1d","planned/3.20","planned/3.21","team/distribution"],"Assignees":["pecigonzalo","bobheadxi"],"Milestone":"3.21","Author":"bobheadxi","CreatedAt":"2020-09-14T15:06:25Z","UpdatedAt":"0001-01-01T00:00:00Z","ClosedAt":"2020-09-30T14:31:55Z"},{"ID":"MDU6SXNzdWU3MTAxNDE2MjY=","Title":"monitoring: add more panels to Grafana repo-updater dashboard","Body":"Raw notes:\r\n\r\n- Is syncing health?\r\n\t- Data points for syncing completes, how much time and how many repos for each sync\r\n\t- Schedule queue, how big is it\r\n\t- What do we need if customer thinks repos are not updating\r\n\t- Are repos being refreshed appropriately on gitservers?\r\n\t- Number of update requests to gitservers\r\n- Bonus: How is indexing doing on Zoekt?\r\n\r\nhttps://github.com/sourcegraph/customer/issues/106","Number":14237,"URL":"https://github.com/sourcegraph/sourcegraph/issues/14237","State":"OPEN","Repository":"sourcegraph/sourcegraph","Private":false,"Labels":["customer","estimate/1d","team/cloud"],"Assignees":["ryanslade"],"Milestone":"Cloud 2020-09-23","Author":"unknwon","CreatedAt":"2020-09-28T10:25:56Z","UpdatedAt":"0001-01-01T00:00:00Z","ClosedAt":"0001-01-01T00:00:00Z"},{"ID":"MDU6SXNzdWU2NjIwODg2MTg=","Title":"Run e2e \"regression\" tests on bare-metal Buildkite agents on every commit to master (non-blocking)","Body":"Every commit to master should run the e2e \"regression\" tests on the bare-metal buildkite agents once #12101 is closed.\r\n\r\nIt should not block the build at all (adds no time to CI runs, and if it fails should not show the build as failed).","Number":12340,"URL":"https://github.com/sourcegraph/sourcegraph/issues/12340","State":"OPEN","Repository":"sourcegraph/sourcegraph","Private":false,"Labels":["distribution-e2e-frequency","planned/3.19","planned/3.20","planned/3.21","team/distribution"],"Assignees":["davejrt","slimsag"],"Milestone":"3.21","Author":"slimsag","CreatedAt":"2020-07-20T17:47:44Z","UpdatedAt":"0001-01-01T00:00:00Z","ClosedAt":"0001-01-01T00:00:00Z"},{"ID":"MDU6SXNzdWU3MDc3NTUwMDE=","Title":"add gitserver to deploy-sourcegraph-dhall, with support for sourcegraph.com customizations","Body":"","Number":14131,"URL":"https://github.com/sourcegraph/sourcegraph/issues/14131","State":"OPEN","Repository":"sourcegraph/sourcegraph","Private":false,"Labels":["dhall","estimate/4d","planned/3.21","team/distribution"],"Assignees":["uwedeportivo"],"Milestone":"3.21","Author":"ggilmore","CreatedAt":"2020-09-23T23:59:20Z","UpdatedAt":"0001-01-01T00:00:00Z","ClosedAt":"0001-01-01T00:00:00Z"},{"ID":"MDU6SXNzdWU3MTE5Mzg2NzQ=","Title":"RFC 211: User added external services on Cloud should clone newly added repos on first sync","Body":"When user owned external services are created on Cloud they are synced ASAP however the repos themselves are not cloned until they are accessed. Instead, we should clone and index them on first sync as this is a much better user experience.\r\n\r\n","Number":14315,"URL":"https://github.com/sourcegraph/sourcegraph/issues/14315","State":"OPEN","Repository":"sourcegraph/sourcegraph","Private":false,"Labels":["RFC-211","estimate/2d","team/cloud"],"Assignees":["ryanslade","asdine"],"Milestone":"Cloud 2020-09-23","Author":"ryanslade","CreatedAt":"2020-09-30T13:17:23Z","UpdatedAt":"0001-01-01T00:00:00Z","ClosedAt":"0001-01-01T00:00:00Z"},{"ID":"MDU6SXNzdWU2OTIxNzAzNzg=","Title":"Create successful and reproducible indexes of 20 OSS repos","Body":"Steps for everyone:\r\n\r\n1. Find a popular open source C++ repository which is not already documented in this thread. if you can think of one yourself, do that! otherwise here's some lists: [GitHub trending](https://github.com/trending/c++), [CodeTriage](https://www.codetriage.com/?language=C%2B%2B), [awesome-cpp](https://github.com/fffaraz/awesome-cpp).\r\n1. Follow the documentation on this repo to create an lsif index of the chosen repository. For now, use the [simplify-cmake](https://github.com/sourcegraph/lsif-clang/tree/simplify-cmake) branch. If you're unable to create an index, file a bug documenting what you tried.\r\n1. Follow the sourcegraph documentation to upload the lsif index to sourcegraph.com, and confirm that the c++ codenav works (feel free to spend lots of time here, C++ is a strange beast so click on some strange code to make sure it's getting indexed properly!)\r\n1. Document the steps from cloning to successful index creation (not including getting deps for and building lsif-clang)\r\n\r\nSteps for Garo:\r\n\r\n1. Reproduce all of the above","Number":12,"URL":"https://github.com/sourcegraph/lsif-clang/issues/12","State":"OPEN","Repository":"sourcegraph/lsif-clang","Private":false,"Labels":["enhancement","help wanted","planned/3.20","team/code-intelligence"],"Assignees":["aidaeology","gbrik"],"Milestone":"3.21","Author":"gbrik","CreatedAt":"2020-09-03T18:04:37Z","UpdatedAt":"0001-01-01T00:00:00Z","ClosedAt":"0001-01-01T00:00:00Z"},{"ID":"MDU6SXNzdWU3MDc3NTU0MjY=","Title":"add deploy-sourcegraph-dhall pipeline to deploy-sourcegraph-dot-com","Body":"Part of: https://github.com/sourcegraph/sourcegraph/issues/13340\r\n\r\nDepends on: https://github.com/sourcegraph/sourcegraph/issues/14131, https://github.com/sourcegraph/sourcegraph/issues/14130, https://github.com/sourcegraph/sourcegraph/issues/13338, https://github.com/sourcegraph/sourcegraph/issues/14133\r\n\r\n- [ ] remove existing https://github.com/sourcegraph/deploy-sourcegraph-dot-com YAML files for symbols, gitserver\r\n- [ ] add pipeline.dhall file that imports https://github.com/sourcegraph/deploy-sourcegraph-dhall with the necessary customizations\r\n- [ ] add CI check to verify that dhall and generated kubernetes YAML are synchronized (runs every commit)","Number":14132,"URL":"https://github.com/sourcegraph/sourcegraph/issues/14132","State":"OPEN","Repository":"sourcegraph/sourcegraph","Private":false,"Labels":["dhall","estimate/1d","planned/3.21","team/distribution"],"Assignees":["uwedeportivo"],"Milestone":"3.21","Author":"ggilmore","CreatedAt":"2020-09-24T00:00:31Z","UpdatedAt":"0001-01-01T00:00:00Z","ClosedAt":"0001-01-01T00:00:00Z"}],"PullRequests":[{"ID":"MDExOlB1bGxSZXF1ZXN0NDk2OTIxNzY4","Title":"vcs/git: Handle tags without CreatorDate in git.ListTags","Body":"Fixes #5453\r\n\r\nCo-authored with @flying-robot\r\n","Number":14373,"URL":"https://github.com/sourcegraph/sourcegraph/pull/14373","State":"MERGED","Repository":"sourcegraph/sourcegraph","Private":false,"Labels":["bug","team/cloud"],"Assignees":null,"Milestone":"Cloud 2020-09-23","Author":"tsenart","CreatedAt":"2020-10-02T13:52:16Z","UpdatedAt":"0001-01-01T00:00:00Z","ClosedAt":"2020-10-02T20:58:46Z","BeganAt":"2020-10-02T13:50:14Z"},{"ID":"MDExOlB1bGxSZXF1ZXN0NDk0NTE1MTUy","Title":"tracking-issue: Turn the tracking issue inside out","Body":"This is a rewrite to _properly_ support nested tracking issues. Closes https://github.com/sourcegraph/sourcegraph/issues/14205.\r\n\r\nWe needed to change a lot about the API request and graph traversal logic to support this. Our previous API requests did not return the correct set of issues, and the graph traversal logic assumes some properties that aren't there in real cases.\r\n\r\nInstead of loading tracking issues looking for the exact set of tags (which will skip tracking issues with a differing milestone or `team/*` label), we find all of the term sets we need to search by (labels and milestones), then retrieve _all_ issues and pull requests that match any one of those term sets. Each assignee's work section is rendered with all issues and pull requests available in the pool (not just the ones that exactly match the top-level tracking issue).\r\n\r\nPreviously, we rendered 'top-down' by saying: this issue belongs to the tracking issue, we'll render it recursively. This excludes being able to render RFC tracking issues with no `team/*` label in a team milestone tracking issue, as it's missing one of the parent tracking issue's label. Instead, we find all of the \"leaf\" issues or pull requests, then determine the set of other tracking issues that it could belong to. We render bottom-up rather than top-down.\r\n\r\n# Before\r\n\r\n\u003cimg width=\"750\" alt=\"Screen Shot 2020-09-29 at 9 05 46 AM\" src=\"https://user-images.githubusercontent.com/103087/94569159-04ad8380-0233-11eb-93e0-0af003fec3d8.png\"\u003e\r\n\r\nNote: RFC 214 does not have a team label as it tags both the cloud and security teams so it doesn't match the parent tracking issue.\r\n\r\n# After\r\n\r\n\u003cimg width=\"750\" alt=\"Screen Shot 2020-09-29 at 9 21 07 AM\" src=\"https://user-images.githubusercontent.com/103087/94571112-3c1d2f80-0235-11eb-9e82-6d12268741c9.png\"\u003e\r\n\r\nNote: There is no tracking issue for RFC 167.\r\n","Number":14265,"URL":"https://github.com/sourcegraph/sourcegraph/pull/14265","State":"MERGED","Repository":"sourcegraph/sourcegraph","Private":false,"Labels":["team/code-intelligence","tracking-issue"],"Assignees":["efritz"],"Milestone":"3.21","Author":"efritz","CreatedAt":"2020-09-29T03:14:14Z","UpdatedAt":"0001-01-01T00:00:00Z","ClosedAt":"2020-10-01T14:30:53Z","BeganAt":"2020-09-29T03:13:24Z"},{"ID":"MDExOlB1bGxSZXF1ZXN0NDkyMDI2MDE4","Title":"codeintel: Refactor construction of copyfiles flags","Body":"This makes some utility functions to make the touched code more self-documenting.","Number":14116,"URL":"https://github.com/sourcegraph/sourcegraph/pull/14116","State":"MERGED","Repository":"sourcegraph/sourcegraph","Private":false,"Labels":["RFC-201","team/code-intelligence"],"Assignees":["efritz"],"Milestone":"3.21","Author":"efritz","CreatedAt":"2020-09-23T20:35:59Z","UpdatedAt":"0001-01-01T00:00:00Z","ClosedAt":"2020-09-23T21:29:01Z","BeganAt":"2020-09-23T20:34:44Z"},{"ID":"MDExOlB1bGxSZXF1ZXN0NDkwMzk3MTY0","Title":"tracking-issue: Fix long-form linked issues","Body":"A PR and an issue were only linked if the PR contained the `#issue-number` link form, but not if you use the full URL, e.g. `https://github.com/sg/sg/issues/issue-number`. This PR adds a pattern matching for the second format.","Number":13989,"URL":"https://github.com/sourcegraph/sourcegraph/pull/13989","State":"MERGED","Repository":"sourcegraph/sourcegraph","Private":false,"Labels":["team/code-intelligence","tracking-issue"],"Assignees":["efritz"],"Milestone":"3.21","Author":"efritz","CreatedAt":"2020-09-21T15:49:49Z","UpdatedAt":"0001-01-01T00:00:00Z","ClosedAt":"2020-09-21T16:29:37Z","BeganAt":"2020-09-21T15:17:45Z"},{"ID":"MDExOlB1bGxSZXF1ZXN0NDk2OTYyMjA3","Title":"repo-updater: Fix deleted_at check","Body":"","Number":14375,"URL":"https://github.com/sourcegraph/sourcegraph/pull/14375","State":"MERGED","Repository":"sourcegraph/sourcegraph","Private":false,"Labels":["team/cloud"],"Assignees":null,"Milestone":"Cloud 2020-09-23","Author":"ryanslade","CreatedAt":"2020-10-02T14:58:43Z","UpdatedAt":"0001-01-01T00:00:00Z","ClosedAt":"2020-10-02T15:04:42Z","BeganAt":"2020-10-02T14:57:50Z"},{"ID":"MDExOlB1bGxSZXF1ZXN0NDk2OTgzNDgw","Title":"fix: Ensure frontend connects to frontend database","Body":"We now require naming the database as part of the connection/migration routine as we have two databases: `frontend` and `codeintel`. There was one path where the default `\"\"` was passed from the frontend.\r\n\r\nThis should fix the current main build.","Number":14379,"URL":"https://github.com/sourcegraph/sourcegraph/pull/14379","State":"MERGED","Repository":"sourcegraph/sourcegraph","Private":false,"Labels":["RFC-235","team/code-intelligence"],"Assignees":["efritz"],"Milestone":"3.21","Author":"efritz","CreatedAt":"2020-10-02T15:34:56Z","UpdatedAt":"0001-01-01T00:00:00Z","ClosedAt":"2020-10-02T15:37:08Z","BeganAt":"2020-10-02T15:33:34Z"},{"ID":"MDExOlB1bGxSZXF1ZXN0NDkxOTMwNjI4","Title":"tracking-issue: Fix strikethrough on closed (un-merged) PRs","Body":"Display a strikethrough on the title of closed (but un-merged) PRs.","Number":14107,"URL":"https://github.com/sourcegraph/sourcegraph/pull/14107","State":"MERGED","Repository":"sourcegraph/sourcegraph","Private":false,"Labels":["team/code-intelligence","tracking-issue"],"Assignees":["efritz"],"Milestone":"3.21","Author":"efritz","CreatedAt":"2020-09-23T17:27:27Z","UpdatedAt":"0001-01-01T00:00:00Z","ClosedAt":"2020-09-23T17:35:37Z","BeganAt":"2020-09-23T17:26:47Z"},{"ID":"MDExOlB1bGxSZXF1ZXN0NDkwNDIzNTk1","Title":"tracking-issue: Nested tracking issues","Body":"I use tracking issues to track progress on RFC implementation. This PR nests issues tracked _more closely_ by another tracking issue under that tracking issue.\r\n\r\n\u003cimg width=\"752\" alt=\"Screen Shot 2020-09-21 at 11 47 20 AM\" src=\"https://user-images.githubusercontent.com/103087/93796300-453c4a00-fc00-11ea-99d5-0885572e15e5.png\"\u003e\r\n","Number":13998,"URL":"https://github.com/sourcegraph/sourcegraph/pull/13998","State":"MERGED","Repository":"sourcegraph/sourcegraph","Private":false,"Labels":["team/code-intelligence","tracking-issue"],"Assignees":["efritz"],"Milestone":"3.21","Author":"efritz","CreatedAt":"2020-09-21T16:35:46Z","UpdatedAt":"0001-01-01T00:00:00Z","ClosedAt":"2020-09-21T20:03:57Z","BeganAt":"2020-09-21T16:34:29Z"},{"ID":"MDExOlB1bGxSZXF1ZXN0NDg4ODgzMTU4","Title":"codeintel: RFC 235: Add postgres-backed store implementation","Body":"A step towards [RFC 235: Move LSIF data to Postgres](https://docs.google.com/document/u/1/d/1Y9p29hK8xrPUTvBdWqP9uAHDg3JLV-HCaxsbCo9-YHQ). This a prerequisite to https://github.com/sourcegraph/sourcegraph/issues/13886, https://github.com/sourcegraph/sourcegraph/issues/13888, and https://github.com/sourcegraph/sourcegraph/issues/13889.\r\n\r\nThis PR adds a bundle store implementation that targets Postgres, but does not update any place where SQLite is currently used. These need to be added in a certain order to ensure we do not write data to a place we're not querying. **Do not** use this new code until https://github.com/sourcegraph/sourcegraph/issues/13887 has been completed and deployed.","Number":13923,"URL":"https://github.com/sourcegraph/sourcegraph/pull/13923","State":"OPEN","Repository":"sourcegraph/sourcegraph","Private":false,"Labels":["RFC-235","team/code-intelligence"],"Assignees":["efritz"],"Milestone":"3.21","Author":"efritz","CreatedAt":"2020-09-17T19:26:24Z","UpdatedAt":"0001-01-01T00:00:00Z","ClosedAt":"0001-01-01T00:00:00Z","BeganAt":"2020-09-18T17:35:36Z"},{"ID":"MDExOlB1bGxSZXF1ZXN0NDg4MzM1NjU5","Title":"codeintel: RFC 235: Add migration infrastructure to codeintel database","Body":"A step towards [RFC 235: Move LSIF data to Postgres](https://docs.google.com/document/u/1/d/1Y9p29hK8xrPUTvBdWqP9uAHDg3JLV-HCaxsbCo9-YHQ). Closes https://github.com/sourcegraph/sourcegraph/issues/13885.\r\n\r\nAdds initial schema for the new code intel database. Every test location that loads the frontend migrations will also load the code intel migrations.","Number":13903,"URL":"https://github.com/sourcegraph/sourcegraph/pull/13903","State":"MERGED","Repository":"sourcegraph/sourcegraph","Private":false,"Labels":["RFC-235","team/code-intelligence"],"Assignees":["efritz"],"Milestone":"3.21","Author":"efritz","CreatedAt":"2020-09-17T00:46:54Z","UpdatedAt":"0001-01-01T00:00:00Z","ClosedAt":"2020-10-02T14:56:51Z","BeganAt":"2020-09-18T17:35:36Z"},{"ID":"MDExOlB1bGxSZXF1ZXN0NDkxNjg5MDkw","Title":"repo-updater: Use s.Logger where appropriate ","Body":"The syncer has it's own logger with should be used when logging\r\nfrom within any methods on the syncer struct.\r\n\r\nAlso updated a couple of places where we were using the correct logger\r\nbut not performing a nil check.\r\n\r\nStacked on: #13742  \r\nCloses: #13718 \r\n\r\n\u003c!-- Reminder: Have you updated the changelog and relevant docs (user docs, architecture diagram, etc) ? --\u003e\r\n","Number":14095,"URL":"https://github.com/sourcegraph/sourcegraph/pull/14095","State":"MERGED","Repository":"sourcegraph/sourcegraph","Private":false,"Labels":["team/cloud"],"Assignees":null,"Milestone":"Cloud 2020-09-23","Author":"ryanslade","CreatedAt":"2020-09-23T10:53:09Z","UpdatedAt":"0001-01-01T00:00:00Z","ClosedAt":"2020-09-23T11:59:19Z","BeganAt":"2020-09-23T10:49:49Z"},{"ID":"MDExOlB1bGxSZXF1ZXN0NDk3MDQ5MzM1","Title":"migration: Fix bad default in indexer records","Body":"Layers of fat fingers.\r\n\r\nhttps://github.com/sourcegraph/sourcegraph/commit/7c59d3afa5ad74b73f28fda1535e4bca6744d989","Number":14380,"URL":"https://github.com/sourcegraph/sourcegraph/pull/14380","State":"MERGED","Repository":"sourcegraph/sourcegraph","Private":false,"Labels":["RFC-201","team/code-intelligence"],"Assignees":["efritz"],"Milestone":"3.21","Author":"efritz","CreatedAt":"2020-10-02T17:47:57Z","UpdatedAt":"0001-01-01T00:00:00Z","ClosedAt":"2020-10-02T17:55:28Z","BeganAt":"2020-10-02T17:45:30Z"},{"ID":"MDExOlB1bGxSZXF1ZXN0NDk2OTgwNzk2","Title":"codeintel: Update default indexer args in index scheduler","Body":"We've updated the default arguments in the migration but we didn't update it here so I've got a few records to correct by hand 😬 .","Number":14378,"URL":"https://github.com/sourcegraph/sourcegraph/pull/14378","State":"MERGED","Repository":"sourcegraph/sourcegraph","Private":false,"Labels":["RFC-201","team/code-intelligence"],"Assignees":["efritz"],"Milestone":"3.21","Author":"efritz","CreatedAt":"2020-10-02T15:30:07Z","UpdatedAt":"0001-01-01T00:00:00Z","ClosedAt":"2020-10-02T15:37:30Z","BeganAt":"2020-10-02T15:28:43Z"},{"ID":"MDExOlB1bGxSZXF1ZXN0NDkxODc3ODQ5","Title":"codeintel: Lower indexer output to debug level","Body":"Showing all output is very noisy.","Number":14103,"URL":"https://github.com/sourcegraph/sourcegraph/pull/14103","State":"MERGED","Repository":"sourcegraph/sourcegraph","Private":false,"Labels":["RFC-201","team/code-intelligence"],"Assignees":["efritz"],"Milestone":"3.21","Author":"efritz","CreatedAt":"2020-09-23T15:50:29Z","UpdatedAt":"0001-01-01T00:00:00Z","ClosedAt":"2020-09-23T16:29:29Z","BeganAt":"2020-09-23T15:42:38Z"},{"ID":"MDExOlB1bGxSZXF1ZXN0NDkxMDYxNDIz","Title":"codenotify: Configure efritz's subscriptions","Body":"I see @eseliger has added stuff into the root file. Should we standardize on a way to configure this (prefer subdirectory configuration over root-directory configuration)?","Number":14060,"URL":"https://github.com/sourcegraph/sourcegraph/pull/14060","State":"MERGED","Repository":"sourcegraph/sourcegraph","Private":false,"Labels":["team/code-intelligence"],"Assignees":["efritz"],"Milestone":"3.21","Author":"efritz","CreatedAt":"2020-09-22T16:32:32Z","UpdatedAt":"0001-01-01T00:00:00Z","ClosedAt":"2020-09-23T16:10:33Z","BeganAt":"2020-09-22T16:30:45Z"},{"ID":"MDExOlB1bGxSZXF1ZXN0NDg5MzgxMTQz","Title":"chore: Set exec bit on docker-images/codeintel-db/build.sh","Body":"The build script is not executable and is failing CI on the main branch.\r\n\r\nhttps://buildkite.com/sourcegrapSee h/sourcegraph/builds/73797#5ab928c7-ad85-4368-aec3-50b24a4afac7.","Number":13955,"URL":"https://github.com/sourcegraph/sourcegraph/pull/13955","State":"MERGED","Repository":"sourcegraph/sourcegraph","Private":false,"Labels":["RFC-235","team/code-intelligence"],"Assignees":null,"Milestone":"3.21","Author":"efritz","CreatedAt":"2020-09-18T15:15:28Z","UpdatedAt":"0001-01-01T00:00:00Z","ClosedAt":"2020-09-18T15:22:28Z","BeganAt":"2020-09-18T15:14:28Z"},{"ID":"MDExOlB1bGxSZXF1ZXN0NDg5MDEyNTUx","Title":"chore: Relocate frontend migrations","Body":"https://github.com/sourcegraph/sourcegraph/issues/13885 requires that we duplicate the migration infrastructure used for the frontend so that we can use it independently but symmetrically in the code intel database.\r\n\r\nThis moves the frontend migrations so that we can make some room for additional migration paths. This is only split out to minimize the diff for later PRs which should not have lots of renames grabbing attention.","Number":13943,"URL":"https://github.com/sourcegraph/sourcegraph/pull/13943","State":"MERGED","Repository":"sourcegraph/sourcegraph","Private":false,"Labels":["RFC-235","team/code-intelligence"],"Assignees":["efritz"],"Milestone":"3.21","Author":"efritz","CreatedAt":"2020-09-18T01:25:43Z","UpdatedAt":"0001-01-01T00:00:00Z","ClosedAt":"2020-09-18T16:05:39Z","BeganAt":"2020-09-18T14:17:15Z"},{"ID":"MDExOlB1bGxSZXF1ZXN0NDk2NTUxMzMy","Title":"codeintel: Ensure CNCF values override real values","Body":"We lose our values when we actually pull the usage stats from the db. This will ensure the last write is our fake one.","Number":14355,"URL":"https://github.com/sourcegraph/sourcegraph/pull/14355","State":"MERGED","Repository":"sourcegraph/sourcegraph","Private":false,"Labels":["team/code-intelligence"],"Assignees":["efritz"],"Milestone":"3.21","Author":"efritz","CreatedAt":"2020-10-01T21:16:04Z","UpdatedAt":"0001-01-01T00:00:00Z","ClosedAt":"2020-10-01T21:20:01Z","BeganAt":"2020-10-01T21:13:51Z"},{"ID":"MDExOlB1bGxSZXF1ZXN0NDkxMDgxMDIx","Title":"db: Add sql.TxOptions to basestore","Body":"Closes https://github.com/sourcegraph/sourcegraph/issues/14044.\r\n\r\n**Updated**:\r\n\r\nPreviously this PR added sql options at the time the transaction is opened. Instead, we should be supplying them at the time the database handle is created. This seems like a more appropriate solution and should enable @asdine to choose the correct transaction options when the store powering the worker is created.","Number":14061,"URL":"https://github.com/sourcegraph/sourcegraph/pull/14061","State":"MERGED","Repository":"sourcegraph/sourcegraph","Private":false,"Labels":["team/code-intelligence"],"Assignees":["efritz"],"Milestone":"3.21","Author":"efritz","CreatedAt":"2020-09-22T17:11:02Z","UpdatedAt":"0001-01-01T00:00:00Z","ClosedAt":"2020-09-24T14:12:23Z","BeganAt":"2020-09-23T16:58:31Z"},{"ID":"MDExOlB1bGxSZXF1ZXN0NDkwNTE3MzU2","Title":"codeintel: Resolve abbreviated OID","Body":"Closes https://github.com/sourcegraph/sourcegraph/issues/13957.\r\n\r\nThis replaces the query string commit value with the one given back by gitserver when ensuring that commit exists. Using this value ensures that it's a 40-character revhash, which is what we require going into the database.","Number":14005,"URL":"https://github.com/sourcegraph/sourcegraph/pull/14005","State":"MERGED","Repository":"sourcegraph/sourcegraph","Private":false,"Labels":["team/code-intelligence"],"Assignees":["efritz"],"Milestone":"3.21","Author":"efritz","CreatedAt":"2020-09-21T19:40:38Z","UpdatedAt":"0001-01-01T00:00:00Z","ClosedAt":"2020-09-21T19:59:39Z","BeganAt":"2020-09-21T19:38:34Z"},{"ID":"MDExOlB1bGxSZXF1ZXN0NDg3NDI1OTcy","Title":"codeintel: RFC 235: Soft delete upload records","Body":"In preparation for [RFC 235](https://docs.google.com/document/d/1Y9p29hK8xrPUTvBdWqP9uAHDg3JLV-HCaxsbCo9-YHQ) which migrates LSIF data to Postgres: This PR introduces a new state for lsif_uploads, `deleted`, which acts as a soft-delete marker for upload records. The janitor is now responsible for hard deleting these records after cleaning up their associated data.\r\n\r\nIn the future, this will allow the janitor to more safely delete data associated with a missing record (if it's soft deleted we know it's not an accident; if it's missing we don't know if it's a part of a database backup, a misconfiguration, etc). There should be no user-observable behavioral changes in this PR.\r\n\r\nThis also does a bit of work required by https://github.com/sourcegraph/sourcegraph/issues/12168, as detailed in the related RFC.","Number":13822,"URL":"https://github.com/sourcegraph/sourcegraph/pull/13822","State":"MERGED","Repository":"sourcegraph/sourcegraph","Private":false,"Labels":["RFC-235","team/code-intelligence"],"Assignees":["efritz"],"Milestone":"3.21","Author":"efritz","CreatedAt":"2020-09-15T16:48:27Z","UpdatedAt":"0001-01-01T00:00:00Z","ClosedAt":"2020-09-25T17:36:23Z","BeganAt":"2020-09-18T01:37:08Z"},{"ID":"MDExOlB1bGxSZXF1ZXN0NDkxMjI3NDE4","Title":"Add history of code intelligence","Body":"From notes I took in various discussions.","Number":1628,"URL":"https://github.com/sourcegraph/about/pull/1628","State":"MERGED","Repository":"sourcegraph/about","Private":false,"Labels":["handbook","team/code-intelligence"],"Assignees":["aidaeology"],"Milestone":"3.21","Author":"aidaeology","CreatedAt":"2020-09-22T22:28:33Z","UpdatedAt":"0001-01-01T00:00:00Z","ClosedAt":"2020-09-23T20:36:59Z","BeganAt":"2020-09-22T22:27:35Z"},{"ID":"MDExOlB1bGxSZXF1ZXN0NDkwNjQ4MDk1","Title":"tracking-issue: Separate complete/incomplete work","Body":"Display complete and incomplete work separately. I find this much easier to read at a glance (especially as I use it as a TODO/find-next-task list).\r\n\r\n\u003cimg width=\"866\" alt=\"Screen Shot 2020-09-21 at 9 01 05 PM\" src=\"https://user-images.githubusercontent.com/103087/93837943-9f173100-fc4d-11ea-8d2d-8dfad46aef28.png\"\u003e\r\n","Number":14034,"URL":"https://github.com/sourcegraph/sourcegraph/pull/14034","State":"MERGED","Repository":"sourcegraph/sourcegraph","Private":false,"Labels":["team/code-intelligence","tracking-issue"],"Assignees":["efritz"],"Milestone":"3.21","Author":"efritz","CreatedAt":"2020-09-22T02:02:42Z","UpdatedAt":"0001-01-01T00:00:00Z","ClosedAt":"2020-09-22T15:00:10Z","BeganAt":"2020-09-21T20:41:18Z"},{"ID":"MDExOlB1bGxSZXF1ZXN0NDkwNTQ3ODg5","Title":"tracking-issue: Parallelize writes","Body":"We still have timeouts if we need to update too many issues. This breaks the other expensive GraphQL request up.","Number":14006,"URL":"https://github.com/sourcegraph/sourcegraph/pull/14006","State":"MERGED","Repository":"sourcegraph/sourcegraph","Private":false,"Labels":["team/code-intelligence","tracking-issue"],"Assignees":["efritz"],"Milestone":"3.21","Author":"efritz","CreatedAt":"2020-09-21T20:41:57Z","UpdatedAt":"0001-01-01T00:00:00Z","ClosedAt":"2020-09-22T14:30:13Z","BeganAt":"2020-09-21T20:41:18Z"},{"ID":"MDExOlB1bGxSZXF1ZXN0NDk2NTc5MzEx","Title":"codeintel: Update lsif_index records to hold their own configuration","Body":"This adds a one-job structure based on the types added in https://github.com/sourcegraph/sourcegraph/pull/14356 into the lsif_index table.\r\n\r\nThis will enable https://github.com/sourcegraph/sourcegraph/issues/13895 and https://github.com/sourcegraph/sourcegraph/issues/13896.","Number":14358,"URL":"https://github.com/sourcegraph/sourcegraph/pull/14358","State":"MERGED","Repository":"sourcegraph/sourcegraph","Private":false,"Labels":["team/code-intelligence"],"Assignees":["efritz"],"Milestone":"3.21","Author":"efritz","CreatedAt":"2020-10-01T22:24:49Z","UpdatedAt":"0001-01-01T00:00:00Z","ClosedAt":"2020-10-01T22:52:05Z","BeganAt":"2020-10-01T22:22:45Z"},{"ID":"MDExOlB1bGxSZXF1ZXN0NDkxOTQzMDM5","Title":"tracking-issue: Nest unlinked PRs under the closest tracking issue","Body":"This tracks both child issues and PRs for nested tracking issues. This allows us to categorize the \"free-floating\" PRs that are tagged to a tracking issue but don't directly close any issue in that effort (useful for refactor/cleanup PRs).","Number":14108,"URL":"https://github.com/sourcegraph/sourcegraph/pull/14108","State":"MERGED","Repository":"sourcegraph/sourcegraph","Private":false,"Labels":["team/code-intelligence","tracking-issue"],"Assignees":["efritz"],"Milestone":"3.21","Author":"efritz","CreatedAt":"2020-09-23T17:53:06Z","UpdatedAt":"0001-01-01T00:00:00Z","ClosedAt":"2020-09-24T13:44:36Z","BeganAt":"2020-09-23T17:44:31Z"},{"ID":"MDExOlB1bGxSZXF1ZXN0NDk2ODc1OTc3","Title":"repo-updater: Fix metrics","Body":"Don't count include deleted external services.\r\nDon't double count repos when finding the total number of user added repos.","Number":14372,"URL":"https://github.com/sourcegraph/sourcegraph/pull/14372","State":"MERGED","Repository":"sourcegraph/sourcegraph","Private":false,"Labels":["team/cloud"],"Assignees":null,"Milestone":"Cloud 2020-09-23","Author":"ryanslade","CreatedAt":"2020-10-02T12:28:11Z","UpdatedAt":"0001-01-01T00:00:00Z","ClosedAt":"2020-10-02T14:17:16Z","BeganAt":"2020-10-02T12:23:39Z"},{"ID":"MDExOlB1bGxSZXF1ZXN0NDkxNjgxODc0","Title":"Drop sources column","Body":"The `sources` column of the `repo` table has been deprecated in 3.20 and must be deleted for 3.21.\r\nFixes #13401 ","Number":14094,"URL":"https://github.com/sourcegraph/sourcegraph/pull/14094","State":"MERGED","Repository":"sourcegraph/sourcegraph","Private":false,"Labels":["team/cloud"],"Assignees":null,"Milestone":"Cloud 2020-09-23","Author":"asdine","CreatedAt":"2020-09-23T10:39:37Z","UpdatedAt":"0001-01-01T00:00:00Z","ClosedAt":"2020-09-23T12:09:31Z","BeganAt":"2020-09-23T10:36:35Z"},{"ID":"MDExOlB1bGxSZXF1ZXN0NDkyNjQ1NjA5","Title":"tracking-issue: Supported nested tracking issues in different milestones","Body":"Closes https://github.com/sourcegraph/sourcegraph/issues/14177.\r\n\r\n**Context**\r\n\r\nAfter introducing nesting of tracking issues I neglected to think about tracking issues that can span different milestones. When I added the feature I was using smaller milestones to test, which happened to have the same labels and the same milestone set. It's perfectly valid to have an un-milestoned tracking issue, or even a milestoned tracking issue that contains items milestoned earlier/later, but this isn't well supported (the items will show up, but the tracking issues won't).\r\n\r\n**What we'll change**\r\n\r\nWe'll need to additionally bring back the tracking issues from the GitHub API despite what it's selected milestone is. We'll then need to ensure that each assignee's workload will reflect only the correctly visible issues (no RFCs with no work items, etc).\r\n\r\n**How we changed it**\r\n\r\nWe query `labels`+`\"tracking\"` as additional issue records when looking at milestone tracking issues. Then, when rendering, we add checks to determine if an item from the _newly expanded_ set of issues and pull requests should be rendered for the given assignee. This is implemented as a milestone/assignee comparison or, in the case of tracking issues, a bounded recursive search of the issues they track.\r\n\r\n**Note**: This is currently running, so if you like the way the current tracking issues look, 👍 !\r\n\r\n**Another note**: I see that some @sourcegraph/cloud RFCs are not labeled with the team. Be aware that the labels still behave as \"AND\", so these issues will not show up. *All* issues on a tracking issue must have the same labels as the parent tracking issue. I wanted to see if such RFC tracking issues were expected to show up (e.g. https://github.com/sourcegraph/sourcegraph/issues/14166 vs https://github.com/sourcegraph/sourcegraph/issues/14163).","Number":14185,"URL":"https://github.com/sourcegraph/sourcegraph/pull/14185","State":"MERGED","Repository":"sourcegraph/sourcegraph","Private":false,"Labels":["team/code-intelligence","tracking-issue"],"Assignees":["efritz"],"Milestone":"3.21","Author":"efritz","CreatedAt":"2020-09-24T19:08:37Z","UpdatedAt":"0001-01-01T00:00:00Z","ClosedAt":"2020-09-25T16:02:38Z","BeganAt":"2020-09-24T22:44:57Z"},{"ID":"MDExOlB1bGxSZXF1ZXN0NDkyNTU3MzY2","Title":"tracking-issue: Strikethrough complete PRs (for visual consistency)","Body":"","Number":14176,"URL":"https://github.com/sourcegraph/sourcegraph/pull/14176","State":"MERGED","Repository":"sourcegraph/sourcegraph","Private":false,"Labels":["team/code-intelligence","tracking-issue"],"Assignees":["efritz"],"Milestone":"3.21","Author":"efritz","CreatedAt":"2020-09-24T16:17:16Z","UpdatedAt":"0001-01-01T00:00:00Z","ClosedAt":"2020-09-24T17:06:49Z","BeganAt":"2020-09-24T16:16:31Z"},{"ID":"MDExOlB1bGxSZXF1ZXN0NDkwNjUzMzY0","Title":"tracking-issue: Better nested tracking issue estimates","Body":"Calculate the time required to complete all the tasks of a nested tracking issue.","Number":14035,"URL":"https://github.com/sourcegraph/sourcegraph/pull/14035","State":"MERGED","Repository":"sourcegraph/sourcegraph","Private":false,"Labels":["team/code-intelligence"],"Assignees":["efritz"],"Milestone":"3.21","Author":"efritz","CreatedAt":"2020-09-22T02:24:35Z","UpdatedAt":"0001-01-01T00:00:00Z","ClosedAt":"2020-09-22T15:10:09Z","BeganAt":"2020-09-21T20:41:18Z"},{"ID":"MDExOlB1bGxSZXF1ZXN0NDk2MDg3OTAw","Title":"repo-updater: Make the number of concurrent syncers configurable","Body":"Closes: https://github.com/sourcegraph/sourcegraph/issues/14268","Number":14334,"URL":"https://github.com/sourcegraph/sourcegraph/pull/14334","State":"MERGED","Repository":"sourcegraph/sourcegraph","Private":false,"Labels":["team/cloud"],"Assignees":null,"Milestone":"Cloud 2020-09-23","Author":"ryanslade","CreatedAt":"2020-10-01T08:56:41Z","UpdatedAt":"0001-01-01T00:00:00Z","ClosedAt":"2020-10-01T10:35:05Z","BeganAt":"2020-10-01T08:55:50Z"},{"ID":"MDExOlB1bGxSZXF1ZXN0NDkyNDkzMDQ3","Title":"tracking-issue: Fix tests","Body":"Tests were non-deterministic due to a relative time display.","Number":14168,"URL":"https://github.com/sourcegraph/sourcegraph/pull/14168","State":"MERGED","Repository":"sourcegraph/sourcegraph","Private":false,"Labels":["team/code-intelligence","tracking-issue"],"Assignees":["efritz"],"Milestone":"3.21","Author":"efritz","CreatedAt":"2020-09-24T14:35:03Z","UpdatedAt":"0001-01-01T00:00:00Z","ClosedAt":"2020-09-24T14:50:28Z","BeganAt":"2020-09-24T14:37:51Z"},{"ID":"MDExOlB1bGxSZXF1ZXN0NDkyMTIwOTAx","Title":"codeintel: Validate input commit","Body":"Closes https://github.com/sourcegraph/sourcegraph/issues/14052.\r\n\r\nThis reverts the change in https://github.com/sourcegraph/sourcegraph/pull/14005, then strengthens the validation on the input commit.\r\n\r\nIn short, we pass the repo name and commit to gitserver for resolution. If gitserver is currently cloning the repo, we can't determine what the correct commit is. If this happens to be a symbolic name, it will fail to be put into the database. This error message helps with this case.\r\n\r\n**Note to reviewer**: This is weenie hut junior mode if reviewed by commit.","Number":14141,"URL":"https://github.com/sourcegraph/sourcegraph/pull/14141","State":"MERGED","Repository":"sourcegraph/sourcegraph","Private":false,"Labels":["team/code-intelligence"],"Assignees":["efritz"],"Milestone":"3.21","Author":"efritz","CreatedAt":"2020-09-24T01:03:04Z","UpdatedAt":"0001-01-01T00:00:00Z","ClosedAt":"2020-10-01T14:07:20Z","BeganAt":"2020-09-24T00:56:40Z"},{"ID":"MDExOlB1bGxSZXF1ZXN0NDkwNjMxOTY0","Title":"tracking-issue: List PRs for an issue inline","Body":"**Before:**\r\n\r\n\u003cimg width=\"866\" alt=\"Screen Shot 2020-09-21 at 7 48 16 PM\" src=\"https://user-images.githubusercontent.com/103087/93835091-bd782f00-fc43-11ea-942b-a3c485cc608c.png\"\u003e\r\n\r\n**After:**\r\n\r\n\u003cimg width=\"866\" alt=\"Screen Shot 2020-09-21 at 7 47 49 PM\" src=\"https://user-images.githubusercontent.com/103087/93835084-bb15d500-fc43-11ea-9b7d-bbdae88727c6.png\"\u003e\r\n","Number":14018,"URL":"https://github.com/sourcegraph/sourcegraph/pull/14018","State":"MERGED","Repository":"sourcegraph/sourcegraph","Private":false,"Labels":["team/code-intelligence","tracking-issue"],"Assignees":["efritz"],"Milestone":"3.21","Author":"efritz","CreatedAt":"2020-09-22T00:51:28Z","UpdatedAt":"0001-01-01T00:00:00Z","ClosedAt":"2020-09-22T14:50:13Z","BeganAt":"2020-09-21T20:41:18Z"},{"ID":"MDExOlB1bGxSZXF1ZXN0NDkwNjEzNzg1","Title":"tracking-issue: Break code up into files according to type/action","Body":"This PR contains only code _movement_. No code was altered except for imports.","Number":14013,"URL":"https://github.com/sourcegraph/sourcegraph/pull/14013","State":"MERGED","Repository":"sourcegraph/sourcegraph","Private":false,"Labels":["team/code-intelligence","tracking-issue"],"Assignees":["efritz"],"Milestone":"3.21","Author":"efritz","CreatedAt":"2020-09-21T23:36:45Z","UpdatedAt":"0001-01-01T00:00:00Z","ClosedAt":"2020-09-22T14:39:58Z","BeganAt":"2020-09-21T20:41:18Z"},{"ID":"MDExOlB1bGxSZXF1ZXN0NDg5MDM0Nzc1","Title":"codeintel: RFC 235: Update worker to write to Postgres","Body":"A step towards [RFC 235: Move LSIF data to Postgres](https://docs.google.com/document/u/1/d/1Y9p29hK8xrPUTvBdWqP9uAHDg3JLV-HCaxsbCo9-YHQ). Closes https://github.com/sourcegraph/sourcegraph/issues/13889.\r\n\r\nThis PR writes new data to the Postgres-backed bundle store introduced https://github.com/sourcegraph/sourcegraph/pull/13923. **Do not** merge this PR until https://github.com/sourcegraph/sourcegraph/pull/13924 has been completed and deployed.","Number":13946,"URL":"https://github.com/sourcegraph/sourcegraph/pull/13946","State":"OPEN","Repository":"sourcegraph/sourcegraph","Private":false,"Labels":["RFC-235","team/code-intelligence"],"Assignees":["efritz"],"Milestone":"3.21","Author":"efritz","CreatedAt":"2020-09-18T02:51:53Z","UpdatedAt":"0001-01-01T00:00:00Z","ClosedAt":"0001-01-01T00:00:00Z","BeganAt":"2020-09-18T17:50:51Z"},{"ID":"MDExOlB1bGxSZXF1ZXN0NDg4NzI0Mjk3","Title":"codeintel: RFC 235: Add code intel postgres image","Body":"A step towards [RFC 235: Move LSIF data to Postgres](https://docs.google.com/document/u/1/d/1Y9p29hK8xrPUTvBdWqP9uAHDg3JLV-HCaxsbCo9-YHQ). Closes https://github.com/sourcegraph/sourcegraph/issues/13912.\r\n\r\nThis creates a new image that can be used as the code intel Postgres database. We're giving it a name instead of using the same postgres container in order to have a more consistent and less implementation-specific name.\r\n","Number":13913,"URL":"https://github.com/sourcegraph/sourcegraph/pull/13913","State":"MERGED","Repository":"sourcegraph/sourcegraph","Private":false,"Labels":["RFC-235","team/code-intelligence"],"Assignees":["efritz"],"Milestone":"3.21","Author":"efritz","CreatedAt":"2020-09-17T14:46:29Z","UpdatedAt":"0001-01-01T00:00:00Z","ClosedAt":"2020-09-18T15:12:44Z","BeganAt":"2020-09-18T01:37:58Z"},{"ID":"MDExOlB1bGxSZXF1ZXN0NDk2ODY5MTI2","Title":"Surface the most recent ping data to site admins","Body":"\u003cimg width=\"965\" alt=\"Screen Shot 2020-10-02 at 11 52 58 AM\" src=\"https://user-images.githubusercontent.com/71571391/94943522-d5527d00-04a5-11eb-912f-b6fdcfd141e2.png\"\u003e\r\n\r\nThis introduces a `LatestPing` method to the event log, which returns the most recently recorded event of type `ping`. Additionally, a `MockEventLogs` is added to the mock stores, allowing API tests to conveniently adjust persistent storage state.\r\n\r\nHere is an example retrieval of a ping event from the log:\r\n\r\n```\r\n  localhost sourcegraph@sourcegraph=# select * from event_logs where name = 'ping' limit 1;\r\n  ┌─────┬──────┬─────┬─────────┬───────────────────┬─────────┬───────────┐\r\n  │ id  │ name │ url │ user_id │ anonymous_user_id │ source  │ argument  │\r\n  ├─────┼──────┼─────┼─────────┼───────────────────┼─────────┼───────────┤\r\n  │ 105 │ ping │     │       0 │ backend           │ BACKEND │ {\"u\": ... │\r\n  └─────┴──────┴─────┴─────────┴───────────────────┴─────────┴───────────┘\r\n  (1 row)\r\n\r\n  Time: 2.640 ms\r\n```\r\n\r\nfixes https://github.com/sourcegraph/sourcegraph/issues/13956\r\n\r\n\r\n\r\n\u003c!-- Reminder: Have you updated the changelog and relevant docs (user docs, architecture diagram, etc) ? --\u003e\r\n","Number":14370,"URL":"https://github.com/sourcegraph/sourcegraph/pull/14370","State":"OPEN","Repository":"sourcegraph/sourcegraph","Private":false,"Labels":["team/cloud"],"Assignees":null,"Milestone":"Cloud 2020-09-23","Author":"flying-robot","CreatedAt":"2020-10-02T12:13:38Z","UpdatedAt":"0001-01-01T00:00:00Z","ClosedAt":"0001-01-01T00:00:00Z","BeganAt":"2020-09-28T14:52:08Z"},{"ID":"MDExOlB1bGxSZXF1ZXN0NDk3MDg3Nzcz","Title":"codeintel: Fix bad default lsif-go arguments","Body":"How many times can I get this wrong 😬 ","Number":14386,"URL":"https://github.com/sourcegraph/sourcegraph/pull/14386","State":"MERGED","Repository":"sourcegraph/sourcegraph","Private":false,"Labels":["RFC-201","team/code-intelligence"],"Assignees":["efritz"],"Milestone":"3.21","Author":"efritz","CreatedAt":"2020-10-02T19:11:33Z","UpdatedAt":"0001-01-01T00:00:00Z","ClosedAt":"2020-10-02T19:16:25Z","BeganAt":"2020-10-02T19:10:52Z"},{"ID":"MDExOlB1bGxSZXF1ZXN0NDkyMDUyOTAx","Title":"codeintel: Make docker/firecracker abstraction in indexer","Body":"This adds an interface `CommandFormatter` that prepares shell commands to be invoked on the host. There are two concrete implementations: `dockerCommandFormatter`, which uses plain docker containers so that we can run in a non-firecracker environment (testing and dev), and `firecrackerCommandFormatter`, which wraps docker commands in ignite. The latter environment needs an explicit setup/teardown step.","Number":14121,"URL":"https://github.com/sourcegraph/sourcegraph/pull/14121","State":"MERGED","Repository":"sourcegraph/sourcegraph","Private":false,"Labels":["RFC-201","team/code-intelligence"],"Assignees":["efritz"],"Milestone":"3.21","Author":"efritz","CreatedAt":"2020-09-23T21:34:34Z","UpdatedAt":"0001-01-01T00:00:00Z","ClosedAt":"2020-10-01T16:22:43Z","BeganAt":"2020-09-23T21:42:43Z"},{"ID":"MDExOlB1bGxSZXF1ZXN0NDg4OTcxMjc5","Title":"codeintel: RFC 235: Migrate SQLite data to Postgres","Body":"A step towards [RFC 235: Move LSIF data to Postgres](https://docs.google.com/document/u/1/d/1Y9p29hK8xrPUTvBdWqP9uAHDg3JLV-HCaxsbCo9-YHQ). Closes https://github.com/sourcegraph/sourcegraph/issues/13888.\r\n\r\nThis PR migrates existing data to the Postgres-backed bundle store introduced https://github.com/sourcegraph/sourcegraph/pull/13923. **Do not** merge this PR until https://github.com/sourcegraph/sourcegraph/pull/13924 has been completed and deployed.","Number":13932,"URL":"https://github.com/sourcegraph/sourcegraph/pull/13932","State":"OPEN","Repository":"sourcegraph/sourcegraph","Private":false,"Labels":["RFC-235","team/code-intelligence"],"Assignees":["efritz"],"Milestone":"3.21","Author":"efritz","CreatedAt":"2020-09-17T22:52:19Z","UpdatedAt":"0001-01-01T00:00:00Z","ClosedAt":"0001-01-01T00:00:00Z","BeganAt":"2020-09-18T17:53:21Z"},{"ID":"MDExOlB1bGxSZXF1ZXN0NDk1Mzg4Mzgz","Title":"repo-updater: Sync single external service at a time using workerutil","Body":"This PR makes two main changes:\r\n\r\nWe sync each external service independently\r\nThe syncing process now happens using the workerutil package\r\nSyncer.Run now enqueues external services into a job queue that are due to be synced every minute.\r\n\r\nThese jobs are picked by up to three sync workers concurrently each worker syncs one service using the new Syncer.SyncExternalService method.\r\n\r\nWe rely on database triggers to mark repos as deleted once they no longer exist in any external service. This is based on the state of the external_service_repos table which tracks the relationship between repos and external services.\r\n\r\nTriggers also exist that remove rows from external_service_repos when a repo or external service is deleted or soft deleted.\r\n\r\nWe've testing syncing up to 500k repos successfully.","Number":14305,"URL":"https://github.com/sourcegraph/sourcegraph/pull/14305","State":"MERGED","Repository":"sourcegraph/sourcegraph","Private":false,"Labels":["team/cloud"],"Assignees":null,"Milestone":"Cloud 2020-09-23","Author":"ryanslade","CreatedAt":"2020-09-30T09:50:22Z","UpdatedAt":"0001-01-01T00:00:00Z","ClosedAt":"2020-09-30T13:28:10Z","BeganAt":"2020-08-25T11:50:41Z"},{"ID":"MDExOlB1bGxSZXF1ZXN0NDkyMzcxMTM4","Title":"Do not display tokens in the Mirroring page (#13852)","Body":"Currently we render full clone URLs (including the token) in the Settings \u003e Mirroring page. We want to remove the userinfo portion of the URL, regardless of the current user's role or permissions\r\n\r\nFixes #13852","Number":14153,"URL":"https://github.com/sourcegraph/sourcegraph/pull/14153","State":"MERGED","Repository":"sourcegraph/sourcegraph","Private":false,"Labels":["RFC-214","team/cloud","team/cloud/milestone-1","team/security"],"Assignees":null,"Milestone":"Cloud 2020-09-23","Author":"flying-robot","CreatedAt":"2020-09-24T11:15:14Z","UpdatedAt":"0001-01-01T00:00:00Z","ClosedAt":"2020-09-25T13:21:22Z","BeganAt":"2020-09-23T14:31:33Z"},{"ID":"MDExOlB1bGxSZXF1ZXN0NDkyMTI0Njg2","Title":"codeintel: Remove some wrappers from a previous abstraction","Body":"![image](https://user-images.githubusercontent.com/103087/94089824-b551f800-fdd9-11ea-890c-467085ac55fc.png)\r\n","Number":14142,"URL":"https://github.com/sourcegraph/sourcegraph/pull/14142","State":"MERGED","Repository":"sourcegraph/sourcegraph","Private":false,"Labels":["team/code-intelligence"],"Assignees":["efritz"],"Milestone":"3.21","Author":"efritz","CreatedAt":"2020-09-24T01:17:47Z","UpdatedAt":"0001-01-01T00:00:00Z","ClosedAt":"2020-10-01T15:25:14Z","BeganAt":"2020-09-24T01:15:59Z"},{"ID":"MDExOlB1bGxSZXF1ZXN0NDg5MzM5MzI2","Title":"chore: Multiple database handles","Body":"https://github.com/sourcegraph/sourcegraph/issues/13884 requires that we connect to multiple databases in an application. This PR renames `ConnectToDB` to `SetupGlobalConnection` and creates a new version of the method `dbutil.New` that returns a Postgres handler instead of storing it in a global variable.","Number":13952,"URL":"https://github.com/sourcegraph/sourcegraph/pull/13952","State":"MERGED","Repository":"sourcegraph/sourcegraph","Private":false,"Labels":["RFC-235","team/code-intelligence"],"Assignees":["efritz"],"Milestone":"3.21","Author":"efritz","CreatedAt":"2020-09-18T14:06:49Z","UpdatedAt":"0001-01-01T00:00:00Z","ClosedAt":"2020-09-18T14:57:25Z","BeganAt":"2020-09-18T14:04:02Z"},{"ID":"MDExOlB1bGxSZXF1ZXN0NDk2NTU3Mjk4","Title":"codeintel: Add index config types","Body":"Closes https://github.com/sourcegraph/sourcegraph/issues/13892.\r\n\r\nThis adds a set of shared types that will be able to configure index jobs. This also has a jsonx and yaml-compatible set of unmarshallers so we'll be able to read from both config stores and files in-repo.","Number":14356,"URL":"https://github.com/sourcegraph/sourcegraph/pull/14356","State":"MERGED","Repository":"sourcegraph/sourcegraph","Private":false,"Labels":["RFC-201","team/code-intelligence"],"Assignees":["efritz"],"Milestone":"3.21","Author":"efritz","CreatedAt":"2020-10-01T21:28:35Z","UpdatedAt":"0001-01-01T00:00:00Z","ClosedAt":"2020-10-01T21:30:54Z","BeganAt":"2020-10-01T21:27:08Z"},{"ID":"MDExOlB1bGxSZXF1ZXN0NDkxOTIwODY5","Title":"codeintel: Refactor index command construction","Body":"","Number":14105,"URL":"https://github.com/sourcegraph/sourcegraph/pull/14105","State":"MERGED","Repository":"sourcegraph/sourcegraph","Private":false,"Labels":["RFC-201","team/code-intelligence"],"Assignees":["efritz"],"Milestone":"3.21","Author":"efritz","CreatedAt":"2020-09-23T17:07:35Z","UpdatedAt":"0001-01-01T00:00:00Z","ClosedAt":"2020-09-23T19:47:51Z","BeganAt":"2020-09-23T15:42:38Z"},{"ID":"MDExOlB1bGxSZXF1ZXN0NDkwMzg1Nzgx","Title":"tracking-issue: Fix timeout","Body":"This loads each tracking issue as a separate GraphQL request done concurrently rather than one giant GraphQL request that is likely to timeout as the number of active tracking issues grows.","Number":13986,"URL":"https://github.com/sourcegraph/sourcegraph/pull/13986","State":"MERGED","Repository":"sourcegraph/sourcegraph","Private":false,"Labels":["team/code-intelligence","tracking-issue"],"Assignees":["efritz"],"Milestone":"3.21","Author":"efritz","CreatedAt":"2020-09-21T15:31:26Z","UpdatedAt":"0001-01-01T00:00:00Z","ClosedAt":"2020-09-21T16:25:15Z","BeganAt":"2020-09-21T15:17:45Z"},{"ID":"MDExOlB1bGxSZXF1ZXN0NDUwMjk5MTM0","Title":"distribution: add monitoring architecture page","Body":"@bobheadxi noted to me over Slack:\r\n\r\n![image](https://user-images.githubusercontent.com/3173176/87692066-2e7d0100-c740-11ea-960c-ae5ba5af57c0.png)\r\n\r\nI think this is a great idea and something that I have long intended to put together - but I think an RFC may be the wrong forum for it because many of these decisions have already been made. I am therefor proposing the following:\r\n\r\n1. The current monitoring architecture and decisions we have already made are documented and live in this document. For any question @pecigonzalo has asked me or you @bobheadxi about \"why are we doing this this way?\" I would like this document to explain it\r\n2. For changes to the current monitoring architecture and decisions we are considering, those should be RFCs (or, if small changes they can be lightweight `Proposal: ...` GitHub issues, like https://github.com/sourcegraph/sourcegraph/issues/12010).\r\n\r\n@bobheadxi can you own filling this out from here with all the context I've transferred to you, any questions Gonza has asked you, etc.? And then I'll follow-up and add any context I may have as well after\r\n\r\nRendered: https://github.com/sourcegraph/about/blob/monitoring-architecture/handbook/engineering/distribution/observability/monitoring_architecture.md","Number":1221,"URL":"https://github.com/sourcegraph/about/pull/1221","State":"OPEN","Repository":"sourcegraph/about","Private":false,"Labels":["planned/3.19","team/distribution"],"Assignees":["slimsag"],"Milestone":"3.21","Author":"slimsag","CreatedAt":"2020-07-16T15:46:01Z","UpdatedAt":"0001-01-01T00:00:00Z","ClosedAt":"0001-01-01T00:00:00Z","BeganAt":"2020-07-16T15:41:07Z"},{"ID":"MDExOlB1bGxSZXF1ZXN0MzE0NzgwNzY3","Title":"Document when to introduce new services or not","Body":"I'm not 100% confident in the wording here yet and would like to think about it some more before committing to this, but it has been on my mind a lot lately and I wanted to quickly jot something down on paper.\r\n\r\nThis is my attempt at documenting how I personally choose when a new service should be introduced, and more importantly, my attempt at documenting the complexity involved in introducing a new service particularly from a deployment in customer environments standpoint.\r\n\r\nFeedback very appreciated!","Number":5487,"URL":"https://github.com/sourcegraph/sourcegraph/pull/5487","State":"OPEN","Repository":"sourcegraph/sourcegraph","Private":false,"Labels":["planned/3.19","planned/3.21","team/distribution"],"Assignees":["slimsag"],"Milestone":"3.21","Author":"slimsag","CreatedAt":"2019-09-06T03:35:20Z","UpdatedAt":"0001-01-01T00:00:00Z","ClosedAt":"0001-01-01T00:00:00Z","BeganAt":"2019-09-06T03:33:10Z"},{"ID":"MDExOlB1bGxSZXF1ZXN0NDg5MDEyMjU4","Title":"chore: Co-locate dev scripts to interact with postgres","Body":"Our dev directory is a mess - this groups the scripts that I'm planning to work on together making it just a little bit more cohesive and less of a junk drawer.","Number":13942,"URL":"https://github.com/sourcegraph/sourcegraph/pull/13942","State":"MERGED","Repository":"sourcegraph/sourcegraph","Private":false,"Labels":["RFC-235","team/code-intelligence"],"Assignees":["efritz"],"Milestone":"3.21","Author":"efritz","CreatedAt":"2020-09-18T01:24:25Z","UpdatedAt":"0001-01-01T00:00:00Z","ClosedAt":"2020-09-18T14:42:26Z","BeganAt":"2020-09-18T14:11:35Z"},{"ID":"MDExOlB1bGxSZXF1ZXN0NDg4MzQxMjU5","Title":"codeintel: RFC 235: Add code intel postgres container","Body":"A step towards [RFC 235: Move LSIF data to Postgres](https://docs.google.com/document/u/1/d/1Y9p29hK8xrPUTvBdWqP9uAHDg3JLV-HCaxsbCo9-YHQ). \r\n\r\nAdd environment variables to server and local environments to point code intel database connection environment variables at the existing postgres. The new database schema will be designed so that they can be overlays of each other without conflicts. This allows only one database instance required for local and single-container deployments, and multiple-instance deployments in production environments.\r\n\r\nPartially implements https://github.com/sourcegraph/sourcegraph/issues/13883 along with sibling PRs https://github.com/sourcegraph/deploy-sourcegraph/pull/896 and https://github.com/sourcegraph/deploy-sourcegraph-docker/pull/153.\r\n","Number":13904,"URL":"https://github.com/sourcegraph/sourcegraph/pull/13904","State":"MERGED","Repository":"sourcegraph/sourcegraph","Private":false,"Labels":["RFC-235","team/code-intelligence"],"Assignees":["efritz"],"Milestone":"3.21","Author":"efritz","CreatedAt":"2020-09-17T01:09:12Z","UpdatedAt":"0001-01-01T00:00:00Z","ClosedAt":"2020-10-01T20:59:02Z","BeganAt":"2020-09-18T01:37:58Z"},{"ID":"MDExOlB1bGxSZXF1ZXN0NDk0MDI0ODE2","Title":"licensing: add new plans and feature tags","Body":"Add plans and feature tags derived from [RFC 167](https://docs.google.com/document/d/1XozQ4JINJqirdaG-XqGtboT2-PlIXPyBn6EwV7Q3pWI/edit).\r\n\r\nThis change  won't affect any existing licenses/customers, but a step to help sales team to start generating new licenses with versioned plans and tags.\r\n\r\nFixes #14021","Number":14236,"URL":"https://github.com/sourcegraph/sourcegraph/pull/14236","State":"OPEN","Repository":"sourcegraph/sourcegraph","Private":false,"Labels":["RFC-167","team/cloud"],"Assignees":null,"Milestone":"Cloud 2020-09-23","Author":"unknwon","CreatedAt":"2020-09-28T09:53:57Z","UpdatedAt":"0001-01-01T00:00:00Z","ClosedAt":"0001-01-01T00:00:00Z","BeganAt":"2020-07-17T07:52:39Z"},{"ID":"MDExOlB1bGxSZXF1ZXN0NDk2NjI2ODE4","Title":"migration: Update default indexer/indexer_args in lsif_indexes table","Body":"I fat-fingered what the defaults of a previous migration should have been.\r\n\r\nNothing is writing to this table currently so this should be very safe and not override any actual values.","Number":14360,"URL":"https://github.com/sourcegraph/sourcegraph/pull/14360","State":"MERGED","Repository":"sourcegraph/sourcegraph","Private":false,"Labels":["RFC-201","team/code-intelligence"],"Assignees":["efritz"],"Milestone":"3.21","Author":"efritz","CreatedAt":"2020-10-02T01:13:26Z","UpdatedAt":"0001-01-01T00:00:00Z","ClosedAt":"2020-10-02T01:31:21Z","BeganAt":"2020-10-02T01:09:53Z"},{"ID":"MDExOlB1bGxSZXF1ZXN0NDk2MzMzMDEy","Title":"codeintel: Explicitly list CNCF repositories for auto-indexing","Body":"This adds a hardcoded list of CNCF repos that we'd like to automatically index. Some of these will likely fail, at which point we need to evaluate the additional effort of maintaining an out-of-band manual process, or additional hard-coded conditions for particular repositories.\r\n\r\nThe effort of RFC 201 will subsume this effort (we will be able to configure the index process in the UI). I will follow up with a permanent solution, tracked in https://github.com/sourcegraph/sourcegraph/issues/14343.\r\n","Number":14344,"URL":"https://github.com/sourcegraph/sourcegraph/pull/14344","State":"MERGED","Repository":"sourcegraph/sourcegraph","Private":false,"Labels":["team/code-intelligence"],"Assignees":["efritz"],"Milestone":"3.21","Author":"efritz","CreatedAt":"2020-10-01T15:05:02Z","UpdatedAt":"0001-01-01T00:00:00Z","ClosedAt":"2020-10-01T15:07:10Z","BeganAt":"2020-10-01T15:02:07Z"},{"ID":"MDExOlB1bGxSZXF1ZXN0NDkyNTA2NDM5","Title":"tracking-issue: Do not show completed PRs if the owning image is also complete","Body":"By popular demand, we de-duplicate the list of finished work by hiding PRs that are tracked by a completed issue.","Number":14169,"URL":"https://github.com/sourcegraph/sourcegraph/pull/14169","State":"MERGED","Repository":"sourcegraph/sourcegraph","Private":false,"Labels":["team/code-intelligence","tracking-issue"],"Assignees":["efritz"],"Milestone":"3.21","Author":"efritz","CreatedAt":"2020-09-24T14:54:55Z","UpdatedAt":"0001-01-01T00:00:00Z","ClosedAt":"2020-09-24T15:02:46Z","BeganAt":"2020-09-24T14:54:07Z"},{"ID":"MDExOlB1bGxSZXF1ZXN0NDkyMDI3ODk1","Title":"codeintel: Add orderedKeys to indexer","Body":"This helps readability at the call-site so we don't have to keep track of the relation between `images` and `keys`. It is not expected for images to have more than three elements, so this isn't a performance concern.","Number":14117,"URL":"https://github.com/sourcegraph/sourcegraph/pull/14117","State":"MERGED","Repository":"sourcegraph/sourcegraph","Private":false,"Labels":["RFC-201","team/code-intelligence"],"Assignees":["efritz"],"Milestone":"3.21","Author":"efritz","CreatedAt":"2020-09-23T20:39:58Z","UpdatedAt":"0001-01-01T00:00:00Z","ClosedAt":"2020-09-23T21:32:43Z","BeganAt":"2020-09-23T20:34:44Z"},{"ID":"MDExOlB1bGxSZXF1ZXN0NDkxMDkwODg2","Title":"workerutil: Add isolation level option to store","Body":"Closes https://github.com/sourcegraph/sourcegraph/issues/14044.","Number":14063,"URL":"https://github.com/sourcegraph/sourcegraph/pull/14063","State":"CLOSED","Repository":"sourcegraph/sourcegraph","Private":false,"Labels":["team/code-intelligence"],"Assignees":["efritz"],"Milestone":"3.21","Author":"efritz","CreatedAt":"2020-09-22T17:31:19Z","UpdatedAt":"0001-01-01T00:00:00Z","ClosedAt":"2020-09-23T17:02:28Z","BeganAt":"2020-09-22T17:09:23Z"},{"ID":"MDExOlB1bGxSZXF1ZXN0NDg4ODgzMTY3","Title":"codeintel: RFC 235: Update bundle manager to read from Postgres","Body":"A step towards [RFC 235: Move LSIF data to Postgres](https://docs.google.com/document/u/1/d/1Y9p29hK8xrPUTvBdWqP9uAHDg3JLV-HCaxsbCo9-YHQ). Closes https://github.com/sourcegraph/sourcegraph/issues/13886.\r\n\r\nThis PR adds a db call to the new Postgres-backed bundle store introduced https://github.com/sourcegraph/sourcegraph/pull/13923 before falling back to disk. **Do not** merge this PR until https://github.com/sourcegraph/sourcegraph/issues/13883 and https://github.com/sourcegraph/sourcegraph/pull/13903 has been completed and deployed.","Number":13924,"URL":"https://github.com/sourcegraph/sourcegraph/pull/13924","State":"OPEN","Repository":"sourcegraph/sourcegraph","Private":false,"Labels":["RFC-235","team/code-intelligence"],"Assignees":["efritz"],"Milestone":"3.21","Author":"efritz","CreatedAt":"2020-09-17T19:26:25Z","UpdatedAt":"0001-01-01T00:00:00Z","ClosedAt":"0001-01-01T00:00:00Z","BeganAt":"2020-09-18T17:49:36Z"},{"ID":"MDExOlB1bGxSZXF1ZXN0NDg4MTE5NjMw","Title":"codeintel: RFC 235: Create connection to codeintel database","Body":"Steps toward [RFC 235: Move LSIF data to Postgres](https://docs.google.com/document/u/1/d/1Y9p29hK8xrPUTvBdWqP9uAHDg3JLV-HCaxsbCo9-YHQ). Closes https://github.com/sourcegraph/sourcegraph/issues/13884. \r\n\r\nThis PR adds `CodeIntelPostgresDSN` to conftypes and connects to the configured DSN in the bundle manager and the worker. **Do not** merge this PR until https://github.com/sourcegraph/sourcegraph/issues/13883 has been completed and deployed.","Number":13864,"URL":"https://github.com/sourcegraph/sourcegraph/pull/13864","State":"MERGED","Repository":"sourcegraph/sourcegraph","Private":false,"Labels":["RFC-235","team/code-intelligence"],"Assignees":["efritz"],"Milestone":"3.21","Author":"efritz","CreatedAt":"2020-09-16T16:52:57Z","UpdatedAt":"0001-01-01T00:00:00Z","ClosedAt":"2020-10-02T23:49:25Z","BeganAt":"2020-09-18T17:13:07Z"},{"ID":"MDExOlB1bGxSZXF1ZXN0NDkyMDY3NDYz","Title":"tracking-issue: Order finished work chronologically","Body":"Order the list of finished work chronologically and say how many days have elapsed since the issue was closed or the PR was closed/merged. This is useful for determining what you did in the last week for status updates.\r\n\r\n\u003cimg width=\"701\" alt=\"Screen Shot 2020-09-23 at 5 09 56 PM\" src=\"https://user-images.githubusercontent.com/103087/94074909-ca219200-fdbf-11ea-815f-b85e8e932c45.png\"\u003e\r\n","Number":14124,"URL":"https://github.com/sourcegraph/sourcegraph/pull/14124","State":"MERGED","Repository":"sourcegraph/sourcegraph","Private":false,"Labels":["team/code-intelligence"],"Assignees":["efritz"],"Milestone":"3.21","Author":"efritz","CreatedAt":"2020-09-23T22:11:59Z","UpdatedAt":"0001-01-01T00:00:00Z","ClosedAt":"2020-09-24T14:20:50Z","BeganAt":"2020-09-23T17:44:31Z"},{"ID":"MDExOlB1bGxSZXF1ZXN0NDkxODc3Mzg5","Title":"codeintel: Refactor command runner in indexer","Body":"This changes the signature of `Commander` which used to take a command and a series of arguments to take only a series of arguments. This also validates the initial command to prevent against arbitrary execution.","Number":14102,"URL":"https://github.com/sourcegraph/sourcegraph/pull/14102","State":"MERGED","Repository":"sourcegraph/sourcegraph","Private":false,"Labels":["RFC-201","team/code-intelligence"],"Assignees":["efritz"],"Milestone":"3.21","Author":"efritz","CreatedAt":"2020-09-23T15:49:41Z","UpdatedAt":"0001-01-01T00:00:00Z","ClosedAt":"2020-09-23T16:11:57Z","BeganAt":"2020-09-23T15:42:38Z"},{"ID":"MDExOlB1bGxSZXF1ZXN0NDkxNzc0ODkx","Title":"Add background job for deleting completed external service sync jobs","Body":"This PR adds a ~trigger~ background job that deletes completed or errored jobs from the `external_service_sync_jobs` table. This table can potentially grow a lot with the number of user-added external services, this change makes sure it remains small.\r\nAll the `completed` and `errored` jobs finished since more than one day are deleted automatically.\r\n~The function is triggered whenever a job is marked as `completed` or `errored` which shouldn't happen a lot (a few times per second at most).~\r\nThe function is run every hour by default.\r\nFixes #14048 \r\n","Number":14098,"URL":"https://github.com/sourcegraph/sourcegraph/pull/14098","State":"MERGED","Repository":"sourcegraph/sourcegraph","Private":false,"Labels":["team/cloud"],"Assignees":null,"Milestone":"Cloud 2020-09-23","Author":"asdine","CreatedAt":"2020-09-23T13:17:07Z","UpdatedAt":"0001-01-01T00:00:00Z","ClosedAt":"2020-09-30T15:04:41Z","BeganAt":"2020-09-30T14:40:28Z"},{"ID":"MDExOlB1bGxSZXF1ZXN0NDk2NjI2MzIx","Title":"codeintel: Update indexer execution to reflect configured index jobs","Body":"This updates the indexer machinery to read the details of indexing (images, commands, environments) from the index record rather than having it hard-coded. Closes https://github.com/sourcegraph/sourcegraph/issues/13894.","Number":14359,"URL":"https://github.com/sourcegraph/sourcegraph/pull/14359","State":"MERGED","Repository":"sourcegraph/sourcegraph","Private":false,"Labels":["RFC-201","team/code-intelligence"],"Assignees":["efritz"],"Milestone":"3.21","Author":"efritz","CreatedAt":"2020-10-02T01:11:26Z","UpdatedAt":"0001-01-01T00:00:00Z","ClosedAt":"2020-10-02T17:01:02Z","BeganAt":"2020-10-02T01:09:06Z"},{"ID":"MDExOlB1bGxSZXF1ZXN0NDkyNTQ3NzU3","Title":"tracking-issue: Hide completed work nested in other completed work","Body":"Hide issues and pull requests in the completed list if that element would be nested in something else that is completed.\r\n\r\nWelcome @tsenart to your new job of approving my PRs.","Number":14175,"URL":"https://github.com/sourcegraph/sourcegraph/pull/14175","State":"MERGED","Repository":"sourcegraph/sourcegraph","Private":false,"Labels":["team/code-intelligence","tracking-issue"],"Assignees":["efritz"],"Milestone":"3.21","Author":"efritz","CreatedAt":"2020-09-24T16:00:28Z","UpdatedAt":"0001-01-01T00:00:00Z","ClosedAt":"2020-09-24T16:08:07Z","BeganAt":"2020-09-24T15:39:43Z"},{"ID":"MDExOlB1bGxSZXF1ZXN0NDk2NTMwNTY0","Title":"codeintel: Fix values in fake repo usage stats for CNCF repos","Body":"Ratio, search counts, and precise counts are all min thresholds. If we set both search and precise to the max, then we pass both count minimums and the ratio minimum (as the ratio is 1).","Number":14353,"URL":"https://github.com/sourcegraph/sourcegraph/pull/14353","State":"MERGED","Repository":"sourcegraph/sourcegraph","Private":false,"Labels":["team/code-intelligence"],"Assignees":["efritz"],"Milestone":"3.21","Author":"efritz","CreatedAt":"2020-10-01T20:32:57Z","UpdatedAt":"0001-01-01T00:00:00Z","ClosedAt":"2020-10-01T20:45:14Z","BeganAt":"2020-10-01T20:32:40Z"},{"ID":"MDExOlB1bGxSZXF1ZXN0NDkyNjI4NDgy","Title":"tracking-issue: Make sorting deterministic","Body":"The Campaigns 3.19 tracking issue has 6169 edits because two issues closed by the same PR were ordered randomly.","Number":14184,"URL":"https://github.com/sourcegraph/sourcegraph/pull/14184","State":"MERGED","Repository":"sourcegraph/sourcegraph","Private":false,"Labels":["team/code-intelligence","tracking-issue"],"Assignees":["efritz"],"Milestone":"3.21","Author":"efritz","CreatedAt":"2020-09-24T18:33:51Z","UpdatedAt":"0001-01-01T00:00:00Z","ClosedAt":"2020-09-24T21:00:04Z","BeganAt":"2020-09-24T18:32:02Z"},{"ID":"MDExOlB1bGxSZXF1ZXN0NDkyNTE2NDU5","Title":"chore: Fix tracking-issue tests","Body":"Looks like file modtime is not going to be stable across machines. I'm adding an explicit file with the last update time instead.","Number":14172,"URL":"https://github.com/sourcegraph/sourcegraph/pull/14172","State":"MERGED","Repository":"sourcegraph/sourcegraph","Private":false,"Labels":["team/code-intelligence"],"Assignees":["efritz"],"Milestone":"3.21","Author":"efritz","CreatedAt":"2020-09-24T15:10:04Z","UpdatedAt":"0001-01-01T00:00:00Z","ClosedAt":"2020-09-24T15:31:08Z","BeganAt":"2020-09-24T15:09:29Z"},{"ID":"MDExOlB1bGxSZXF1ZXN0NDkyMDExMTkz","Title":"codeintel: Move away from hardcoding image names","Body":"Keep a map of images required by an index job instead of relying on the presence of lsif-go and src-cli. This PR stops us from constructing sourcegraph-specific docker images (e.g. `sourcegraph/%s:latest`).","Number":14114,"URL":"https://github.com/sourcegraph/sourcegraph/pull/14114","State":"MERGED","Repository":"sourcegraph/sourcegraph","Private":false,"Labels":["RFC-201","team/code-intelligence"],"Assignees":["efritz"],"Milestone":"3.21","Author":"efritz","CreatedAt":"2020-09-23T20:04:48Z","UpdatedAt":"0001-01-01T00:00:00Z","ClosedAt":"2020-09-23T20:06:25Z","BeganAt":"2020-09-23T20:03:28Z"}]}