<div id="file-content" class="file-content"><div class="file-toolbar"><div class="secondary"><div class="aui-buttons"><button class="aui-button in-browser-edit-button" title="Edit this file" autocomplete="off" aria-disabled="false">Edit</button></div><div class="aui-buttons"><button class="aui-button file-blame" title="Show blame for this file" autocomplete="off" aria-disabled="false">Blame</button></div><a class="aui-button aui-button-link raw-view-link" href="/projects/SOURCEGRAPH/repos/mux/raw/dir/test_helpers.go?at=refs%2Fheads%2Fmaster" autocomplete="off" tabindex="0">Raw file</a></div><div class="primary"><div class="aui-buttons mode-toggle" original-title=""><a class="aui-button mode-source" href="/projects/SOURCEGRAPH/repos/mux/browse/dir/test_helpers.go?at=master&amp;until=refs%2Fheads%2Fmaster" title="View the full source of this file" autocomplete="off" aria-pressed="true" tabindex="0">Source view</a><a class="aui-button mode-diff" href="/projects/SOURCEGRAPH/repos/mux/diff/dir/test_helpers.go?sincePath=test_helpers.go&amp;until=refs%2Fheads%2Fmaster&amp;at=master" title="View the changes made in this revision" autocomplete="off" tabindex="0">Diff to previous</a></div><button class="aui-button aui-dd-trigger commit-selector-button aui-alignment-target" aria-controls="inline-dialog-commit-selector" aria-haspopup="true" role="button" title="View the history of this file" data-aui-trigger="" aria-expanded="false" resolved="">History</button><aui-inline-dialog id="inline-dialog-commit-selector" class="aui-layer aui-alignment-element aui-alignment-side-bottom aui-alignment-snap-left" alignment="bottom left" resolved="" aria-hidden="true"><div class="aui-inline-dialog-contents"></div></aui-inline-dialog></div></div><div class="content-view source-view text-view blame-disabled full-window-scrolling fully-loaded"><div class="CodeMirror cm-s-stash-default" style="height: 423px;"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 4px; left: 60px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;" tabindex="0"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 56px; margin-bottom: 0px; border-right-width: 30px; min-height: 331px; min-width: 568.688px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation" data-skate-ignore="true"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-cursors"><div class="CodeMirror-cursor" style="left: 4px; top: 0px; height: 17px;">&nbsp;</div></div><div class="CodeMirror-code" role="presentation" data-skate-ignore="true" style=""><div class="line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -56px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 56px;"><a class="line-number line-locator bitbucket-gutter-marker" data-line-number="1" href="#1">1</a></div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">// Copyright 2012 The Gorilla Authors. All rights reserved.</span></span></pre></div><div class="line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -56px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 56px;"><a class="line-number line-locator bitbucket-gutter-marker" data-line-number="2" href="#2">2</a></div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">// Use of this source code is governed by a BSD-style</span></span></pre></div><div class="line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -56px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 56px;"><a class="line-number line-locator bitbucket-gutter-marker" data-line-number="3" href="#3">3</a></div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">// license that can be found in the LICENSE file.</span></span></pre></div><div class="line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -56px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 56px;"><a class="line-number line-locator bitbucket-gutter-marker" data-line-number="4" href="#4">4</a></div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre></div><div class="line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -56px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 56px;"><a class="line-number line-locator bitbucket-gutter-marker" data-line-number="5" href="#5">5</a></div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">package</span> <span class="cm-variable">mux</span></span></pre></div><div class="line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -56px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 56px;"><a class="line-number line-locator bitbucket-gutter-marker" data-line-number="6" href="#6">6</a></div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre></div><div class="line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -56px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 56px;"><a class="line-number line-locator bitbucket-gutter-marker" data-line-number="7" href="#7">7</a></div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">import</span> <span class="cm-string">"net/http"</span></span></pre></div><div class="line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -56px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 56px;"><a class="line-number line-locator bitbucket-gutter-marker" data-line-number="8" href="#8">8</a></div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre></div><div class="line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -56px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 56px;"><a class="line-number line-locator bitbucket-gutter-marker" data-line-number="9" href="#9">9</a></div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">// SetURLVars sets the URL variables for the given request, to be accessed via</span></span></pre></div><div class="line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -56px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 56px;"><a class="line-number line-locator bitbucket-gutter-marker" data-line-number="10" href="#10">10</a></div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">// mux.Vars for testing route behaviour. Arguments are not modified, a shallow</span></span></pre></div><div class="line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -56px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 56px;"><a class="line-number line-locator bitbucket-gutter-marker" data-line-number="11" href="#11">11</a></div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">// copy is returned.</span></span></pre></div><div class="line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -56px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 56px;"><a class="line-number line-locator bitbucket-gutter-marker" data-line-number="12" href="#12">12</a></div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">//</span></span></pre></div><div class="line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -56px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 56px;"><a class="line-number line-locator bitbucket-gutter-marker" data-line-number="13" href="#13">13</a></div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">// This API should only be used for testing purposes; it provides a way to</span></span></pre></div><div class="line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -56px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 56px;"><a class="line-number line-locator bitbucket-gutter-marker" data-line-number="14" href="#14">14</a></div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">// inject variables into the request context. Alternatively, URL variables</span></span></pre></div><div class="line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -56px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 56px;"><a class="line-number line-locator bitbucket-gutter-marker" data-line-number="15" href="#15">15</a></div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">// can be set by making a route that captures the required variables,</span></span></pre></div><div class="line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -56px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 56px;"><a class="line-number line-locator bitbucket-gutter-marker" data-line-number="16" href="#16">16</a></div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">// starting a server and sending the request to that server.</span></span></pre></div><div class="line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -56px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 56px;"><a class="line-number line-locator bitbucket-gutter-marker" data-line-number="17" href="#17">17</a></div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">func</span> <span class="cm-variable">SetURLVars</span>(<span class="cm-variable">r</span> <span class="cm-operator">*</span><span class="cm-variable">http</span><span class="cm-number">.</span><span class="cm-variable">Request</span>, <span class="cm-variable">val</span> <span class="cm-keyword">map</span>[<span class="cm-keyword">string</span>]<span class="cm-keyword">string</span>) <span class="cm-operator">*</span><span class="cm-variable">http</span><span class="cm-number">.</span><span class="cm-variable">Request</span> {</span></pre></div><div class="line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -56px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 56px;"><a class="line-number line-locator bitbucket-gutter-marker" data-line-number="18" href="#18">18</a></div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">return</span> <span class="cm-variable">setVars</span>(<span class="cm-variable">r</span>, <span class="cm-variable">val</span>)</span></pre></div><div class="line" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -56px;"><div class="CodeMirror-gutter-elt" style="left: 0px; width: 56px;"><a class="line-number line-locator bitbucket-gutter-marker" data-line-number="19" href="#19">19</a></div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">}</span></pre></div></div></div></div></div></div><div style="position: absolute; height: 30px; width: 1px; border-bottom: 0px solid transparent; top: 331px;"></div><div class="CodeMirror-gutters" style="height: 361px; left: 0px;"><div class="CodeMirror-gutter blame"></div><div class="CodeMirror-gutter CodeMirror-linewidget"></div><div class="CodeMirror-gutter line-number"></div></div></div></div></div></div>
