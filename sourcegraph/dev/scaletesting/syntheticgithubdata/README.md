# Syntheticgithubdata

A CLI tool that seeds a GitHub Enterprise instance with synthetic organisations, teams, and users, and assigns pre-created repositories to those entities.

## Usage

`go run ./dev/scaletesting/syntheticgithubdata [flags...]`

### Mandatory flags

- `github.url`: GitHub base URL for the destination GHE instance
- `github.login`: GitHub user to authenticate with
- `github.password`: password of the GitHub user to authenticate with
- `github.token`: GitHub personal access token for the destination GHE instance
- `org.admin`: Username of the admin user

### Optional flags

- `user.count`: Amount of users to create or delete (default: `100`)
- `team.count`: Amount of teams to create or delete (default: `20`)
- `suborg.count`: Amount of sub-orgs to create or delete (default: `1`)
- `repos.sourceOrgName`: The org that contains the imported repositories to transfer (default: `blank200k`, generated by [bulkrepocreate](https://github.com/sourcegraph/sourcegraph/tree/main/dev/scaletesting/bulkrepocreate) or [codehostcopy](https://github.com/sourcegraph/sourcegraph/tree/main/dev/scaletesting/codehostcopy)
- `action`: Whether to 'create', 'delete', or 'validate' the synthetic data (default: `create`)
- `resume`: Temporary state to use to resume progress if interrupted (default: `state.db`)
- `generateTokens`: "Whether to generate new impersonation OAuth tokens for users (default: `false`)
