package lsifstore

import (
	"context"
	"fmt"
	"sort"
	"testing"

	"github.com/google/go-cmp/cmp"
)

func TestStencil(t *testing.T) {
	if testing.Short() {
		t.Skip()
	}
	store := populateTestStore(t)

	ranges, err := store.Stencil(context.Background(), testBundleID, "internal/index/indexer.go")
	if err != nil {
		t.Fatalf("unexpected error %s", err)
	}

	serializedRanges := make([]string, 0, len(ranges))
	for _, r := range ranges {
		serializedRanges = append(serializedRanges, fmt.Sprintf("%d:%d-%d:%d", r.Start.Line, r.Start.Character, r.End.Line, r.End.Character))
	}
	sort.Strings(serializedRanges)

	expectedRanges := []string{
		"101:18-101:23",
		"101:28-101:33",
		"101:6-101:7",
		"101:9-101:16",
		"102:1-102:5",
		"102:14-102:15",
		"102:16-102:24",
		"102:7-102:10",
		"103:4-103:7",
		"104:14-104:17",
		"107:10-107:15",
		"107:16-107:20",
		"107:8-107:9",
		"10:2-10:9",
		"110:18-110:26",
		"110:33-110:41",
		"110:42-110:49",
		"110:6-110:7",
		"110:9-110:16",
		"111:1-111:5",
		"111:14-111:22",
		"111:23-111:27",
		"111:29-111:37",
		"111:38-111:44",
		"111:7-111:10",
		"112:17-112:25",
		"112:2-112:6",
		"112:28-112:36",
		"112:37-112:46",
		"112:8-112:16",
		"113:12-113:23",
		"113:26-113:34",
		"113:3-113:11",
		"113:35-113:43",
		"114:12-114:21",
		"114:24-114:32",
		"114:3-114:11",
		"114:33-114:43",
		"114:46-114:54",
		"114:55-114:68",
		"115:11-115:22",
		"115:2-115:5",
		"115:9-115:10",
		"116:2-116:7",
		"117:13-117:19",
		"117:2-117:6",
		"117:28-117:32",
		"121:15-121:17",
		"121:18-121:24",
		"121:3-121:6",
		"121:7-121:14",
		"124:4-124:7",
		"125:14-125:17",
		"125:18-125:24",
		"125:46-125:49",
		"128:8-128:12",
		"12:2-12:41",
		"131:18-131:23",
		"131:24-131:28",
		"131:32-131:40",
		"131:41-131:48",
		"131:52-131:57",
		"131:6-131:7",
		"131:9-131:16",
		"132:1-132:2",
		"132:11-132:12",
		"132:13-132:14",
		"132:15-132:27",
		"132:38-132:39",
		"132:4-132:7",
		"132:40-132:54",
		"132:56-132:57",
		"132:58-132:66",
		"133:4-133:7",
		"134:14-134:17",
		"134:18-134:24",
		"134:48-134:51",
		"136:1-136:6",
		"136:15-136:16",
		"136:17-136:18",
		"136:19-136:30",
		"136:31-136:41",
		"136:8-136:11",
		"137:4-137:7",
		"138:14-138:17",
		"138:18-138:24",
		"138:47-138:50",
		"13:2-13:32",
		"141:10-141:11",
		"141:12-141:13",
		"141:14-141:28",
		"141:4-141:7",
		"141:40-141:45",
		"142:4-142:7",
		"143:14-143:17",
		"143:18-143:24",
		"143:45-143:48",
		"146:19-146:23",
		"146:5-146:6",
		"146:8-146:9",
		"147:12-147:13",
		"147:14-147:26",
		"147:27-147:28",
		"147:30-147:35",
		"147:38-147:41",
		"147:5-147:8",
		"148:15-148:18",
		"148:19-148:25",
		"148:50-148:51",
		"148:52-148:56",
		"148:58-148:61",
		"151:12-151:13",
		"151:14-151:26",
		"151:27-151:31",
		"151:33-151:34",
		"151:36-151:41",
		"151:44-151:47",
		"151:5-151:8",
		"152:15-152:18",
		"152:19-152:25",
		"152:55-152:56",
		"152:57-152:61",
		"152:63-152:66",
		"156:19-156:23",
		"156:5-156:6",
		"156:8-156:9",
		"157:12-157:13",
		"157:14-157:26",
		"157:27-157:31",
		"157:33-157:34",
		"157:36-157:41",
		"157:44-157:47",
		"157:5-157:8",
		"158:15-158:18",
		"158:19-158:25",
		"158:55-158:56",
		"158:57-158:61",
		"158:63-158:66",
		"162:19-162:20",
		"162:21-162:26",
		"162:5-162:6",
		"162:8-162:9",
		"163:14-163:16",
		"163:17-163:23",
		"163:2-163:5",
		"163:6-163:13",
		"165:26-165:27",
		"165:28-165:39",
		"165:6-165:7",
		"165:9-165:16",
		"166:16-166:19",
		"166:23-166:24",
		"166:25-166:26",
		"166:27-166:46",
		"166:3-166:14",
		"167:6-167:9",
		"168:16-168:19",
		"168:20-168:26",
		"168:57-168:60",
		"16:6-16:16",
		"171:12-171:13",
		"171:14-171:15",
		"171:16-171:42",
		"171:43-171:44",
		"171:45-171:49",
		"171:50-171:57",
		"171:59-171:70",
		"171:6-171:9",
		"171:72-171:83",
		"172:6-172:9",
		"173:16-173:19",
		"173:20-173:26",
		"173:65-173:68",
		"176:14-176:22",
		"176:32-176:33",
		"176:34-176:38",
		"176:39-176:46",
		"176:48-176:59",
		"176:7-176:12",
		"177:13-177:14",
		"177:15-177:16",
		"177:17-177:38",
		"177:39-177:50",
		"177:52-177:60",
		"177:62-177:67",
		"177:7-177:10",
		"178:7-178:10",
		"179:17-179:20",
		"179:21-179:27",
		"179:47-179:50",
		"183:14-183:22",
		"183:32-183:33",
		"183:34-183:38",
		"183:39-183:46",
		"183:48-183:59",
		"183:7-183:12",
		"184:13-184:14",
		"184:15-184:16",
		"184:17-184:37",
		"184:38-184:49",
		"184:51-184:59",
		"184:61-184:66",
		"184:7-184:10",
		"185:7-185:10",
		"186:17-186:20",
		"186:21-186:27",
		"186:47-186:50",
		"191:11-191:22",
		"191:35-191:36",
		"191:37-191:48",
		"191:9-191:10",
		"193:3-193:8",
		"194:10-194:12",
		"194:22-194:23",
		"194:24-194:35",
		"194:7-194:8",
		"195:10-195:12",
		"195:4-195:9",
		"197:10-197:12",
		"197:22-197:23",
		"197:24-197:35",
		"197:7-197:8",
		"198:10-198:12",
		"198:4-198:9",
		"19:5-19:12",
		"1:8-1:13",
		"200:3-200:12",
		"201:19-201:24",
		"201:7-201:9",
		"202:23-202:32",
		"202:34-202:36",
		"202:4-202:13",
		"205:12-205:13",
		"205:14-205:15",
		"205:16-205:28",
		"205:29-205:30",
		"205:31-205:36",
		"205:38-205:47",
		"205:6-205:9",
		"206:6-206:9",
		"207:16-207:19",
		"207:20-207:26",
		"207:50-207:53",
		"20:1-20:6",
		"20:11-20:16",
		"215:22-215:23",
		"215:24-215:29",
		"215:5-215:6",
		"215:8-215:12",
		"216:11-216:12",
		"216:13-216:14",
		"216:15-216:27",
		"216:40-216:44",
		"216:45-216:50",
		"216:5-216:8",
		"217:5-217:8",
		"218:15-218:18",
		"218:19-218:25",
		"218:44-218:47",
		"222:10-222:11",
		"222:12-222:13",
		"222:14-222:26",
		"222:38-222:43",
		"222:4-222:7",
		"223:4-223:7",
		"224:14-224:17",
		"224:18-224:24",
		"224:43-224:46",
		"227:9-227:14",
		"228:19-228:23",
		"228:2-228:9",
		"229:19-229:20",
		"229:2-229:10",
		"229:21-229:26",
		"230:19-230:20",
		"230:2-230:9",
		"230:21-230:28",
		"230:36-230:37",
		"230:38-230:43",
		"230:51-230:52",
		"230:53-230:59",
		"230:67-230:68",
		"230:69-230:73",
		"230:81-230:82",
		"230:83-230:88",
		"230:96-230:97",
		"230:98-230:104",
		"231:15-231:16",
		"231:17-231:18",
		"231:19-231:30",
		"231:2-231:13",
		"235:18-235:30",
		"235:31-235:32",
		"235:34-235:42",
		"235:43-235:50",
		"235:52-235:57",
		"235:6-235:7",
		"235:67-235:70",
		"235:9-235:16",
		"236:19-236:20",
		"236:21-236:27",
		"236:5-236:6",
		"236:8-236:9",
		"237:10-237:11",
		"237:12-237:16",
		"237:17-237:25",
		"237:2-237:6",
		"237:26-237:27",
		"237:28-237:35",
		"238:14-238:23",
		"238:24-238:28",
		"238:29-238:37",
		"238:39-238:40",
		"238:41-238:52",
		"238:6-238:13",
		"244:14-244:15",
		"244:16-244:21",
		"244:22-244:26",
		"244:27-244:35",
		"244:38-244:40",
		"244:5-244:6",
		"244:8-244:10",
		"249:16-249:17",
		"249:18-249:19",
		"249:2-249:7",
		"249:20-249:32",
		"249:33-249:43",
		"249:45-249:49",
		"249:50-249:58",
		"249:9-249:12",
		"24:5-24:10",
		"250:5-250:8",
		"251:10-251:13",
		"251:14-251:20",
		"251:44-251:47",
		"254:11-254:12",
		"254:13-254:14",
		"254:15-254:29",
		"254:42-254:47",
		"254:5-254:8",
		"255:5-255:8",
		"256:10-256:13",
		"256:14-256:20",
		"256:41-256:44",
		"259:11-259:12",
		"259:13-259:14",
		"259:15-259:27",
		"259:28-259:33",
		"259:44-259:49",
		"259:5-259:8",
		"25:1-25:8",
		"260:5-260:8",
		"261:10-261:13",
		"261:14-261:20",
		"261:44-261:47",
		"264:18-264:23",
		"264:2-264:4",
		"264:25-264:30",
		"264:9-264:17",
		"265:10-265:14",
		"265:15-265:23",
		"265:2-265:3",
		"265:27-265:29",
		"265:4-265:9",
		"269:11-269:15",
		"269:16-269:24",
		"269:2-269:3",
		"269:4-269:10",
		"26:1-26:9",
		"275:18-275:30",
		"275:31-275:35",
		"275:39-275:47",
		"275:48-275:55",
		"275:57-275:58",
		"275:6-275:7",
		"275:60-275:68",
		"275:69-275:76",
		"275:78-275:83",
		"275:9-275:16",
		"275:93-275:96",
		"276:19-276:20",
		"276:21-276:27",
		"276:5-276:6",
		"276:8-276:9",
		"277:10-277:11",
		"277:12-277:16",
		"277:17-277:25",
		"277:2-277:6",
		"277:26-277:27",
		"277:28-277:35",
		"278:12-278:13",
		"278:14-278:19",
		"278:2-278:4",
		"278:20-278:24",
		"278:25-278:33",
		"278:6-278:8",
		"279:6-279:8",
		"27:1-27:8",
		"284:14-284:15",
		"284:16-284:27",
		"284:28-284:32",
		"284:33-284:41",
		"284:44-284:46",
		"284:5-284:6",
		"284:8-284:10",
		"288:16-288:20",
		"288:2-288:3",
		"288:21-288:29",
		"288:4-288:15",
		"28:1-28:12",
		"290:11-290:12",
		"290:13-290:23",
		"290:24-290:25",
		"290:27-290:28",
		"290:30-290:32",
		"290:35-290:38",
		"290:5-290:8",
		"291:10-291:13",
		"291:14-291:20",
		"291:57-291:58",
		"291:59-291:66",
		"291:68-291:71",
		"294:11-294:12",
		"294:13-294:22",
		"294:23-294:27",
		"294:29-294:30",
		"294:32-294:33",
		"294:35-294:37",
		"294:39-294:44",
		"294:46-294:50",
		"294:5-294:8",
		"294:51-294:59",
		"294:62-294:65",
		"295:10-295:13",
		"295:14-295:20",
		"295:61-295:62",
		"295:63-295:70",
		"295:72-295:75",
		"302:18-302:30",
		"302:31-302:35",
		"302:39-302:47",
		"302:48-302:55",
		"302:57-302:58",
		"302:6-302:7",
		"302:60-302:68",
		"302:69-302:76",
		"302:78-302:83",
		"302:9-302:16",
		"302:93-302:96",
		"303:19-303:20",
		"303:21-303:27",
		"303:5-303:6",
		"303:8-303:9",
		"304:10-304:11",
		"304:12-304:16",
		"304:17-304:25",
		"304:2-304:6",
		"304:26-304:27",
		"304:28-304:35",
		"305:12-305:13",
		"305:14-305:19",
		"305:2-305:4",
		"305:20-305:24",
		"305:25-305:33",
		"305:6-305:8",
		"306:6-306:8",
		"311:14-311:15",
		"311:16-311:27",
		"311:28-311:32",
		"311:33-311:41",
		"311:44-311:46",
		"311:5-311:6",
		"311:8-311:10",
		"315:16-315:20",
		"315:2-315:3",
		"315:21-315:29",
		"315:4-315:15",
		"317:12-317:13",
		"317:14-317:23",
		"317:24-317:28",
		"317:30-317:31",
		"317:33-317:35",
		"317:37-317:41",
		"317:42-317:50",
		"317:5-317:8",
		"317:53-317:56",
		"318:10-318:13",
		"318:14-318:20",
		"318:54-318:55",
		"318:56-318:63",
		"318:65-318:68",
		"327:18-327:28",
		"327:29-327:30",
		"327:32-327:40",
		"327:41-327:48",
		"327:50-327:51",
		"327:53-327:56",
		"327:57-327:61",
		"327:6-327:7",
		"327:63-327:65",
		"327:67-327:75",
		"327:9-327:16",
		"328:23-328:24",
		"328:25-328:32",
		"328:5-328:6",
		"328:8-328:13",
		"32:5-32:12",
		"333:11-333:18",
		"333:19-333:23",
		"333:2-333:7",
		"333:24-333:29",
		"333:30-333:34",
		"333:35-333:40",
		"334:15-334:20",
		"334:5-334:6",
		"334:7-334:14",
		"33:1-33:12",
		"340:6-340:10",
		"341:11-341:15",
		"341:5-341:10",
		"342:10-342:15",
		"342:16-342:20",
		"342:21-342:26",
		"342:3-342:7",
		"344:10-344:15",
		"344:16-344:20",
		"344:21-344:27",
		"344:3-344:7",
		"346:14-346:18",
		"346:2-346:3",
		"346:20-346:23",
		"346:24-346:29",
		"346:4-346:13",
		"347:12-347:17",
		"347:18-347:21",
		"347:3-347:10",
		"348:12-348:16",
		"348:3-348:7",
		"349:12-349:15",
		"349:16-349:22",
		"349:23-349:26",
		"349:27-349:30",
		"349:3-349:6",
		"349:32-349:36",
		"34:1-34:15",
		"350:13-350:23",
		"350:24-350:29",
		"350:30-350:33",
		"350:37-350:38",
		"350:39-350:44",
		"350:46-350:50",
		"350:52-350:53",
		"350:54-350:61",
		"350:62-350:67",
		"350:69-350:74",
		"350:7-350:12",
		"355:102-355:107",
		"355:109-355:117",
		"355:18-355:27",
		"355:28-355:32",
		"355:36-355:44",
		"355:45-355:52",
		"355:54-355:55",
		"355:57-355:65",
		"355:6-355:7",
		"355:66-355:73",
		"355:75-355:76",
		"355:78-355:81",
		"355:82-355:86",
		"355:88-355:90",
		"355:9-355:16",
		"355:92-355:100",
		"356:5-356:13",
		"357:12-357:15",
		"357:25-357:26",
		"357:27-357:36",
		"357:37-357:41",
		"357:5-357:10",
		"359:5-359:8",
		"35:1-35:9",
		"35:16-35:24",
		"35:25-35:33",
		"364:10-364:11",
		"364:12-364:16",
		"364:17-364:25",
		"364:2-364:6",
		"364:26-364:31",
		"364:32-364:35",
		"365:10-365:18",
		"365:22-365:30",
		"365:5-365:9",
		"36:1-36:2",
		"36:17-36:25",
		"36:26-36:32",
		"371:14-371:15",
		"371:16-371:22",
		"371:23-371:31",
		"371:33-371:37",
		"371:38-371:44",
		"371:47-371:49",
		"371:5-371:6",
		"371:8-371:10",
		"375:2-375:17",
		"376:14-376:16",
		"376:20-376:23",
		"376:26-376:31",
		"376:32-376:39",
		"376:42-376:44",
		"376:5-376:12",
		"377:21-377:28",
		"377:29-377:38",
		"377:3-377:18",
		"377:39-377:46",
		"377:47-377:51",
		"380:11-380:14",
		"380:18-380:19",
		"380:2-380:9",
		"380:20-380:21",
		"380:22-380:31",
		"380:32-380:40",
		"380:41-380:45",
		"380:47-380:52",
		"380:53-380:57",
		"380:59-380:74",
		"381:5-381:8",
		"382:10-382:13",
		"382:14-382:20",
		"382:41-382:44",
		"384:11-384:19",
		"384:2-384:3",
		"384:21-384:25",
		"384:26-384:32",
		"384:36-384:43",
		"384:4-384:10",
		"386:13-386:15",
		"386:19-386:20",
		"386:2-386:11",
		"386:21-386:25",
		"386:26-386:33",
		"387:6-387:8",
		"388:16-388:19",
		"388:23-388:24",
		"388:25-388:26",
		"388:27-388:40",
		"388:3-388:14",
		"389:6-389:9",
		"390:11-390:14",
		"390:15-390:21",
		"390:46-390:49",
		"393:16-393:29",
		"393:3-393:12",
		"394:17-394:28",
		"394:4-394:15",
		"395:4-395:15",
		"396:4-396:15",
		"399:10-399:17",
		"399:21-399:30",
		"399:3-399:4",
		"399:5-399:9",
		"39:1-39:12",
		"402:14-402:23",
		"402:24-402:35",
		"402:36-402:38",
		"402:39-402:44",
		"402:48-402:50",
		"402:5-402:6",
		"402:8-402:10",
		"403:13-403:24",
		"403:25-403:27",
		"403:28-403:33",
		"403:3-403:12",
		"405:12-405:23",
		"405:2-405:11",
		"405:24-405:26",
		"405:27-405:32",
		"405:43-405:52",
		"405:53-405:64",
		"405:65-405:67",
		"405:68-405:73",
		"405:76-405:83",
		"407:11-407:12",
		"407:13-407:14",
		"407:15-407:23",
		"407:24-407:31",
		"407:33-407:42",
		"407:43-407:54",
		"407:5-407:8",
		"408:5-408:8",
		"409:10-409:13",
		"409:14-409:20",
		"409:40-409:43",
		"40:1-40:12",
		"412:15-412:18",
		"412:2-412:13",
		"412:22-412:23",
		"412:24-412:25",
		"412:26-412:46",
		"413:5-413:8",
		"414:10-414:13",
		"414:14-414:20",
		"414:52-414:55",
		"417:11-417:12",
		"417:13-417:14",
		"417:15-417:41",
		"417:42-417:51",
		"417:5-417:8",
		"417:52-417:63",
		"417:65-417:76",
		"418:5-418:8",
		"419:10-419:13",
		"419:14-419:20",
		"419:59-419:62",
		"41:1-41:7",
		"422:11-422:12",
		"422:13-422:14",
		"422:15-422:23",
		"422:24-422:35",
		"422:46-422:53",
		"422:5-422:8",
		"422:56-422:58",
		"422:59-422:64",
		"423:5-423:8",
		"424:10-424:13",
		"424:14-424:20",
		"424:40-424:43",
		"427:14-427:21",
		"427:2-427:9",
		"428:16-428:18",
		"428:19-428:24",
		"428:3-428:8",
		"429:16-429:23",
		"429:3-429:10",
		"42:1-42:17",
		"430:16-430:25",
		"430:26-430:37",
		"430:3-430:14",
		"431:16-431:27",
		"431:3-431:14",
		"434:14-434:17",
		"434:9-434:10",
		"435:14-435:18",
		"435:8-435:13",
		"436:11-436:12",
		"436:13-436:21",
		"436:27-436:34",
		"436:3-436:4",
		"436:5-436:10",
		"438:14-438:19",
		"438:8-438:13",
		"439:12-439:17",
		"439:18-439:21",
		"439:27-439:34",
		"439:3-439:4",
		"439:5-439:11",
		"441:14-441:17",
		"441:8-441:13",
		"442:10-442:15",
		"442:16-442:19",
		"442:25-442:32",
		"442:3-442:4",
		"442:5-442:9",
		"444:14-444:22",
		"444:8-444:13",
		"445:11-445:14",
		"445:15-445:19",
		"445:22-445:28",
		"445:3-445:4",
		"445:34-445:41",
		"445:5-445:10",
		"447:14-447:19",
		"447:8-447:13",
		"448:12-448:17",
		"448:18-448:21",
		"448:27-448:34",
		"448:3-448:4",
		"448:5-448:11",
		"450:14-450:21",
		"450:8-450:13",
		"451:13-451:18",
		"451:19-451:22",
		"451:28-451:35",
		"451:3-451:4",
		"451:5-451:12",
		"453:10-453:11",
		"453:12-453:29",
		"453:3-453:6",
		"453:30-453:39",
		"453:40-453:51",
		"453:53-453:60",
		"453:61-453:65",
		"453:66-453:71",
		"453:72-453:78",
		"454:6-454:9",
		"455:11-455:14",
		"455:15-455:21",
		"455:43-455:46",
		"45:1-45:6",
		"45:21-45:29",
		"462:11-462:21",
		"462:5-462:10",
		"463:10-463:11",
		"463:12-463:29",
		"463:3-463:6",
		"463:30-463:39",
		"463:40-463:51",
		"463:53-463:56",
		"463:57-463:64",
		"463:74-463:75",
		"463:76-463:83",
		"463:85-463:90",
		"463:91-463:97",
		"464:6-464:9",
		"465:11-465:14",
		"465:15-465:21",
		"465:43-465:46",
		"469:17-469:20",
		"469:2-469:15",
		"469:24-469:25",
		"469:26-469:47",
		"469:48-469:52",
		"469:54-469:55",
		"469:57-469:58",
		"469:60-469:63",
		"46:1-46:8",
		"46:13-46:18",
		"46:19-46:22",
		"46:24-46:31",
		"470:5-470:8",
		"471:10-471:13",
		"474:11-474:12",
		"474:13-474:14",
		"474:15-474:36",
		"474:37-474:46",
		"474:47-474:58",
		"474:5-474:8",
		"474:60-474:73",
		"475:5-475:8",
		"476:10-476:13",
		"476:14-476:20",
		"476:54-476:57",
		"479:2-479:10",
		"479:20-479:28",
		"479:30-479:37",
		"47:1-47:6",
		"47:21-47:28",
		"482:1-482:3",
		"482:25-482:27",
		"482:28-482:39",
		"482:4-482:15",
		"482:41-482:49",
		"486:18-486:27",
		"486:28-486:32",
		"486:36-486:44",
		"486:45-486:52",
		"486:54-486:55",
		"486:57-486:65",
		"486:6-486:7",
		"486:66-486:73",
		"486:75-486:77",
		"486:79-486:87",
		"486:89-486:97",
		"486:9-486:16",
		"487:5-487:13",
		"488:12-488:15",
		"488:25-488:26",
		"488:27-488:36",
		"488:37-488:41",
		"488:5-488:10",
		"48:1-48:7",
		"48:13-48:18",
		"48:19-48:22",
		"48:24-48:31",
		"490:10-490:11",
		"490:12-490:16",
		"490:17-490:25",
		"490:2-490:6",
		"490:26-490:31",
		"490:32-490:35",
		"491:10-491:18",
		"491:22-491:30",
		"491:5-491:9",
		"495:11-495:18",
		"495:6-495:9",
		"496:14-496:17",
		"496:9-496:10",
		"497:14-497:18",
		"497:8-497:13",
		"498:11-498:16",
		"498:17-498:18",
		"498:19-498:27",
		"498:3-498:6",
		"498:9-498:10",
		"49:1-49:5",
		"49:13-49:18",
		"49:19-49:22",
		"49:24-49:31",
		"4:2-4:5",
		"500:14-500:19",
		"500:8-500:13",
		"501:11-501:17",
		"501:18-501:19",
		"501:20-501:23",
		"501:3-501:6",
		"501:9-501:10",
		"503:14-503:17",
		"503:8-503:13",
		"504:11-504:15",
		"504:16-504:17",
		"504:18-504:21",
		"504:3-504:6",
		"504:9-504:10",
		"506:14-506:22",
		"506:8-506:13",
		"507:11-507:16",
		"507:17-507:20",
		"507:21-507:25",
		"507:28-507:34",
		"507:3-507:6",
		"507:9-507:10",
		"509:14-509:19",
		"509:8-509:13",
		"50:1-50:6",
		"50:21-50:28",
		"510:11-510:17",
		"510:18-510:19",
		"510:20-510:23",
		"510:3-510:6",
		"510:9-510:10",
		"512:14-512:21",
		"512:8-512:13",
		"513:11-513:18",
		"513:19-513:20",
		"513:21-513:24",
		"513:3-513:6",
		"513:9-513:10",
		"516:13-516:16",
		"516:2-516:5",
		"516:9-516:12",
		"517:19-517:22",
		"517:5-517:8",
		"51:1-51:7",
		"51:13-51:18",
		"51:19-51:22",
		"51:24-51:31",
		"523:6-523:9",
		"527:11-527:13",
		"527:17-527:18",
		"527:19-527:25",
		"527:2-527:9",
		"527:26-527:34",
		"527:36-527:40",
		"527:41-527:47",
		"528:6-528:8",
		"529:12-529:15",
		"529:18-529:19",
		"529:20-529:21",
		"529:22-529:31",
		"529:3-529:10",
		"529:32-529:40",
		"529:41-529:45",
		"529:47-529:52",
		"529:53-529:57",
		"52:1-52:5",
		"52:21-52:34",
		"530:6-530:9",
		"531:11-531:14",
		"531:15-531:21",
		"531:42-531:45",
		"533:12-533:20",
		"533:22-533:26",
		"533:27-533:33",
		"533:3-533:4",
		"533:37-533:44",
		"533:5-533:11",
		"535:2-535:10",
		"535:20-535:28",
		"535:30-535:37",
		"537:5-537:8",
		"538:18-538:21",
		"538:25-538:26",
		"538:27-538:56",
		"538:3-538:16",
		"538:57-538:61",
		"538:63-538:64",
		"538:66-538:69",
		"538:71-538:74",
		"539:6-539:9",
		"540:11-540:14",
		"543:6-543:19",
		"544:13-544:14",
		"544:15-544:16",
		"544:17-544:38",
		"544:39-544:46",
		"544:48-544:61",
		"544:7-544:10",
		"545:7-545:10",
		"546:12-546:15",
		"546:16-546:22",
		"546:56-546:59",
		"552:11-552:28",
		"552:29-552:36",
		"552:3-552:6",
		"552:38-552:41",
		"552:42-552:49",
		"552:59-552:62",
		"552:63-552:67",
		"552:71-552:74",
		"552:75-552:77",
		"552:9-552:10",
		"553:6-553:9",
		"554:11-554:14",
		"554:15-554:21",
		"554:43-554:46",
		"55:1-55:11",
		"562:16-562:19",
		"562:23-562:24",
		"562:25-562:26",
		"562:27-562:46",
		"562:3-562:14",
		"563:6-563:9",
		"564:11-564:14",
		"564:15-564:21",
		"564:52-564:55",
		"567:12-567:13",
		"567:14-567:15",
		"567:16-567:42",
		"567:43-567:50",
		"567:52-567:63",
		"567:6-567:9",
		"568:6-568:9",
		"569:11-569:14",
		"569:15-569:21",
		"569:60-569:63",
		"56:1-56:14",
		"572:12-572:13",
		"572:14-572:15",
		"572:16-572:36",
		"572:37-572:48",
		"572:59-572:66",
		"572:6-572:9",
		"572:69-572:71",
		"572:72-572:77",
		"573:6-573:9",
		"574:11-574:14",
		"574:15-574:21",
		"574:41-574:44",
		"57:1-57:13",
		"580:11-580:12",
		"580:13-580:14",
		"580:15-580:23",
		"580:24-580:31",
		"580:33-580:36",
		"580:37-580:48",
		"580:5-580:8",
		"581:5-581:8",
		"582:10-582:13",
		"582:14-582:20",
		"582:40-582:43",
		"585:15-585:16",
		"585:17-585:21",
		"585:2-585:11",
		"585:22-585:25",
		"585:26-585:33",
		"586:5-586:14",
		"587:15-587:24",
		"587:25-587:36",
		"587:37-587:39",
		"587:40-587:45",
		"587:49-587:51",
		"587:6-587:7",
		"587:9-587:11",
		"588:14-588:25",
		"588:26-588:28",
		"588:29-588:34",
		"588:4-588:13",
		"58:1-58:22",
		"590:13-590:24",
		"590:25-590:27",
		"590:28-590:33",
		"590:3-590:12",
		"590:44-590:53",
		"590:54-590:65",
		"590:66-590:68",
		"590:69-590:74",
		"590:77-590:84",
		"594:1-594:3",
		"594:25-594:27",
		"594:28-594:39",
		"594:4-594:15",
		"594:41-594:49",
		"5:2-5:8",
		"604:100-604:103",
		"604:104-604:109",
		"604:110-604:116",
		"604:18-604:39",
		"604:40-604:44",
		"604:48-604:56",
		"604:57-604:64",
		"604:6-604:7",
		"604:66-604:67",
		"604:69-604:77",
		"604:78-604:85",
		"604:87-604:88",
		"604:9-604:16",
		"604:90-604:93",
		"604:94-604:98",
		"605:1-605:8",
		"605:10-605:12",
		"605:16-605:19",
		"605:22-605:27",
		"605:28-605:35",
		"606:5-606:7",
		"608:11-608:26",
		"608:27-608:31",
		"608:33-608:34",
		"608:36-608:37",
		"608:39-608:42",
		"608:9-608:10",
		"611:1-611:4",
		"611:16-611:24",
		"611:27-611:31",
		"611:8-611:15",
		"612:19-612:21",
		"612:25-612:26",
		"612:27-612:43",
		"612:4-612:17",
		"612:44-612:47",
		"612:50-612:52",
		"613:9-613:22",
		"616:1-616:14",
		"616:16-616:19",
		"616:23-616:24",
		"616:25-616:40",
		"616:41-616:45",
		"616:47-616:48",
		"616:50-616:51",
		"616:53-616:56",
		"617:4-617:7",
		"618:13-618:16",
		"620:1-620:2",
		"620:20-620:23",
		"620:27-620:40",
		"620:3-620:19",
		"622:8-622:21",
		"627:104-627:110",
		"627:18-627:33",
		"627:34-627:38",
		"627:42-627:50",
		"627:51-627:58",
		"627:6-627:7",
		"627:60-627:61",
		"627:63-627:71",
		"627:72-627:79",
		"627:81-627:82",
		"627:84-627:87",
		"627:88-627:92",
		"627:9-627:16",
		"627:94-627:97",
		"627:98-627:103",
		"628:1-628:9",
		"628:11-628:14",
		"628:18-628:30",
		"628:31-628:35",
		"628:37-628:38",
		"628:40-628:41",
		"628:43-628:46",
		"629:4-629:7",
		"62:5-62:15",
		"630:13-630:16",
		"630:17-630:23",
		"630:45-630:48",
		"633:1-633:14",
		"633:16-633:19",
		"633:23-633:24",
		"633:25-633:26",
		"633:27-633:42",
		"633:43-633:51",
		"634:4-634:7",
		"635:13-635:16",
		"635:17-635:23",
		"635:50-635:53",
		"638:8-638:21",
		"63:1-63:12",
		"647:105-647:111",
		"647:113-647:116",
		"647:118-647:123",
		"647:124-647:131",
		"647:18-647:47",
		"647:48-647:52",
		"647:56-647:64",
		"647:6-647:7",
		"647:65-647:72",
		"647:74-647:75",
		"647:77-647:85",
		"647:86-647:93",
		"647:9-647:16",
		"647:95-647:98",
		"647:99-647:104",
		"648:1-648:4",
		"648:12-648:19",
		"648:30-648:33",
		"648:34-648:38",
		"648:42-648:45",
		"648:46-648:49",
		"648:8-648:11",
		"649:19-649:21",
		"649:25-649:26",
		"649:27-649:43",
		"649:4-649:17",
		"649:44-649:47",
		"649:50-649:52",
		"64:1-64:15",
		"650:9-650:22",
		"653:1-653:9",
		"653:11-653:14",
		"653:18-653:39",
		"653:40-653:44",
		"653:46-653:47",
		"653:49-653:52",
		"653:54-653:57",
		"654:18-654:26",
		"654:4-654:7",
		"655:13-655:16",
		"658:1-658:14",
		"658:16-658:19",
		"658:23-658:24",
		"658:25-658:26",
		"658:27-658:42",
		"658:43-658:51",
		"659:4-659:7",
		"65:1-65:11",
		"660:13-660:16",
		"660:17-660:23",
		"660:50-660:53",
		"662:1-662:2",
		"662:20-662:23",
		"662:27-662:40",
		"662:3-662:19",
		"664:8-664:21",
		"667:18-667:42",
		"667:43-667:54",
		"667:56-667:63",
		"667:6-667:7",
		"667:9-667:16",
		"668:1-668:21",
		"668:23-668:25",
		"668:29-668:30",
		"668:31-668:52",
		"668:53-668:64",
		"669:4-669:6",
		"66:1-66:14",
		"670:9-670:29",
		"673:1-673:21",
		"673:23-673:26",
		"673:30-673:31",
		"673:32-673:33",
		"673:34-673:56",
		"673:57-673:68",
		"673:79-673:86",
		"674:4-674:7",
		"675:13-675:16",
		"678:1-678:2",
		"678:25-678:36",
		"678:3-678:24",
		"678:40-678:60",
		"679:8-679:28",
		"67:1-67:13",
		"682:18-682:35",
		"682:36-682:44",
		"682:46-682:56",
		"682:6-682:7",
		"682:9-682:16",
		"683:28-683:43",
		"683:44-683:51",
		"683:5-683:6",
		"683:52-683:57",
		"683:58-683:68",
		"683:8-683:18",
		"684:17-684:19",
		"684:2-684:15",
		"684:23-684:24",
		"684:25-684:37",
		"684:38-684:48",
		"685:6-685:8",
		"689:2-689:22",
		"689:24-689:27",
		"689:31-689:32",
		"689:33-689:57",
		"689:58-689:68",
		"689:70-689:83",
		"68:1-68:12",
		"690:5-690:8",
		"691:10-691:13",
		"694:11-694:22",
		"694:33-694:43",
		"694:45-694:53",
		"694:55-694:75",
		"694:9-694:10",
		"69:1-69:9",
		"69:10-69:18",
		"69:19-69:27",
		"6:2-6:10",
		"700:18-700:35",
		"700:36-700:44",
		"700:46-700:56",
		"700:6-700:7",
		"700:9-700:16",
		"701:4-701:5",
		"701:6-701:16",
		"706:1-706:21",
		"706:23-706:26",
		"706:30-706:31",
		"706:32-706:56",
		"706:57-706:58",
		"706:59-706:69",
		"706:71-706:72",
		"706:73-706:86",
		"707:4-707:7",
		"708:9-708:12",
		"70:1-70:2",
		"70:3-70:5",
		"70:6-70:12",
		"711:10-711:21",
		"711:32-711:42",
		"711:44-711:52",
		"711:54-711:74",
		"711:8-711:9",
		"716:18-716:29",
		"716:30-716:34",
		"716:43-716:53",
		"716:6-716:7",
		"716:62-716:70",
		"716:72-716:81",
		"716:9-716:16",
		"717:1-717:10",
		"717:12-717:15",
		"717:19-717:20",
		"717:21-717:22",
		"717:23-717:34",
		"717:35-717:39",
		"717:50-717:60",
		"718:4-718:7",
		"719:9-719:12",
		"71:2-71:9",
		"722:14-722:15",
		"722:16-722:17",
		"722:18-722:44",
		"722:4-722:5",
		"722:45-722:54",
		"722:56-722:65",
		"722:68-722:71",
		"722:7-722:10",
		"723:9-723:12",
		"726:14-726:15",
		"726:16-726:17",
		"726:18-726:33",
		"726:34-726:42",
		"726:4-726:5",
		"726:44-726:53",
		"726:56-726:59",
		"726:7-726:10",
		"727:9-727:12",
		"72:9-72:16",
		"738:21-738:32",
		"738:5-738:20",
		"739:1-739:6",
		"739:10-739:17",
		"739:18-739:23",
		"739:24-739:35",
		"73:18-73:29",
		"73:2-73:13",
		"740:1-740:9",
		"740:32-740:37",
		"742:13-742:14",
		"742:22-742:27",
		"742:30-742:31",
		"742:5-742:6",
		"743:15-743:20",
		"743:2-743:10",
		"743:22-743:23",
		"743:27-743:34",
		"743:35-743:39",
		"743:40-743:45",
		"743:47-743:48",
		"746:8-746:16",
		"74:18-74:32",
		"74:2-74:16",
		"75:18-75:28",
		"75:2-75:12",
		"76:18-76:31",
		"76:2-76:15",
		"77:18-77:30",
		"77:2-77:14",
		"78:18-78:26",
		"78:2-78:10",
		"79:18-79:26",
		"79:2-79:3",
		"79:27-79:36",
		"79:37-79:38",
		"79:40-79:51",
		"7:2-7:10",
		"82:2-82:13",
		"83:2-83:13",
		"84:2-84:8",
		"85:2-85:18",
		"86:2-86:7",
		"86:37-86:45",
		"87:2-87:9",
		"87:29-87:34",
		"87:35-87:38",
		"87:40-87:47",
		"88:2-88:7",
		"88:37-88:44",
		"89:2-89:8",
		"89:29-89:34",
		"89:35-89:38",
		"89:40-89:47",
		"8:2-8:4",
		"90:2-90:6",
		"90:29-90:34",
		"90:35-90:38",
		"90:40-90:47",
		"91:2-91:7",
		"91:37-91:44",
		"92:2-92:8",
		"92:29-92:34",
		"92:35-92:38",
		"92:40-92:47",
		"93:2-93:6",
		"93:37-93:50",
		"94:2-94:23",
		"9:2-9:4",
	}
	if diff := cmp.Diff(expectedRanges, serializedRanges); diff != "" {
		t.Errorf("unexpected ranges (-want +got):\n%s", diff)
	}
}
