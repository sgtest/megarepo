<script lang="ts">
    import { page } from '$app/stores'
    import Icon from '$lib/Icon.svelte'
    import { mdiFlaskRemoveOutline, mdiInformation } from '@mdi/js'

    // A hard referesh will only load the React version if the URL does not explicitly
    // include the `feat=web-next` query parameter.
    $: urlHasFeatureFlag = $page.url.searchParams.getAll('feat').includes('web-next')
</script>

<div>
    <Icon svgPath={mdiInformation} inline />
    You are trying out the experimental web app. Links marked with <Icon
        svgPath={mdiFlaskRemoveOutline}
        inline
        --color="var(--gray-06)"
    /> will bring you back to the production version{#if urlHasFeatureFlag}.{:else}, as will a hard refresh.{/if}
</div>

<style lang="scss">
    div {
        padding: 0.5rem;
        background: var(--primary-4);
        --color: var(--primary-3);
    }
</style>
