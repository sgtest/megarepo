# Gerrit
<span class="badge badge-beta">Beta</span>

Site admins can sync Git repositories hosted on their private Gerrit instance with Sourcegraph so that users can search and navigate the repositories.

To connect Gerrit to Sourcegraph:

1. Go to **Site admin > Manage code hosts > Add code host**
2. Select **Gerrit**
3. Set **url** to the URL of your Gerrit instance.
4. Provide an admin **username** and **password**. A password can be generated by following [these](https://gerrit-documentation.storage.googleapis.com/Documentation/2.14.2/user-upload.html#http) instructions. Only HTTP/HTTPS credentials are supported.
5. Click **Add repositories**.

```json
{
  "url": "https://gerrit.example.com",
  "username": "<admin username>",
  "password": "<admin password>",
  "projects": [ // If not set, all projects on the Gerrit instance will be mirrored
    "docs",
    "kubernetes/kubernetes"
  ]
}
```

## Repository permissions

Prerequisite: [Add Gerrit as an authentication provider](../auth/index.md#gerrit).

Then, add or edit a Gerrit connection as described above and include the `authorization` field:

```json
{
  // The Gerrit URL used to set up the Gerrit authentication provider must match this URL.
  "url": "https://gerrit.example.com",
  "username": "<admin username>",
  "password": "<admin password>",
  // ...
  "authorization": {}
}
```

> NOTE: It can take some time to complete full cycle of repository permissions sync if you have a large number of users or repositories. [See sync duration time](../permissions/syncing.md#sync-duration) for more information.

## User authentication

If repository permissions is configured, Gerrit has to be added as an authentication provider.
See the [authentication documentation](../auth/index.md#gerrit).

## Configuration

Gerrit connections support the following configuration options, which are specified in the JSON editor in the site admin "Manage code hosts" area.

<div markdown-func=jsonschemadoc jsonschemadoc:path="admin/external_service/gerrit.schema.json">[View page on docs.sourcegraph.com](https://docs.sourcegraph.com/admin/external_service/gerrit) to see rendered content.</div>
