<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<?xml-stylesheet href="/assets/architecture.css" type="text/css"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.44.0 (20200408.0750)
 -->
<!-- Title: architecture Pages: 1 -->
<svg width="556pt" height="422pt"
 viewBox="0.00 0.00 556.19 422.17" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(14.4 407.77)">
<title>architecture</title>
<polygon fill="white" stroke="transparent" points="-14.4,14.4 -14.4,-407.77 541.79,-407.77 541.79,14.4 -14.4,14.4"/>
<text text-anchor="middle" x="263.7" y="-7.4" font-family="Iosevka" font-size="12.00">Sourcegraph Code Intelligence Architecture Overview</text>
<g id="clust1" class="cluster">
<title>cluster_frontend</title>
<polygon fill="none" stroke="black" stroke-dasharray="1,5" points="181,-175.38 181,-248.38 491,-248.38 491,-175.38 181,-175.38"/>
<text text-anchor="middle" x="336" y="-234.78" font-family="Iosevka" font-size="12.00">Sourcegraph frontend</text>
</g>
<g id="clust2" class="cluster">
<title>cluster_services</title>
<polygon fill="none" stroke="black" stroke-dasharray="1,5" points="8,-175.38 8,-385.38 173,-385.38 173,-175.38 8,-175.38"/>
<text text-anchor="middle" x="90.5" y="-371.77" font-family="Iosevka" font-size="12.00">Precise code intel system</text>
</g>
<g id="clust3" class="cluster">
<title>cluster_databases</title>
<polygon fill="none" stroke="black" stroke-dasharray="1,5" points="79,-29 79,-111.38 238,-111.38 238,-29 79,-29"/>
<text text-anchor="middle" x="158.5" y="-97.78" font-family="Iosevka" font-size="12.00">Databases</text>
</g>
<!-- frontend_graphqlbackend -->
<g id="node1" class="node">
<title>frontend_graphqlbackend</title>
<polygon fill="#8dd3c7" stroke="black" points="283,-219.38 189,-219.38 189,-183.38 283,-183.38 283,-219.38"/>
<text text-anchor="middle" x="236" y="-198.88" font-family="Iosevka" font-size="10.00">graphql backend</text>
</g>
<!-- api_server -->
<g id="node4" class="node">
<title>api_server</title>
<g id="a_node4"><a xlink:href="https://github.com/sourcegraph/sourcegraph/tree/master/enterprise/cmd/precise-code-intel-api-server" xlink:title="api server" target="_blank">
<polygon fill="#bebada" stroke="black" points="81.5,-356.38 16.5,-356.38 16.5,-320.38 81.5,-320.38 81.5,-356.38"/>
<text text-anchor="middle" x="49" y="-335.88" font-family="Iosevka" font-size="10.00">api server</text>
</a>
</g>
</g>
<!-- frontend_graphqlbackend&#45;&gt;api_server -->
<g id="edge1" class="edge">
<title>frontend_graphqlbackend&#45;&gt;api_server</title>
<path fill="none" stroke="black" stroke-width="0.6" d="M216.14,-219.43C205.59,-228.3 192.29,-239.18 180,-248.38 149.45,-271.23 113.53,-295.45 87.04,-312.85"/>
<polygon fill="#8dd3c7" stroke="black" stroke-width="0.6" points="84.31,-308.99 75.59,-320.33 89.47,-316.9 84.31,-308.99"/>
</g>
<!-- frontend_gitserver_proxy -->
<g id="node2" class="node">
<title>frontend_gitserver_proxy</title>
<polygon fill="#8dd3c7" stroke="black" points="482.5,-219.38 395.5,-219.38 395.5,-183.38 482.5,-183.38 482.5,-219.38"/>
<text text-anchor="middle" x="439" y="-198.88" font-family="Iosevka" font-size="10.00">gitserver proxy</text>
</g>
<!-- frontend_config -->
<g id="node3" class="node">
<title>frontend_config</title>
<polygon fill="#8dd3c7" stroke="black" points="366,-219.38 312,-219.38 312,-183.38 366,-183.38 366,-219.38"/>
<text text-anchor="middle" x="339" y="-198.88" font-family="Iosevka" font-size="10.00">config</text>
</g>
<!-- api_server&#45;&gt;frontend_config -->
<g id="edge2" class="edge">
<title>api_server&#45;&gt;frontend_config</title>
<path fill="none" stroke="black" stroke-width="0.6" d="M81.61,-325.56C86.43,-323.82 91.35,-322.05 96,-320.38 185.7,-288.17 218.94,-301.61 298,-248.38 305.28,-243.48 312.1,-237 318.01,-230.45"/>
<polygon fill="#bebada" stroke="black" stroke-width="0.6" points="322.01,-233.03 327.02,-219.64 314.75,-226.98 322.01,-233.03"/>
</g>
<!-- bundle_manager -->
<g id="node6" class="node">
<title>bundle_manager</title>
<g id="a_node6"><a xlink:href="https://github.com/sourcegraph/sourcegraph/tree/master/enterprise/cmd/precise-code-intel-bundle-manager" xlink:title="bundle manager" target="_blank">
<polygon fill="#80b1d3" stroke="black" points="160,-219.38 68,-219.38 68,-183.38 160,-183.38 160,-219.38"/>
<text text-anchor="middle" x="114" y="-198.88" font-family="Iosevka" font-size="10.00">bundle manager</text>
</a>
</g>
</g>
<!-- api_server&#45;&gt;bundle_manager -->
<g id="edge3" class="edge">
<title>api_server&#45;&gt;bundle_manager</title>
<path fill="none" stroke="black" stroke-width="0.6" d="M63.25,-307.78C74.04,-285.37 88.8,-254.71 99.62,-232.24"/>
<polygon fill="#bebada" stroke="black" stroke-width="0.6" points="58.83,-306.06 57.23,-320.28 67.35,-310.16 58.83,-306.06"/>
<polygon fill="#bebada" stroke="black" stroke-width="0.6" points="104.03,-233.97 105.63,-219.76 95.52,-229.87 104.03,-233.97"/>
</g>
<!-- postgres -->
<g id="node7" class="node">
<title>postgres</title>
<path fill="white" stroke="black" d="M230,-78.4C230,-80.7 216.55,-82.56 200,-82.56 183.45,-82.56 170,-80.7 170,-78.4 170,-78.4 170,-40.97 170,-40.97 170,-38.68 183.45,-36.81 200,-36.81 216.55,-36.81 230,-38.68 230,-40.97 230,-40.97 230,-78.4 230,-78.4"/>
<path fill="none" stroke="black" d="M230,-78.4C230,-76.11 216.55,-74.25 200,-74.25 183.45,-74.25 170,-76.11 170,-78.4"/>
<text text-anchor="middle" x="200" y="-57.19" font-family="Iosevka" font-size="10.00">postgres</text>
</g>
<!-- api_server&#45;&gt;postgres -->
<g id="edge4" class="edge">
<title>api_server&#45;&gt;postgres</title>
<path fill="none" stroke="black" stroke-width="0.6" d="M81.64,-324.77C86.42,-323.16 91.31,-321.63 96,-320.38 287.82,-268.91 516.8,-400.72 527,-202.38"/>
<path fill="none" stroke="black" stroke-width="0.6" d="M527,-200.38C533.28,-78.36 334.41,-61.51 243.84,-60.15"/>
<polygon fill="#bebada" stroke="black" stroke-width="0.6" points="243.81,-55.43 230.28,-60.05 243.74,-64.88 243.81,-55.43"/>
</g>
<!-- worker -->
<g id="node5" class="node">
<title>worker</title>
<g id="a_node5"><a xlink:href="https://github.com/sourcegraph/sourcegraph/tree/master/enterprise/cmd/precise-code-intel-worker" xlink:title="worker" target="_blank">
<polygon fill="#fb8072" stroke="black" points="165,-356.38 111,-356.38 111,-320.38 165,-320.38 165,-356.38"/>
<text text-anchor="middle" x="138" y="-335.88" font-family="Iosevka" font-size="10.00">worker</text>
</a>
</g>
</g>
<!-- worker&#45;&gt;frontend_gitserver_proxy -->
<g id="edge5" class="edge">
<title>worker&#45;&gt;frontend_gitserver_proxy</title>
<path fill="none" stroke="black" stroke-width="0.6" d="M165.1,-330.51C211.32,-318.16 307.51,-289.56 381,-248.38 391.01,-242.76 401.1,-235.47 409.98,-228.35"/>
<polygon fill="#fb8072" stroke="black" stroke-width="0.6" points="413.17,-231.85 420.51,-219.57 407.12,-224.59 413.17,-231.85"/>
</g>
<!-- worker&#45;&gt;frontend_config -->
<g id="edge6" class="edge">
<title>worker&#45;&gt;frontend_config</title>
<path fill="none" stroke="black" stroke-width="0.6" d="M165.17,-325.69C198.44,-310.65 255.57,-282.35 298,-248.38 304.74,-242.98 311.31,-236.41 317.14,-229.95"/>
<polygon fill="#fb8072" stroke="black" stroke-width="0.6" points="320.98,-232.73 326.16,-219.4 313.8,-226.59 320.98,-232.73"/>
</g>
<!-- worker&#45;&gt;bundle_manager -->
<g id="edge7" class="edge">
<title>worker&#45;&gt;bundle_manager</title>
<path fill="none" stroke="black" stroke-width="0.6" d="M134.96,-320.28C131.07,-298.39 124.26,-260.06 119.46,-233.06"/>
<polygon fill="#fb8072" stroke="black" stroke-width="0.6" points="124.11,-232.22 117.09,-219.76 114.8,-233.88 124.11,-232.22"/>
</g>
<!-- worker&#45;&gt;postgres -->
<g id="edge8" class="edge">
<title>worker&#45;&gt;postgres</title>
<path fill="none" stroke="black" stroke-width="0.6" d="M165.22,-337.33C229.37,-335.9 392.56,-324.5 498,-248.38 517.59,-234.23 525.76,-226.51 527,-202.38"/>
</g>
<!-- bundle_manager&#45;&gt;frontend_config -->
<g id="edge9" class="edge">
<title>bundle_manager&#45;&gt;frontend_config</title>
<path fill="none" stroke="black" stroke-width="0.6" d="M124.04,-219.72C136.26,-239.89 158.97,-271.2 188.5,-284.38 227.06,-301.58 246.26,-304.27 283.5,-284.38 304.15,-273.34 318.45,-250.86 327.36,-232.07"/>
<polygon fill="#80b1d3" stroke="black" stroke-width="0.6" points="331.76,-233.81 332.8,-219.55 323.09,-230.05 331.76,-233.81"/>
</g>
<!-- bundle_manager&#45;&gt;postgres -->
<g id="edge11" class="edge">
<title>bundle_manager&#45;&gt;postgres</title>
<path fill="none" stroke="black" stroke-width="0.6" d="M124.55,-183.25C138.14,-161.16 162.09,-122.27 179.36,-94.21"/>
<polygon fill="#80b1d3" stroke="black" stroke-width="0.6" points="183.48,-96.53 186.54,-82.55 175.44,-91.57 183.48,-96.53"/>
</g>
<!-- volume -->
<g id="node8" class="node">
<title>volume</title>
<path fill="white" stroke="black" d="M141,-78.4C141,-80.7 128.9,-82.56 114,-82.56 99.1,-82.56 87,-80.7 87,-78.4 87,-78.4 87,-40.97 87,-40.97 87,-38.68 99.1,-36.81 114,-36.81 128.9,-36.81 141,-38.68 141,-40.97 141,-40.97 141,-78.4 141,-78.4"/>
<path fill="none" stroke="black" d="M141,-78.4C141,-76.11 128.9,-74.25 114,-74.25 99.1,-74.25 87,-76.11 87,-78.4"/>
<text text-anchor="middle" x="114" y="-57.19" font-family="Iosevka" font-size="10.00">volume</text>
</g>
<!-- bundle_manager&#45;&gt;volume -->
<g id="edge12" class="edge">
<title>bundle_manager&#45;&gt;volume</title>
<path fill="none" stroke="black" stroke-width="0.6" d="M114,-183.25C114,-161.66 114,-124 114,-96.11"/>
<polygon fill="#80b1d3" stroke="black" stroke-width="0.6" points="118.73,-96.05 114,-82.55 109.28,-96.05 118.73,-96.05"/>
</g>
</g>
</svg>
