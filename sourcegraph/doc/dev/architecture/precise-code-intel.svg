<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<?xml-stylesheet href="/assets/architecture.css" type="text/css"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.44.0 (20200408.0750)
 -->
<!-- Title: architecture Pages: 1 -->
<svg width="441pt" height="430pt"
 viewBox="0.00 0.00 440.80 430.17" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(14.4 415.77)">
<title>architecture</title>
<polygon fill="white" stroke="transparent" points="-14.4,14.4 -14.4,-415.77 426.4,-415.77 426.4,14.4 -14.4,14.4"/>
<text text-anchor="middle" x="206" y="-7.4" font-family="Iosevka" font-size="12.00">Precise code intelligence architecture overview</text>
<g id="clust1" class="cluster">
<title>cluster_services</title>
<polygon fill="none" stroke="black" stroke-dasharray="1,5" points="8,-29 8,-243.38 294,-243.38 294,-29 8,-29"/>
</g>
<g id="clust2" class="cluster">
<title>cluster_bundle_manager_services</title>
<polygon fill="none" stroke="black" stroke-dasharray="1,5" points="16,-37 16,-235.38 126,-235.38 126,-37 16,-37"/>
</g>
<g id="clust3" class="cluster">
<title>cluster_frontend</title>
<polygon fill="none" stroke="black" stroke-dasharray="1,5" points="18,-320.38 18,-393.38 283,-393.38 283,-320.38 18,-320.38"/>
<text text-anchor="middle" x="150.5" y="-379.77" font-family="Iosevka" font-size="12.00">Frontend</text>
</g>
<!-- bundle_manager -->
<g id="node1" class="node">
<title>bundle_manager</title>
<g id="a_node1"><a xlink:href="https://github.com/sourcegraph/sourcegraph/tree/master/enterprise/cmd/precise-code-intel-bundle-manager" xlink:title="Bundle manager" target="_blank">
<polygon fill="#ffffb3" stroke="black" points="117.5,-227.38 24.5,-227.38 24.5,-191.38 117.5,-191.38 117.5,-227.38"/>
<text text-anchor="middle" x="71" y="-206.88" font-family="Iosevka" font-size="10.00">Bundle manager</text>
</a>
</g>
</g>
<!-- disk -->
<g id="node2" class="node">
<title>disk</title>
<path fill="white" stroke="black" d="M98,-86.4C98,-88.7 85.9,-90.56 71,-90.56 56.1,-90.56 44,-88.7 44,-86.4 44,-86.4 44,-48.97 44,-48.97 44,-46.68 56.1,-44.81 71,-44.81 85.9,-44.81 98,-46.68 98,-48.97 98,-48.97 98,-86.4 98,-86.4"/>
<path fill="none" stroke="black" d="M98,-86.4C98,-84.11 85.9,-82.25 71,-82.25 56.1,-82.25 44,-84.11 44,-86.4"/>
<text text-anchor="middle" x="71" y="-65.19" font-family="Iosevka" font-size="10.00">Disk</text>
</g>
<!-- bundle_manager&#45;&gt;disk -->
<g id="edge3" class="edge">
<title>bundle_manager:s&#45;&gt;disk:n</title>
<path fill="none" stroke="black" stroke-width="0.6" d="M71,-191.38C71,-191.38 71,-131.56 71,-104"/>
<polygon fill="#ffffb3" stroke="black" stroke-width="0.6" points="75.73,-103.87 71,-90.38 66.28,-103.88 75.73,-103.87"/>
</g>
<!-- dbs -->
<g id="node7" class="node">
<title>dbs</title>
<path fill="#fdb462" stroke="black" d="M412,-86.4C412,-88.7 387.35,-90.56 357,-90.56 326.65,-90.56 302,-88.7 302,-86.4 302,-86.4 302,-48.97 302,-48.97 302,-46.68 326.65,-44.81 357,-44.81 387.35,-44.81 412,-46.68 412,-48.97 412,-48.97 412,-86.4 412,-86.4"/>
<path fill="none" stroke="black" d="M412,-86.4C412,-84.11 387.35,-82.25 357,-82.25 326.65,-82.25 302,-84.11 302,-86.4"/>
<text text-anchor="middle" x="357" y="-65.19" font-family="Iosevka" font-size="10.00">Postgres / Gitserver</text>
</g>
<!-- bundle_manager&#45;&gt;dbs -->
<g id="edge6" class="edge">
<title>bundle_manager:s&#45;&gt;dbs:n</title>
<path fill="none" stroke="black" stroke-width="0.6" d="M71,-191.38C71,-191.38 288.02,-114.74 343.97,-94.98"/>
<polygon fill="#fdb462" stroke="black" stroke-width="0.6" points="345.84,-99.33 357,-90.38 342.7,-90.42 345.84,-99.33"/>
</g>
<!-- indexer -->
<g id="node3" class="node">
<title>indexer</title>
<g id="a_node3"><a xlink:href="https://github.com/sourcegraph/sourcegraph/tree/master/enterprise/cmd/precise-code-intel-worker" xlink:title="Indexer" target="_blank">
<polygon fill="#bebada" stroke="black" points="285.5,-227.38 230.5,-227.38 230.5,-191.38 285.5,-191.38 285.5,-227.38"/>
<text text-anchor="middle" x="258" y="-206.88" font-family="Iosevka" font-size="10.00">Indexer</text>
</a>
</g>
</g>
<!-- indexer&#45;&gt;dbs -->
<g id="edge7" class="edge">
<title>indexer:s&#45;&gt;dbs:n</title>
<path fill="none" stroke="black" stroke-width="0.6" d="M258,-191.38C258,-191.38 322.73,-125.34 347.51,-100.06"/>
<polygon fill="#fdb462" stroke="black" stroke-width="0.6" points="350.92,-103.32 357,-90.38 344.18,-96.71 350.92,-103.32"/>
</g>
<!-- worker -->
<g id="node4" class="node">
<title>worker</title>
<g id="a_node4"><a xlink:href="https://github.com/sourcegraph/sourcegraph/tree/master/enterprise/cmd/precise-code-intel-worker" xlink:title="Worker" target="_blank">
<polygon fill="#fb8072" stroke="black" points="201,-227.38 147,-227.38 147,-191.38 201,-191.38 201,-227.38"/>
<text text-anchor="middle" x="174" y="-206.88" font-family="Iosevka" font-size="10.00">Worker</text>
</a>
</g>
</g>
<!-- worker&#45;&gt;dbs -->
<g id="edge8" class="edge">
<title>worker:s&#45;&gt;dbs:n</title>
<path fill="none" stroke="black" stroke-width="0.6" d="M174,-191.38C174,-191.38 304.28,-119.47 344.99,-97"/>
<polygon fill="#fdb462" stroke="black" stroke-width="0.6" points="347.46,-101.04 357,-90.38 342.9,-92.76 347.46,-101.04"/>
</g>
<!-- http_api -->
<g id="node5" class="node">
<title>http_api</title>
<g id="a_node5"><a xlink:href="https://github.com/sourcegraph/sourcegraph/tree/master/enterprise/internal/codeintel/httpapi" xlink:title="LSIF upload endpoint" target="_blank">
<polygon fill="#80b1d3" stroke="black" points="141.5,-364.38 26.5,-364.38 26.5,-328.38 141.5,-328.38 141.5,-364.38"/>
<text text-anchor="middle" x="84" y="-343.88" font-family="Iosevka" font-size="10.00">LSIF upload endpoint</text>
</a>
</g>
</g>
<!-- http_api&#45;&gt;bundle_manager -->
<g id="edge2" class="edge">
<title>http_api:s&#45;&gt;bundle_manager:n</title>
<path fill="none" stroke="black" stroke-width="0.6" d="M84,-327.38C84,-327.38 76.38,-269.34 72.81,-242.14"/>
<polygon fill="#8dd3c7" stroke="black" stroke-width="0.6" points="77.44,-241.14 71,-228.38 68.07,-242.38 77.44,-241.14"/>
</g>
<!-- http_api&#45;&gt;dbs -->
<g id="edge5" class="edge">
<title>http_api:s&#45;&gt;dbs:n</title>
<path fill="none" stroke="black" stroke-width="0.6" d="M84,-327.38C84,-327.38 301,-243.38 301,-243.38 301,-243.38 338.86,-139.93 352.32,-103.16"/>
<polygon fill="#fdb462" stroke="black" stroke-width="0.6" points="356.8,-104.68 357,-90.38 347.92,-101.43 356.8,-104.68"/>
</g>
<!-- graphql_resolvers -->
<g id="node6" class="node">
<title>graphql_resolvers</title>
<g id="a_node6"><a xlink:href="https://github.com/sourcegraph/sourcegraph/tree/master/enterprise/internal/codeintel/resolvers/graphql" xlink:title="GraphQL resolvers" target="_blank">
<polygon fill="#80b1d3" stroke="black" points="275,-364.38 171,-364.38 171,-328.38 275,-328.38 275,-364.38"/>
<text text-anchor="middle" x="223" y="-343.88" font-family="Iosevka" font-size="10.00">GraphQL resolvers</text>
</a>
</g>
</g>
<!-- graphql_resolvers&#45;&gt;bundle_manager -->
<g id="edge1" class="edge">
<title>graphql_resolvers:s&#45;&gt;bundle_manager:n</title>
<path fill="none" stroke="black" stroke-width="0.6" d="M223,-327.38C223,-327.38 117.77,-258.84 82.42,-235.82"/>
<polygon fill="#8dd3c7" stroke="black" stroke-width="0.6" points="84.89,-231.78 71,-228.38 79.73,-239.7 84.89,-231.78"/>
</g>
<!-- graphql_resolvers&#45;&gt;dbs -->
<g id="edge4" class="edge">
<title>graphql_resolvers:s&#45;&gt;dbs:n</title>
<path fill="none" stroke="black" stroke-width="0.6" d="M223,-327.38C223,-327.38 352,-243.38 352,-243.38 352,-243.38 355.33,-141.4 356.56,-103.95"/>
<polygon fill="#fdb462" stroke="black" stroke-width="0.6" points="361.28,-104.02 357,-90.38 351.84,-103.71 361.28,-104.02"/>
</g>
</g>
</svg>
