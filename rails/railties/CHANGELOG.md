*   Enable YJIT by default on new application running Ruby 3.3+

    Adds a `config/initializers/enable_yjit.rb` initializer that enable YJIT
    when running on Ruby 3.3+.

    *Jean Boussier*

*   In Action Mailer previews, show date from message `Date` header if present.

    *Sampat Badhe*

*   Exit with non-zero status when the migration generator fails.

    *Katsuhiko YOSHIDA*

*   Use numeric UID and GID in Dockerfile template

    The Dockerfile generated by `rails new` sets the default user and group
    by name instead of UID:GID. This can cause the following error in kubernetes:

    ```
    container has runAsNonRoot and image has non-numeric user (rails), cannot verify user is non-root
    ```

    This change sets default user and group by their numeric values.

    *Ivan Fedotov*

*   Disallow invalid values for rails new options.

    The `--database`, `--asset-pipeline`, `--css`, and `--javascript` flags for
    `rails new` can all take different options. This change adds checks to
    options to make sure the user enters the correct value.

    *Tony Drake*, *Akhil G Krishnan*, *Petrik de Heus*

*   Conditionally print `$stdout` when invoking `run_generator`

    In an effort to improve the developer experience when debugging
    generator tests, we add the ability to conditionally print `$stdout`
    instead of capturing it.

    This allows for calls to `binding.irb` and `puts` work as expected.

    ```sh
    RAILS_LOG_TO_STDOUT=true ./bin/test test/generators/actions_test.rb
    ```

    *Steve Polito*

*   Remove the option `config.public_file_server.enabled` from the generators
    for all environments, as the value is the same in all environments.

    *Adrian Hirt*

Please check [7-1-stable](https://github.com/rails/rails/blob/7-1-stable/railties/CHANGELOG.md) for previous changes.
